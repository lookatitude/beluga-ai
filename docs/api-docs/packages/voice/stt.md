---
title: stt
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# stt

```go
import "github.com/lookatitude/beluga-ai/pkg/voice/stt"
```

Package stt provides interfaces and implementations for Speech-to-Text (STT) operations. This package follows the Beluga AI Framework's design patterns for consistency, extensibility, configuration management, and observability.

Package stt provides advanced test utilities and comprehensive mocks for testing STT implementations. This file contains utilities designed to support both unit tests and integration tests.

## Index

- [Constants](<#constants>)
- [`func AssertSTTProviderInterface(t *testing.T, provider iface.STTProvider)`](<#AssertSTTProviderInterface>)
- [`func InitMetrics(meter metric.Meter, tracer trace.Tracer)`](<#InitMetrics>)
- [`func IsRetryableError(err error) bool`](<#IsRetryableError>)
- [`func NewProvider(ctx context.Context, providerName string, config *Config, opts ...ConfigOption) (iface.STTProvider, error)`](<#NewProvider>)
- [type AdvancedMockSTTProvider](<#AdvancedMockSTTProvider>)
  - [`func NewAdvancedMockSTTProvider(providerName string, opts ...MockOption) *AdvancedMockSTTProvider`](<#NewAdvancedMockSTTProvider>)
  - [`func (m *AdvancedMockSTTProvider) GetCallCount() int`](<#AdvancedMockSTTProvider.GetCallCount>)
  - [`func (m *AdvancedMockSTTProvider) StartStreaming(ctx context.Context) (iface.StreamingSession, error)`](<#AdvancedMockSTTProvider.StartStreaming>)
  - [`func (m *AdvancedMockSTTProvider) Transcribe(ctx context.Context, audio []byte) (string, error)`](<#AdvancedMockSTTProvider.Transcribe>)
- [type Config](<#Config>)
  - [`func DefaultConfig() *Config`](<#DefaultConfig>)
  - [`func (c *Config) Validate() error`](<#Config.Validate>)
- [type ConfigOption](<#ConfigOption>)
  - [`func WithAPIKey(apiKey string) ConfigOption`](<#WithAPIKey>)
  - [`func WithBaseURL(baseURL string) ConfigOption`](<#WithBaseURL>)
  - [`func WithChannels(channels int) ConfigOption`](<#WithChannels>)
  - [`func WithEnableStreaming(enable bool) ConfigOption`](<#WithEnableStreaming>)
  - [`func WithLanguage(language string) ConfigOption`](<#WithLanguage>)
  - [`func WithModel(model string) ConfigOption`](<#WithModel>)
  - [`func WithProvider(provider string) ConfigOption`](<#WithProvider>)
  - [`func WithSampleRate(sampleRate int) ConfigOption`](<#WithSampleRate>)
  - [`func WithTimeout(timeout time.Duration) ConfigOption`](<#WithTimeout>)
- [type Metrics](<#Metrics>)
  - [`func GetMetrics() *Metrics`](<#GetMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) *Metrics`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) DecrementActiveStreams(ctx context.Context, provider, model string)`](<#Metrics.DecrementActiveStreams>)
  - [`func (m *Metrics) IncrementActiveStreams(ctx context.Context, provider, model string)`](<#Metrics.IncrementActiveStreams>)
  - [`func (m *Metrics) RecordError(ctx context.Context, provider, model, errorCode string, duration time.Duration)`](<#Metrics.RecordError>)
  - [`func (m *Metrics) RecordStreaming(ctx context.Context, provider, model string, duration time.Duration)`](<#Metrics.RecordStreaming>)
  - [`func (m *Metrics) RecordTranscription(ctx context.Context, provider, model string, duration time.Duration)`](<#Metrics.RecordTranscription>)
- [type MetricsRecorder](<#MetricsRecorder>)
- [type MockOption](<#MockOption>)
  - [`func WithError(err error) MockOption`](<#WithError>)
  - [`func WithNetworkDelay(enabled bool) MockOption`](<#WithNetworkDelay>)
  - [`func WithProviderName(name string) MockOption`](<#WithProviderName>)
  - [`func WithStreamingDelay(delay time.Duration) MockOption`](<#WithStreamingDelay>)
  - [`func WithTranscriptions(transcriptions ...string) MockOption`](<#WithTranscriptions>)
- [type MockStreamingSession](<#MockStreamingSession>)
  - [`func NewMockStreamingSession(ctx context.Context, delay time.Duration, transcriptions []string) *MockStreamingSession`](<#NewMockStreamingSession>)
  - [`func (m *MockStreamingSession) Close() error`](<#MockStreamingSession.Close>)
  - [`func (m *MockStreamingSession) ReceiveTranscript() <-chan iface.TranscriptResult`](<#MockStreamingSession.ReceiveTranscript>)
  - [`func (m *MockStreamingSession) SendAudio(ctx context.Context, audio []byte) error`](<#MockStreamingSession.SendAudio>)
- [type Registry](<#Registry>)
  - [`func GetRegistry() *Registry`](<#GetRegistry>)
  - [`func (r *Registry) GetProvider(name string, config *Config) (iface.STTProvider, error)`](<#Registry.GetProvider>)
  - [`func (r *Registry) IsRegistered(name string) bool`](<#Registry.IsRegistered>)
  - [`func (r *Registry) ListProviders() []string`](<#Registry.ListProviders>)
  - [`func (r *Registry) Register(name string, factory func(*Config) (iface.STTProvider, error))`](<#Registry.Register>)
- [type STTError](<#STTError>)
  - [`func ErrorFromHTTPStatus(op string, statusCode int, err error) *STTError`](<#ErrorFromHTTPStatus>)
  - [`func NewSTTError(op, code string, err error) *STTError`](<#NewSTTError>)
  - [`func NewSTTErrorWithDetails(op, code, message string, err error, details map[string]any) *STTError`](<#NewSTTErrorWithDetails>)
  - [`func NewSTTErrorWithMessage(op, code, message string, err error) *STTError`](<#NewSTTErrorWithMessage>)
  - [`func (e *STTError) Error() string`](<#STTError.Error>)
  - [`func (e *STTError) Unwrap() error`](<#STTError.Unwrap>)

## Constants

<a name="ErrCodeInvalidConfig"></a>Error codes for STT operations.

```go
const (
    // General errors.
    ErrCodeInvalidConfig  = "invalid_config"
    ErrCodeNetworkError   = "network_error"
    ErrCodeTimeout        = "timeout"
    ErrCodeRateLimit      = "rate_limit"
    ErrCodeQuotaExceeded  = "quota_exceeded"
    ErrCodeAuthentication = "authentication_error"
    ErrCodeAuthorization  = "authorization_error"
    ErrCodeNotFound       = "not_found"
    ErrCodeInternalError  = "internal_error"
    ErrCodeInvalidInput   = "invalid_input"

    // Provider-specific errors.
    ErrCodeUnsupportedProvider = "unsupported_provider"
    ErrCodeInvalidModel        = "invalid_model"
    ErrCodeModelNotAvailable   = "model_not_available"

    // Request/Response errors.
    ErrCodeInvalidRequest    = "invalid_request"
    ErrCodeInvalidResponse   = "invalid_response"
    ErrCodeEmptyResponse     = "empty_response"
    ErrCodeMalformedResponse = "malformed_response"

    // Streaming errors.
    ErrCodeStreamError   = "stream_error"
    ErrCodeStreamTimeout = "stream_timeout"
    ErrCodeStreamClosed  = "stream_closed"

    // Context errors.
    ErrCodeContextCanceled = "context_canceled"
    ErrCodeContextTimeout  = "context_timeout"
)
```

<a name="AssertSTTProviderInterface"></a>
## func [AssertSTTProviderInterface](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L242>)

```go
func AssertSTTProviderInterface(t *testing.T, provider iface.STTProvider)
```

AssertSTTProviderInterface ensures that a type implements the STTProvider interface.

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/stt.go#L34>)

```go
func InitMetrics(meter metric.Meter, tracer trace.Tracer)
```

InitMetrics initializes the global metrics instance for STT operations. This should be called once during application startup to enable metrics collection.

Parameters:

- meter: OpenTelemetry meter for creating metrics instruments

Example:

```
meter := otel.Meter("beluga.voice.stt")
stt.InitMetrics(meter)
```

Example usage can be found in examples/voice/stt/main.go

<a name="IsRetryableError"></a>
## func [IsRetryableError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L101>)

```go
func IsRetryableError(err error) bool
```

IsRetryableError checks if an error is retryable.

<a name="NewProvider"></a>
## func [NewProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/stt.go#L85>)

```go
func NewProvider(ctx context.Context, providerName string, config *Config, opts ...ConfigOption) (iface.STTProvider, error)
```

NewProvider creates a new STT provider instance based on the configuration. It uses the global registry to find and instantiate the appropriate provider. Supported providers include: deepgram, azure, google, openai, whisper, etc.

Parameters:

- ctx: Context for cancellation and timeout control
- providerName: Name of the STT provider to use (e.g., "deepgram", "azure")
- config: STT configuration (can be nil to use defaults)
- opts: Optional configuration functions to customize the config

Returns:

- iface.STTProvider: A new STT provider instance ready to use
- error: Configuration validation errors or provider creation errors

Example:

```
config := stt.DefaultConfig()
provider, err := stt.NewProvider(ctx, "deepgram", config,
    stt.WithAPIKey("your-api-key"),
    stt.WithLanguage("en-US"),
)
if err != nil {
    log.Fatal(err)
}
transcript, err := provider.Transcribe(ctx, audioData)
```

Example usage can be found in examples/voice/stt/main.go

<a name="AdvancedMockSTTProvider"></a>
## type [AdvancedMockSTTProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L18-L30>)

AdvancedMockSTTProvider provides a comprehensive mock implementation for testing.

```go
type AdvancedMockSTTProvider struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockSTTProvider"></a>
### func [NewAdvancedMockSTTProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L33>)

```go
func NewAdvancedMockSTTProvider(providerName string, opts ...MockOption) *AdvancedMockSTTProvider
```

NewAdvancedMockSTTProvider creates a new advanced mock with configurable behavior.

<a name="AdvancedMockSTTProvider.GetCallCount"></a>
### func (*AdvancedMockSTTProvider) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L156>)

```go
func (m *AdvancedMockSTTProvider) GetCallCount() int
```

GetCallCount returns the number of times Transcribe has been called.

<a name="AdvancedMockSTTProvider.StartStreaming"></a>
### func (*AdvancedMockSTTProvider) [StartStreaming](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L125>)

```go
func (m *AdvancedMockSTTProvider) StartStreaming(ctx context.Context) (iface.StreamingSession, error)
```

StartStreaming implements the STTProvider interface.

<a name="AdvancedMockSTTProvider.Transcribe"></a>
### func (*AdvancedMockSTTProvider) [Transcribe](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L89>)

```go
func (m *AdvancedMockSTTProvider) Transcribe(ctx context.Context, audio []byte) (string, error)
```

Transcribe implements the STTProvider interface.

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L12-L29>)

Config represents the configuration for STT providers. It includes common settings that apply to all STT providers.

```go
type Config struct {
    ProviderSpecific        map[string]any `mapstructure:"provider_specific" yaml:"provider_specific"`
    Language                string         `mapstructure:"language" yaml:"language" validate:"omitempty,len=2"`
    BaseURL                 string         `mapstructure:"base_url" yaml:"base_url"`
    Model                   string         `mapstructure:"model" yaml:"model"`
    Provider                string         `mapstructure:"provider" yaml:"provider" validate:"required,oneof=deepgram google azure openai"`
    APIKey                  string         `mapstructure:"api_key" yaml:"api_key" validate:"required_unless=Provider mock"`
    RetryBackoff            float64        `mapstructure:"retry_backoff" yaml:"retry_backoff" default:"2.0" validate:"gte=1,lte=5"`
    SampleRate              int            `mapstructure:"sample_rate" yaml:"sample_rate" default:"16000" validate:"oneof=8000 16000 48000"`
    MaxRetries              int            `mapstructure:"max_retries" yaml:"max_retries" default:"3" validate:"gte=0,lte=10"`
    Channels                int            `mapstructure:"channels" yaml:"channels" default:"1" validate:"oneof=1 2"`
    RetryDelay              time.Duration  `mapstructure:"retry_delay" yaml:"retry_delay" default:"1s" validate:"min=100ms,max=30s"`
    Timeout                 time.Duration  `mapstructure:"timeout" yaml:"timeout" default:"30s" validate:"min=1s,max=5m"`
    EnableStreaming         bool           `mapstructure:"enable_streaming" yaml:"enable_streaming" default:"true"`
    EnableTracing           bool           `mapstructure:"enable_tracing" yaml:"enable_tracing" default:"true"`
    EnableMetrics           bool           `mapstructure:"enable_metrics" yaml:"enable_metrics" default:"true"`
    EnableStructuredLogging bool           `mapstructure:"enable_structured_logging" yaml:"enable_structured_logging" default:"true"`
}
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L107>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration.

<a name="Config.Validate"></a>
### func (*Config) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L98>)

```go
func (c *Config) Validate() error
```

Validate validates the configuration.

<a name="ConfigOption"></a>
## type [ConfigOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L32>)

ConfigOption is a functional option for configuring STT instances.

```go
type ConfigOption func(*Config)
```

<a name="WithAPIKey"></a>
### func [WithAPIKey](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L42>)

```go
func WithAPIKey(apiKey string) ConfigOption
```

WithAPIKey sets the API key.

<a name="WithBaseURL"></a>
### func [WithBaseURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L49>)

```go
func WithBaseURL(baseURL string) ConfigOption
```

WithBaseURL sets the base URL.

<a name="WithChannels"></a>
### func [WithChannels](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L84>)

```go
func WithChannels(channels int) ConfigOption
```

WithChannels sets the number of channels.

<a name="WithEnableStreaming"></a>
### func [WithEnableStreaming](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L91>)

```go
func WithEnableStreaming(enable bool) ConfigOption
```

WithEnableStreaming sets streaming enablement.

<a name="WithLanguage"></a>
### func [WithLanguage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L63>)

```go
func WithLanguage(language string) ConfigOption
```

WithLanguage sets the language.

<a name="WithModel"></a>
### func [WithModel](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L56>)

```go
func WithModel(model string) ConfigOption
```

WithModel sets the model.

<a name="WithProvider"></a>
### func [WithProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L35>)

```go
func WithProvider(provider string) ConfigOption
```

WithProvider sets the STT provider.

<a name="WithSampleRate"></a>
### func [WithSampleRate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L77>)

```go
func WithSampleRate(sampleRate int) ConfigOption
```

WithSampleRate sets the sample rate.

<a name="WithTimeout"></a>
### func [WithTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/config.go#L70>)

```go
func WithTimeout(timeout time.Duration) ConfigOption
```

WithTimeout sets the timeout.

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L31-L41>)

Metrics contains all the metrics for STT operations.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/stt.go#L54>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance. Returns nil if InitMetrics has not been called.

Returns:

- *Metrics: The global metrics instance, or nil if not initialized

Example:

```
metrics := stt.GetMetrics()
if metrics != nil {
    // Use metrics
}
```

Example usage can be found in examples/voice/stt/main.go

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L44>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) *Metrics
```

NewMetrics creates a new Metrics instance.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L24>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.DecrementActiveStreams"></a>
### func (*Metrics) [DecrementActiveStreams](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L135>)

```go
func (m *Metrics) DecrementActiveStreams(ctx context.Context, provider, model string)
```

DecrementActiveStreams decrements the active streams counter.

<a name="Metrics.IncrementActiveStreams"></a>
### func (*Metrics) [IncrementActiveStreams](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L123>)

```go
func (m *Metrics) IncrementActiveStreams(ctx context.Context, provider, model string)
```

IncrementActiveStreams increments the active streams counter.

<a name="Metrics.RecordError"></a>
### func (*Metrics) [RecordError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L85>)

```go
func (m *Metrics) RecordError(ctx context.Context, provider, model, errorCode string, duration time.Duration)
```

RecordError records an error.

<a name="Metrics.RecordStreaming"></a>
### func (*Metrics) [RecordStreaming](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L106>)

```go
func (m *Metrics) RecordStreaming(ctx context.Context, provider, model string, duration time.Duration)
```

RecordStreaming records a streaming operation.

<a name="Metrics.RecordTranscription"></a>
### func (*Metrics) [RecordTranscription](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L65>)

```go
func (m *Metrics) RecordTranscription(ctx context.Context, provider, model string, duration time.Duration)
```

RecordTranscription records a transcription operation.

<a name="MetricsRecorder"></a>
## type [MetricsRecorder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/metrics.go#L14-L20>)

MetricsRecorder defines the interface for recording metrics.

```go
type MetricsRecorder interface {
    RecordTranscription(ctx context.Context, provider, model string, duration time.Duration)
    RecordError(ctx context.Context, provider, model, errorCode string, duration time.Duration)
    RecordStreaming(ctx context.Context, provider, model string, duration time.Duration)
    IncrementActiveStreams(ctx context.Context, provider, model string)
    DecrementActiveStreams(ctx context.Context, provider, model string)
}
```

<a name="MockOption"></a>
## type [MockOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L50>)

MockOption configures the behavior of AdvancedMockSTTProvider.

```go
type MockOption func(*AdvancedMockSTTProvider)
```

<a name="WithError"></a>
### func [WithError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L67>)

```go
func WithError(err error) MockOption
```

WithError configures the mock to return an error.

<a name="WithNetworkDelay"></a>
### func [WithNetworkDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L82>)

```go
func WithNetworkDelay(enabled bool) MockOption
```

WithNetworkDelay enables network delay simulation.

<a name="WithProviderName"></a>
### func [WithProviderName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L53>)

```go
func WithProviderName(name string) MockOption
```

WithProviderName sets the provider name.

<a name="WithStreamingDelay"></a>
### func [WithStreamingDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L75>)

```go
func WithStreamingDelay(delay time.Duration) MockOption
```

WithStreamingDelay sets the delay between streaming chunks.

<a name="WithTranscriptions"></a>
### func [WithTranscriptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L60>)

```go
func WithTranscriptions(transcriptions ...string) MockOption
```

WithTranscriptions sets the transcriptions to return.

<a name="MockStreamingSession"></a>
## type [MockStreamingSession](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L163-L171>)

MockStreamingSession provides a mock implementation of StreamingSession.

```go
type MockStreamingSession struct {
    // contains filtered or unexported fields
}
```

<a name="NewMockStreamingSession"></a>
### func [NewMockStreamingSession](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L174>)

```go
func NewMockStreamingSession(ctx context.Context, delay time.Duration, transcriptions []string) *MockStreamingSession
```

NewMockStreamingSession creates a new mock streaming session.

<a name="MockStreamingSession.Close"></a>
### func (*MockStreamingSession) [Close](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L230>)

```go
func (m *MockStreamingSession) Close() error
```

Close implements the StreamingSession interface.

<a name="MockStreamingSession.ReceiveTranscript"></a>
### func (*MockStreamingSession) [ReceiveTranscript](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L225>)

```go
func (m *MockStreamingSession) ReceiveTranscript() <-chan iface.TranscriptResult
```

ReceiveTranscript implements the StreamingSession interface.

<a name="MockStreamingSession.SendAudio"></a>
### func (*MockStreamingSession) [SendAudio](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/test_utils.go#L214>)

```go
func (m *MockStreamingSession) SendAudio(ctx context.Context, audio []byte) error
```

SendAudio implements the StreamingSession interface.

<a name="Registry"></a>
## type [Registry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L17-L20>)

Registry manages STT provider registration and retrieval.

```go
type Registry struct {
    // contains filtered or unexported fields
}
```

<a name="GetRegistry"></a>
### func [GetRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L23>)

```go
func GetRegistry() *Registry
```

GetRegistry returns the global registry instance.

<a name="Registry.GetProvider"></a>
### func (*Registry) [GetProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L40>)

```go
func (r *Registry) GetProvider(name string, config *Config) (iface.STTProvider, error)
```

GetProvider returns a provider instance for the given name.

<a name="Registry.IsRegistered"></a>
### func (*Registry) [IsRegistered](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L66>)

```go
func (r *Registry) IsRegistered(name string) bool
```

IsRegistered checks if a provider is registered.

<a name="Registry.ListProviders"></a>
### func (*Registry) [ListProviders](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L54>)

```go
func (r *Registry) ListProviders() []string
```

ListProviders returns a list of all registered provider names.

<a name="Registry.Register"></a>
### func (*Registry) [Register](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/registry.go#L33>)

```go
func (r *Registry) Register(name string, factory func(*Config) (iface.STTProvider, error))
```

Register registers a provider factory function.

<a name="STTError"></a>
## type [STTError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L46-L52>)

STTError represents an error that occurred during STT operations. It includes an operation name, underlying error, and error code for programmatic handling.

```go
type STTError struct {
    Err     error
    Details map[string]any
    Op      string
    Code    string
    Message string
}
```

<a name="ErrorFromHTTPStatus"></a>
### func [ErrorFromHTTPStatus](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L121>)

```go
func ErrorFromHTTPStatus(op string, statusCode int, err error) *STTError
```

ErrorFromHTTPStatus creates an STTError from an HTTP status code.

<a name="NewSTTError"></a>
### func [NewSTTError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L71>)

```go
func NewSTTError(op, code string, err error) *STTError
```

NewSTTError creates a new STTError.

<a name="NewSTTErrorWithDetails"></a>
### func [NewSTTErrorWithDetails](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L90>)

```go
func NewSTTErrorWithDetails(op, code, message string, err error, details map[string]any) *STTError
```

NewSTTErrorWithDetails creates a new STTError with additional details.

<a name="NewSTTErrorWithMessage"></a>
### func [NewSTTErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L80>)

```go
func NewSTTErrorWithMessage(op, code, message string, err error) *STTError
```

NewSTTErrorWithMessage creates a new STTError with a custom message.

<a name="STTError.Error"></a>
### func (*STTError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L55>)

```go
func (e *STTError) Error() string
```

Error implements the error interface.

<a name="STTError.Unwrap"></a>
### func (*STTError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/stt/errors.go#L66>)

```go
func (e *STTError) Unwrap() error
```

Unwrap returns the underlying error.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
