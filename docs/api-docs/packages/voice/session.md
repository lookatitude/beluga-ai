---
title: session
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# session

```go
import "github.com/lookatitude/beluga-ai/pkg/voice/session"
```

Package session provides interfaces and implementations for Voice Session management. This package follows the Beluga AI Framework's design patterns for consistency, extensibility, configuration management, and observability.

Package session provides advanced test utilities and comprehensive mocks for testing Session implementations.

## Index

- [Constants](<#constants>)
- [`func AssertAgentState(t *testing.T, instance *AdvancedMockAgentInstance, expectedState AgentState)`](<#AssertAgentState>)
- [`func AssertSessionInterface(t *testing.T, s iface.VoiceSession)`](<#AssertSessionInterface>)
- [`func AssertStreamingActive(t *testing.T, instance *AdvancedMockAgentInstance, expectedActive bool)`](<#AssertStreamingActive>)
- [`func CreateTestSessionWithAgent(sessionID string, agentInstance *AdvancedMockAgentInstance) (*AdvancedMockSession, *MockStreamingAgentIntegration)`](<#CreateTestSessionWithAgent>)
- [`func InitMetrics(meter metric.Meter, tracer trace.Tracer)`](<#InitMetrics>)
- [`func IsRetryableError(err error) bool`](<#IsRetryableError>)
- [`func NewVoiceSession(ctx context.Context, opts ...VoiceOption) (iface.VoiceSession, error)`](<#NewVoiceSession>)
- [type AdvancedMockAgentInstance](<#AdvancedMockAgentInstance>)
  - [`func NewAdvancedMockAgentInstance(agent, config any, options ...MockAgentInstanceOption) *AdvancedMockAgentInstance`](<#NewAdvancedMockAgentInstance>)
  - [`func (a *AdvancedMockAgentInstance) GetContext() *AgentContext`](<#AdvancedMockAgentInstance.GetContext>)
  - [`func (a *AdvancedMockAgentInstance) GetInterruptionCount() int`](<#AdvancedMockAgentInstance.GetInterruptionCount>)
  - [`func (a *AdvancedMockAgentInstance) GetState() AgentState`](<#AdvancedMockAgentInstance.GetState>)
  - [`func (a *AdvancedMockAgentInstance) IncrementInterruptionCount()`](<#AdvancedMockAgentInstance.IncrementInterruptionCount>)
  - [`func (a *AdvancedMockAgentInstance) IsStreamingActive() bool`](<#AdvancedMockAgentInstance.IsStreamingActive>)
  - [`func (a *AdvancedMockAgentInstance) SetState(state AgentState)`](<#AdvancedMockAgentInstance.SetState>)
  - [`func (a *AdvancedMockAgentInstance) SetStreamingActive(active bool)`](<#AdvancedMockAgentInstance.SetStreamingActive>)
- [type AdvancedMockSession](<#AdvancedMockSession>)
  - [`func NewAdvancedMockSession(sessionID string, opts ...MockOption) *AdvancedMockSession`](<#NewAdvancedMockSession>)
  - [`func (m *AdvancedMockSession) GetCallCount() int`](<#AdvancedMockSession.GetCallCount>)
  - [`func (m *AdvancedMockSession) GetSessionID() string`](<#AdvancedMockSession.GetSessionID>)
  - [`func (m *AdvancedMockSession) GetState() iface.SessionState`](<#AdvancedMockSession.GetState>)
  - [`func (m *AdvancedMockSession) IsActive() bool`](<#AdvancedMockSession.IsActive>)
  - [`func (m *AdvancedMockSession) OnStateChanged(callback func(iface.SessionState))`](<#AdvancedMockSession.OnStateChanged>)
  - [`func (m *AdvancedMockSession) ProcessAudio(ctx context.Context, audio []byte) error`](<#AdvancedMockSession.ProcessAudio>)
  - [`func (m *AdvancedMockSession) Say(ctx context.Context, text string) (iface.SayHandle, error)`](<#AdvancedMockSession.Say>)
  - [`func (m *AdvancedMockSession) SayWithOptions(ctx context.Context, text string, options iface.SayOptions) (iface.SayHandle, error)`](<#AdvancedMockSession.SayWithOptions>)
  - [`func (m *AdvancedMockSession) Start(ctx context.Context) error`](<#AdvancedMockSession.Start>)
  - [`func (m *AdvancedMockSession) Stop(ctx context.Context) error`](<#AdvancedMockSession.Stop>)
- [type AgentContext](<#AgentContext>)
  - [`func CreateTestAgentContext() *AgentContext`](<#CreateTestAgentContext>)
- [type AgentState](<#AgentState>)
- [type AgentStreamChunk](<#AgentStreamChunk>)
- [type Config](<#Config>)
  - [`func DefaultConfig() *Config`](<#DefaultConfig>)
  - [`func (c *Config) Validate() error`](<#Config.Validate>)
- [type ConfigOption](<#ConfigOption>)
  - [`func WithAutoStart(autoStart bool) ConfigOption`](<#WithAutoStart>)
  - [`func WithEnableKeepAlive(enable bool) ConfigOption`](<#WithEnableKeepAlive>)
  - [`func WithKeepAliveInterval(interval time.Duration) ConfigOption`](<#WithKeepAliveInterval>)
  - [`func WithMaxRetries(maxRetries int) ConfigOption`](<#WithMaxRetries>)
  - [`func WithSessionID(id string) ConfigOption`](<#WithSessionID>)
  - [`func WithTimeout(timeout time.Duration) ConfigOption`](<#WithTimeout>)
- [type Metrics](<#Metrics>)
  - [`func GetMetrics() *Metrics`](<#GetMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) *Metrics`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) DecrementActiveSessions(ctx context.Context)`](<#Metrics.DecrementActiveSessions>)
  - [`func (m *Metrics) IncrementActiveSessions(ctx context.Context)`](<#Metrics.IncrementActiveSessions>)
  - [`func (m *Metrics) RecordAgentOperation(ctx context.Context, sessionID string, latency time.Duration)`](<#Metrics.RecordAgentOperation>)
  - [`func (m *Metrics) RecordAgentStreamingChunk(ctx context.Context, sessionID string, duration time.Duration)`](<#Metrics.RecordAgentStreamingChunk>)
  - [`func (m *Metrics) RecordAgentToolExecution(ctx context.Context, sessionID, toolName string, duration time.Duration)`](<#Metrics.RecordAgentToolExecution>)
  - [`func (m *Metrics) RecordSessionError(ctx context.Context, sessionID, errorCode string, duration time.Duration)`](<#Metrics.RecordSessionError>)
  - [`func (m *Metrics) RecordSessionStart(ctx context.Context, sessionID string, duration time.Duration)`](<#Metrics.RecordSessionStart>)
  - [`func (m *Metrics) RecordSessionStop(ctx context.Context, sessionID string, duration time.Duration)`](<#Metrics.RecordSessionStop>)
- [type MetricsRecorder](<#MetricsRecorder>)
- [type MockAgentInstanceOption](<#MockAgentInstanceOption>)
  - [`func WithAgentContext(ctx *AgentContext) MockAgentInstanceOption`](<#WithAgentContext>)
  - [`func WithAgentState(state AgentState) MockAgentInstanceOption`](<#WithAgentState>)
  - [`func WithStreamingChunks(chunks []AgentStreamChunk) MockAgentInstanceOption`](<#WithStreamingChunks>)
- [type MockOption](<#MockOption>)
  - [`func WithActive(active bool) MockOption`](<#WithActive>)
  - [`func WithError(err error) MockOption`](<#WithError>)
  - [`func WithMockSessionID(id string) MockOption`](<#WithMockSessionID>)
  - [`func WithNetworkDelay(enabled bool) MockOption`](<#WithNetworkDelay>)
  - [`func WithProcessingDelay(delay time.Duration) MockOption`](<#WithProcessingDelay>)
  - [`func WithStarted(started bool) MockOption`](<#WithStarted>)
- [type MockStreamingAgentIntegration](<#MockStreamingAgentIntegration>)
  - [`func NewMockStreamingAgentIntegration(agentInstance *AdvancedMockAgentInstance) *MockStreamingAgentIntegration`](<#NewMockStreamingAgentIntegration>)
  - [`func (m *MockStreamingAgentIntegration) GetAgentInstance() *AdvancedMockAgentInstance`](<#MockStreamingAgentIntegration.GetAgentInstance>)
  - [`func (m *MockStreamingAgentIntegration) IsStarted() bool`](<#MockStreamingAgentIntegration.IsStarted>)
  - [`func (m *MockStreamingAgentIntegration) Start(ctx context.Context) error`](<#MockStreamingAgentIntegration.Start>)
  - [`func (m *MockStreamingAgentIntegration) Stop(ctx context.Context) error`](<#MockStreamingAgentIntegration.Stop>)
- [type SayHandle](<#SayHandle>)
- [type SayOptions](<#SayOptions>)
- [type SessionError](<#SessionError>)
  - [`func NewAgentIntegrationError(op, code string, err error) *SessionError`](<#NewAgentIntegrationError>)
  - [`func NewSessionError(op, code string, err error) *SessionError`](<#NewSessionError>)
  - [`func NewSessionErrorWithDetails(op, code, message string, err error, details map[string]any) *SessionError`](<#NewSessionErrorWithDetails>)
  - [`func NewSessionErrorWithMessage(op, code, message string, err error) *SessionError`](<#NewSessionErrorWithMessage>)
  - [`func WrapAgentIntegrationError(op, code string, err error) *SessionError`](<#WrapAgentIntegrationError>)
  - [`func (e *SessionError) Error() string`](<#SessionError.Error>)
  - [`func (e *SessionError) Unwrap() error`](<#SessionError.Unwrap>)
- [type SessionState](<#SessionState>)
- [type StreamingState](<#StreamingState>)
  - [`func CreateTestStreamingState() *StreamingState`](<#CreateTestStreamingState>)
- [type VoiceOption](<#VoiceOption>)
  - [`func WithAgentCallback(callback func(ctx context.Context, transcript string) (string, error)) VoiceOption`](<#WithAgentCallback>)
  - [`func WithAgentInstance(agent agentsiface.StreamingAgent, config *schema.AgentConfig) VoiceOption`](<#WithAgentInstance>)
  - [`func WithConfig(config *Config) VoiceOption`](<#WithConfig>)
  - [`func WithNoiseCancellation(noiseCancellation iface.NoiseCancellation) VoiceOption`](<#WithNoiseCancellation>)
  - [`func WithOnStateChanged(callback func(state SessionState)) VoiceOption`](<#WithOnStateChanged>)
  - [`func WithS2SProvider(provider s2siface.S2SProvider) VoiceOption`](<#WithS2SProvider>)
  - [`func WithSTTProvider(provider iface.STTProvider) VoiceOption`](<#WithSTTProvider>)
  - [`func WithTTSProvider(provider iface.TTSProvider) VoiceOption`](<#WithTTSProvider>)
  - [`func WithTransport(transport iface.Transport) VoiceOption`](<#WithTransport>)
  - [`func WithTurnDetector(detector iface.TurnDetector) VoiceOption`](<#WithTurnDetector>)
  - [`func WithVADProvider(provider iface.VADProvider) VoiceOption`](<#WithVADProvider>)
- [type VoiceOptions](<#VoiceOptions>)

## Constants

<a name="ErrCodeInvalidConfig"></a>Error codes for Session operations.

```go
const (
    // General errors.
    ErrCodeInvalidConfig = "invalid_config"
    ErrCodeInternalError = "internal_error"
    ErrCodeInvalidState  = "invalid_state"
    ErrCodeTimeout       = "timeout"

    // Session lifecycle errors.
    ErrCodeSessionNotFound      = "session_not_found"
    ErrCodeSessionAlreadyActive = "session_already_active"
    ErrCodeSessionNotActive     = "session_not_active"
    ErrCodeSessionExpired       = "session_expired"

    // Context errors.
    ErrCodeContextCanceled = "context_canceled"
    ErrCodeContextTimeout  = "context_timeout"

    // Agent integration error codes.
    ErrCodeAgentNotSet       = "agent_not_set"
    ErrCodeAgentInvalid      = "agent_invalid"
    ErrCodeStreamError       = "stream_error"
    ErrCodeContextError      = "context_error"
    ErrCodeInterruptionError = "interruption_error"
)
```

<a name="SessionStateInitial"></a>SessionState constants.

```go
const (
    SessionStateInitial    = iface.SessionStateInitial
    SessionStateListening  = iface.SessionStateListening
    SessionStateProcessing = iface.SessionStateProcessing
    SessionStateSpeaking   = iface.SessionStateSpeaking
    SessionStateAway       = iface.SessionStateAway
    SessionStateEnded      = iface.SessionStateEnded
)
```

<a name="AssertAgentState"></a>
## func [AssertAgentState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L515>)

```go
func AssertAgentState(t *testing.T, instance *AdvancedMockAgentInstance, expectedState AgentState)
```

AssertAgentState validates agent state transitions.

<a name="AssertSessionInterface"></a>
## func [AssertSessionInterface](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L250>)

```go
func AssertSessionInterface(t *testing.T, s iface.VoiceSession)
```

AssertSessionInterface ensures that a type implements the VoiceSession interface.

<a name="AssertStreamingActive"></a>
## func [AssertStreamingActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L521>)

```go
func AssertStreamingActive(t *testing.T, instance *AdvancedMockAgentInstance, expectedActive bool)
```

AssertStreamingActive validates streaming active state.

<a name="CreateTestSessionWithAgent"></a>
## func [CreateTestSessionWithAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L508>)

```go
func CreateTestSessionWithAgent(sessionID string, agentInstance *AdvancedMockAgentInstance) (*AdvancedMockSession, *MockStreamingAgentIntegration)
```

CreateTestSessionWithAgent creates a test session setup helper for agent integration.

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/session.go#L37>)

```go
func InitMetrics(meter metric.Meter, tracer trace.Tracer)
```

InitMetrics initializes the global metrics instance for Voice Session operations. This should be called once during application startup to enable metrics collection.

Parameters:

- meter: OpenTelemetry meter for creating metrics instruments

Example:

```
meter := otel.Meter("beluga.voice.session")
session.InitMetrics(meter)
```

Example usage can be found in examples/voice/session/main.go

<a name="IsRetryableError"></a>
## func [IsRetryableError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L91>)

```go
func IsRetryableError(err error) bool
```

IsRetryableError checks if an error is retryable.

<a name="NewVoiceSession"></a>
## func [NewVoiceSession](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/session.go#L93>)

```go
func NewVoiceSession(ctx context.Context, opts ...VoiceOption) (iface.VoiceSession, error)
```

NewVoiceSession creates a new VoiceSession instance based on the provided options. It validates the configuration and initializes all required components. A voice session manages the complete lifecycle of a voice interaction, including audio input/output, transcription, synthesis, and agent communication.

The session can operate in two modes:

- Traditional mode: Requires STT and TTS providers
- S2S mode: Uses a single Speech-to-Speech provider

Parameters:

- ctx: Context for cancellation and timeout control
- opts: Optional configuration functions (WithSTTProvider, WithTTSProvider, WithS2SProvider, etc.)

Returns:

- iface.VoiceSession: A new voice session instance ready to use
- error: Configuration validation errors or initialization errors

Example:

```
session, err := session.NewVoiceSession(ctx,
    session.WithSTTProvider(sttProvider),
    session.WithTTSProvider(ttsProvider),
    session.WithVADProvider(vadProvider),
    session.WithAgent(agent),
    session.WithConfig(session.DefaultConfig()),
)
if err != nil {
    log.Fatal(err)
}
err = session.Start(ctx)
```

Example usage can be found in examples/voice/session/main.go

<a name="AdvancedMockAgentInstance"></a>
## type [AdvancedMockAgentInstance](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L316-L325>)

AdvancedMockAgentInstance provides a comprehensive mock implementation for agent instances.

```go
type AdvancedMockAgentInstance struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockAgentInstance"></a>
### func [NewAdvancedMockAgentInstance](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L352>)

```go
func NewAdvancedMockAgentInstance(agent, config any, options ...MockAgentInstanceOption) *AdvancedMockAgentInstance
```

NewAdvancedMockAgentInstance creates a new advanced agent instance mock.

<a name="AdvancedMockAgentInstance.GetContext"></a>
### func (*AdvancedMockAgentInstance) [GetContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L389>)

```go
func (a *AdvancedMockAgentInstance) GetContext() *AgentContext
```

GetContext returns the agent context.

<a name="AdvancedMockAgentInstance.GetInterruptionCount"></a>
### func (*AdvancedMockAgentInstance) [GetInterruptionCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L417>)

```go
func (a *AdvancedMockAgentInstance) GetInterruptionCount() int
```

GetInterruptionCount returns the number of interruptions.

<a name="AdvancedMockAgentInstance.GetState"></a>
### func (*AdvancedMockAgentInstance) [GetState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L375>)

```go
func (a *AdvancedMockAgentInstance) GetState() AgentState
```

GetState returns the current agent state.

<a name="AdvancedMockAgentInstance.IncrementInterruptionCount"></a>
### func (*AdvancedMockAgentInstance) [IncrementInterruptionCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L410>)

```go
func (a *AdvancedMockAgentInstance) IncrementInterruptionCount()
```

IncrementInterruptionCount increments the interruption counter.

<a name="AdvancedMockAgentInstance.IsStreamingActive"></a>
### func (*AdvancedMockAgentInstance) [IsStreamingActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L396>)

```go
func (a *AdvancedMockAgentInstance) IsStreamingActive() bool
```

IsStreamingActive returns whether streaming is currently active.

<a name="AdvancedMockAgentInstance.SetState"></a>
### func (*AdvancedMockAgentInstance) [SetState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L382>)

```go
func (a *AdvancedMockAgentInstance) SetState(state AgentState)
```

SetState sets the agent state.

<a name="AdvancedMockAgentInstance.SetStreamingActive"></a>
### func (*AdvancedMockAgentInstance) [SetStreamingActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L403>)

```go
func (a *AdvancedMockAgentInstance) SetStreamingActive(active bool)
```

SetStreamingActive sets the streaming active flag.

<a name="AdvancedMockSession"></a>
## type [AdvancedMockSession](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L17-L29>)

AdvancedMockSession provides a comprehensive mock implementation for testing.

```go
type AdvancedMockSession struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockSession"></a>
### func [NewAdvancedMockSession](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L32>)

```go
func NewAdvancedMockSession(sessionID string, opts ...MockOption) *AdvancedMockSession
```

NewAdvancedMockSession creates a new advanced mock with configurable behavior.

<a name="AdvancedMockSession.GetCallCount"></a>
### func (*AdvancedMockSession) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L243>)

```go
func (m *AdvancedMockSession) GetCallCount() int
```

GetCallCount returns the number of times methods have been called.

<a name="AdvancedMockSession.GetSessionID"></a>
### func (*AdvancedMockSession) [GetSessionID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L200>)

```go
func (m *AdvancedMockSession) GetSessionID() string
```

GetSessionID implements the VoiceSession interface.

<a name="AdvancedMockSession.GetState"></a>
### func (*AdvancedMockSession) [GetState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L207>)

```go
func (m *AdvancedMockSession) GetState() iface.SessionState
```

GetState implements the VoiceSession interface.

<a name="AdvancedMockSession.IsActive"></a>
### func (*AdvancedMockSession) [IsActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L193>)

```go
func (m *AdvancedMockSession) IsActive() bool
```

IsActive implements the Session interface.

<a name="AdvancedMockSession.OnStateChanged"></a>
### func (*AdvancedMockSession) [OnStateChanged](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L238>)

```go
func (m *AdvancedMockSession) OnStateChanged(callback func(iface.SessionState))
```

OnStateChanged implements the VoiceSession interface.

<a name="AdvancedMockSession.ProcessAudio"></a>
### func (*AdvancedMockSession) [ProcessAudio](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L232>)

```go
func (m *AdvancedMockSession) ProcessAudio(ctx context.Context, audio []byte) error
```

ProcessAudio implements the VoiceSession interface.

<a name="AdvancedMockSession.Say"></a>
### func (*AdvancedMockSession) [Say](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L220>)

```go
func (m *AdvancedMockSession) Say(ctx context.Context, text string) (iface.SayHandle, error)
```

Say implements the VoiceSession interface.

<a name="AdvancedMockSession.SayWithOptions"></a>
### func (*AdvancedMockSession) [SayWithOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L226>)

```go
func (m *AdvancedMockSession) SayWithOptions(ctx context.Context, text string, options iface.SayOptions) (iface.SayHandle, error)
```

SayWithOptions implements the VoiceSession interface.

<a name="AdvancedMockSession.Start"></a>
### func (*AdvancedMockSession) [Start](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L96>)

```go
func (m *AdvancedMockSession) Start(ctx context.Context) error
```

Start implements the Session interface.

<a name="AdvancedMockSession.Stop"></a>
### func (*AdvancedMockSession) [Stop](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L149>)

```go
func (m *AdvancedMockSession) Stop(ctx context.Context) error
```

Stop implements the Session interface.

<a name="AgentContext"></a>
## type [AgentContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L298-L304>)

AgentContext represents the agent-specific context within a voice session. This type matches the contract definition from data-model.md.

```go
type AgentContext struct {
    LastInterruption    time.Time
    ConversationHistory []any
    ToolResults         []any
    CurrentPlan         []any
    StreamingActive     bool
}
```

<a name="CreateTestAgentContext"></a>
### func [CreateTestAgentContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L486>)

```go
func CreateTestAgentContext() *AgentContext
```

CreateTestAgentContext creates a test agent context.

<a name="AgentState"></a>
## type [AgentState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L273>)

AgentState represents the state of an agent in a voice session. This type matches the contract definition for agent state.

```go
type AgentState string
```

<a name="AgentStateIdle"></a>

```go
const (
    AgentStateIdle        AgentState = "idle"
    AgentStateListening   AgentState = "listening"
    AgentStateProcessing  AgentState = "processing"
    AgentStateStreaming   AgentState = "streaming"
    AgentStateExecuting   AgentState = "executing_tool"
    AgentStateSpeaking    AgentState = "speaking"
    AgentStateInterrupted AgentState = "interrupted"
)
```

<a name="AgentStreamChunk"></a>
## type [AgentStreamChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L287-L294>)

AgentStreamChunk represents a chunk of agent execution output. This matches the definition from pkg/agents for consistency.

```go
type AgentStreamChunk struct {
    Action    any
    Finish    any
    Err       error
    Metadata  map[string]any
    Content   string
    ToolCalls []any
}
```

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L12-L23>)

Config represents the configuration for Session providers. It includes common settings that apply to all Session providers.

```go
type Config struct {
    SessionID               string        `mapstructure:"session_id" yaml:"session_id"`
    Timeout                 time.Duration `mapstructure:"timeout" yaml:"timeout" default:"30m" validate:"min=1m,max=24h"`
    KeepAliveInterval       time.Duration `mapstructure:"keep_alive_interval" yaml:"keep_alive_interval" default:"30s" validate:"min=5s,max=5m"`
    MaxRetries              int           `mapstructure:"max_retries" yaml:"max_retries" default:"3" validate:"min=0,max=10"`
    RetryDelay              time.Duration `mapstructure:"retry_delay" yaml:"retry_delay" default:"1s" validate:"min=100ms,max=10s"`
    AutoStart               bool          `mapstructure:"auto_start" yaml:"auto_start" default:"false"`
    EnableKeepAlive         bool          `mapstructure:"enable_keep_alive" yaml:"enable_keep_alive" default:"true"`
    EnableTracing           bool          `mapstructure:"enable_tracing" yaml:"enable_tracing" default:"true"`
    EnableMetrics           bool          `mapstructure:"enable_metrics" yaml:"enable_metrics" default:"true"`
    EnableStructuredLogging bool          `mapstructure:"enable_structured_logging" yaml:"enable_structured_logging" default:"true"`
}
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L80>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration.

<a name="Config.Validate"></a>
### func (*Config) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L71>)

```go
func (c *Config) Validate() error
```

Validate validates the configuration.

<a name="ConfigOption"></a>
## type [ConfigOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L26>)

ConfigOption is a functional option for configuring Session instances.

```go
type ConfigOption func(*Config)
```

<a name="WithAutoStart"></a>
### func [WithAutoStart](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L43>)

```go
func WithAutoStart(autoStart bool) ConfigOption
```

WithAutoStart sets auto-start enablement.

<a name="WithEnableKeepAlive"></a>
### func [WithEnableKeepAlive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L50>)

```go
func WithEnableKeepAlive(enable bool) ConfigOption
```

WithEnableKeepAlive sets keep-alive enablement.

<a name="WithKeepAliveInterval"></a>
### func [WithKeepAliveInterval](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L57>)

```go
func WithKeepAliveInterval(interval time.Duration) ConfigOption
```

WithKeepAliveInterval sets the keep-alive interval.

<a name="WithMaxRetries"></a>
### func [WithMaxRetries](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L64>)

```go
func WithMaxRetries(maxRetries int) ConfigOption
```

WithMaxRetries sets the maximum number of retries.

<a name="WithSessionID"></a>
### func [WithSessionID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L29>)

```go
func WithSessionID(id string) ConfigOption
```

WithSessionID sets the session ID.

<a name="WithTimeout"></a>
### func [WithTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/config.go#L36>)

```go
func WithTimeout(timeout time.Duration) ConfigOption
```

WithTimeout sets the session timeout.

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L31-L44>)

Metrics contains all the metrics for Session operations.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/session.go#L57>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance. Returns nil if InitMetrics has not been called.

Returns:

- *Metrics: The global metrics instance, or nil if not initialized

Example:

```
metrics := session.GetMetrics()
if metrics != nil {
    // Use metrics
}
```

Example usage can be found in examples/voice/session/main.go

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L47>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) *Metrics
```

NewMetrics creates a new Metrics instance.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L24>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.DecrementActiveSessions"></a>
### func (*Metrics) [DecrementActiveSessions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L134>)

```go
func (m *Metrics) DecrementActiveSessions(ctx context.Context)
```

DecrementActiveSessions decrements the active sessions counter.

<a name="Metrics.IncrementActiveSessions"></a>
### func (*Metrics) [IncrementActiveSessions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L126>)

```go
func (m *Metrics) IncrementActiveSessions(ctx context.Context)
```

IncrementActiveSessions increments the active sessions counter.

<a name="Metrics.RecordAgentOperation"></a>
### func (*Metrics) [RecordAgentOperation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L144>)

```go
func (m *Metrics) RecordAgentOperation(ctx context.Context, sessionID string, latency time.Duration)
```

RecordAgentOperation records agent operation latency (from input to first response).

<a name="Metrics.RecordAgentStreamingChunk"></a>
### func (*Metrics) [RecordAgentStreamingChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L155>)

```go
func (m *Metrics) RecordAgentStreamingChunk(ctx context.Context, sessionID string, duration time.Duration)
```

RecordAgentStreamingChunk records agent streaming chunk metrics.

<a name="Metrics.RecordAgentToolExecution"></a>
### func (*Metrics) [RecordAgentToolExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L166>)

```go
func (m *Metrics) RecordAgentToolExecution(ctx context.Context, sessionID, toolName string, duration time.Duration)
```

RecordAgentToolExecution records agent tool execution time.

<a name="Metrics.RecordSessionError"></a>
### func (*Metrics) [RecordSessionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L109>)

```go
func (m *Metrics) RecordSessionError(ctx context.Context, sessionID, errorCode string, duration time.Duration)
```

RecordSessionError records an error.

<a name="Metrics.RecordSessionStart"></a>
### func (*Metrics) [RecordSessionStart](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L71>)

```go
func (m *Metrics) RecordSessionStart(ctx context.Context, sessionID string, duration time.Duration)
```

RecordSessionStart records a session start operation.

<a name="Metrics.RecordSessionStop"></a>
### func (*Metrics) [RecordSessionStop](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L90>)

```go
func (m *Metrics) RecordSessionStop(ctx context.Context, sessionID string, duration time.Duration)
```

RecordSessionStop records a session stop operation.

<a name="MetricsRecorder"></a>
## type [MetricsRecorder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/metrics.go#L14-L20>)

MetricsRecorder defines the interface for recording metrics.

```go
type MetricsRecorder interface {
    RecordSessionStart(ctx context.Context, sessionID string, duration time.Duration)
    RecordSessionStop(ctx context.Context, sessionID string, duration time.Duration)
    RecordSessionError(ctx context.Context, sessionID, errorCode string, duration time.Duration)
    IncrementActiveSessions(ctx context.Context)
    DecrementActiveSessions(ctx context.Context)
}
```

<a name="MockAgentInstanceOption"></a>
## type [MockAgentInstanceOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L328>)

MockAgentInstanceOption defines functional options for configuring agent instance mocks.

```go
type MockAgentInstanceOption func(*AdvancedMockAgentInstance)
```

<a name="WithAgentContext"></a>
### func [WithAgentContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L338>)

```go
func WithAgentContext(ctx *AgentContext) MockAgentInstanceOption
```

WithAgentContext sets the agent context.

<a name="WithAgentState"></a>
### func [WithAgentState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L331>)

```go
func WithAgentState(state AgentState) MockAgentInstanceOption
```

WithAgentState sets the initial agent state.

<a name="WithStreamingChunks"></a>
### func [WithStreamingChunks](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L345>)

```go
func WithStreamingChunks(chunks []AgentStreamChunk) MockAgentInstanceOption
```

WithStreamingChunks sets predefined chunks to stream.

<a name="MockOption"></a>
## type [MockOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L50>)

MockOption configures the behavior of AdvancedMockSession.

```go
type MockOption func(*AdvancedMockSession)
```

<a name="WithActive"></a>
### func [WithActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L60>)

```go
func WithActive(active bool) MockOption
```

WithActive sets the active state.

<a name="WithError"></a>
### func [WithError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L74>)

```go
func WithError(err error) MockOption
```

WithError configures the mock to return an error.

<a name="WithMockSessionID"></a>
### func [WithMockSessionID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L53>)

```go
func WithMockSessionID(id string) MockOption
```

WithMockSessionID sets the session ID for the mock.

<a name="WithNetworkDelay"></a>
### func [WithNetworkDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L89>)

```go
func WithNetworkDelay(enabled bool) MockOption
```

WithNetworkDelay enables network delay simulation.

<a name="WithProcessingDelay"></a>
### func [WithProcessingDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L82>)

```go
func WithProcessingDelay(delay time.Duration) MockOption
```

WithProcessingDelay sets the delay for processing.

<a name="WithStarted"></a>
### func [WithStarted](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L67>)

```go
func WithStarted(started bool) MockOption
```

WithStarted sets the started state.

<a name="MockStreamingAgentIntegration"></a>
## type [MockStreamingAgentIntegration](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L424-L429>)

MockStreamingAgentIntegration provides a mock for testing agent integration in voice sessions.

```go
type MockStreamingAgentIntegration struct {
    // contains filtered or unexported fields
}
```

<a name="NewMockStreamingAgentIntegration"></a>
### func [NewMockStreamingAgentIntegration](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L432>)

```go
func NewMockStreamingAgentIntegration(agentInstance *AdvancedMockAgentInstance) *MockStreamingAgentIntegration
```

NewMockStreamingAgentIntegration creates a new mock streaming agent integration.

<a name="MockStreamingAgentIntegration.GetAgentInstance"></a>
### func (*MockStreamingAgentIntegration) [GetAgentInstance](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L477>)

```go
func (m *MockStreamingAgentIntegration) GetAgentInstance() *AdvancedMockAgentInstance
```

GetAgentInstance returns the agent instance.

<a name="MockStreamingAgentIntegration.IsStarted"></a>
### func (*MockStreamingAgentIntegration) [IsStarted](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L470>)

```go
func (m *MockStreamingAgentIntegration) IsStarted() bool
```

IsStarted returns whether the integration is started.

<a name="MockStreamingAgentIntegration.Start"></a>
### func (*MockStreamingAgentIntegration) [Start](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L441>)

```go
func (m *MockStreamingAgentIntegration) Start(ctx context.Context) error
```

Start initializes the agent integration.

<a name="MockStreamingAgentIntegration.Stop"></a>
### func (*MockStreamingAgentIntegration) [Stop](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L455>)

```go
func (m *MockStreamingAgentIntegration) Stop(ctx context.Context) error
```

Stop stops the agent integration.

<a name="SayHandle"></a>
## type [SayHandle](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L16>)

Re-export types from iface for convenience.

```go
type SayHandle = iface.SayHandle
```

<a name="SayOptions"></a>
## type [SayOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L15>)

Re-export types from iface for convenience.

```go
type SayOptions = iface.SayOptions
```

<a name="SessionError"></a>
## type [SessionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L36-L42>)

SessionError represents an error that occurred during Session operations. It includes an operation name, underlying error, and error code for programmatic handling.

```go
type SessionError struct {
    Err     error
    Details map[string]any
    Op      string
    Code    string
    Message string
}
```

<a name="NewAgentIntegrationError"></a>
### func [NewAgentIntegrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L111>)

```go
func NewAgentIntegrationError(op, code string, err error) *SessionError
```

NewAgentIntegrationError creates a new SessionError for agent integration operations. It follows the Op/Err/Code pattern for consistency.

<a name="NewSessionError"></a>
### func [NewSessionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L61>)

```go
func NewSessionError(op, code string, err error) *SessionError
```

NewSessionError creates a new SessionError.

<a name="NewSessionErrorWithDetails"></a>
### func [NewSessionErrorWithDetails](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L80>)

```go
func NewSessionErrorWithDetails(op, code, message string, err error, details map[string]any) *SessionError
```

NewSessionErrorWithDetails creates a new SessionError with additional details.

<a name="NewSessionErrorWithMessage"></a>
### func [NewSessionErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L70>)

```go
func NewSessionErrorWithMessage(op, code, message string, err error) *SessionError
```

NewSessionErrorWithMessage creates a new SessionError with a custom message.

<a name="WrapAgentIntegrationError"></a>
### func [WrapAgentIntegrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L116>)

```go
func WrapAgentIntegrationError(op, code string, err error) *SessionError
```

WrapAgentIntegrationError wraps an existing error as a SessionError for agent integration.

<a name="SessionError.Error"></a>
### func (*SessionError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L45>)

```go
func (e *SessionError) Error() string
```

Error implements the error interface.

<a name="SessionError.Unwrap"></a>
### func (*SessionError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/errors.go#L56>)

```go
func (e *SessionError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="SessionState"></a>
## type [SessionState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L14>)

Re-export types from iface for convenience.

```go
type SessionState = iface.SessionState
```

<a name="StreamingState"></a>
## type [StreamingState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L307-L313>)

StreamingState represents the current streaming state.

```go
type StreamingState struct {
    LastChunkTime time.Time
    CurrentStream <-chan AgentStreamChunk
    Buffer        []AgentStreamChunk
    Active        bool
    Interrupted   bool
}
```

<a name="CreateTestStreamingState"></a>
### func [CreateTestStreamingState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/test_utils.go#L497>)

```go
func CreateTestStreamingState() *StreamingState
```

CreateTestStreamingState creates a test streaming state.

<a name="VoiceOption"></a>
## type [VoiceOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L69>)

VoiceOption is a functional option for configuring VoiceSession.

```go
type VoiceOption func(*VoiceOptions)
```

<a name="WithAgentCallback"></a>
### func [WithAgentCallback](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L121>)

```go
func WithAgentCallback(callback func(ctx context.Context, transcript string) (string, error)) VoiceOption
```

WithAgentCallback sets the agent callback.

<a name="WithAgentInstance"></a>
### func [WithAgentInstance](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L144>)

```go
func WithAgentInstance(agent agentsiface.StreamingAgent, config *schema.AgentConfig) VoiceOption
```

WithAgentInstance sets the agent instance for the voice session. When provided, the session will use streaming agent execution instead of callbacks. The agent must implement the StreamingAgent interface.

<a name="WithConfig"></a>
### func [WithConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L135>)

```go
func WithConfig(config *Config) VoiceOption
```

WithConfig sets the session configuration.

<a name="WithNoiseCancellation"></a>
### func [WithNoiseCancellation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L114>)

```go
func WithNoiseCancellation(noiseCancellation iface.NoiseCancellation) VoiceOption
```

WithNoiseCancellation sets the noise cancellation provider.

<a name="WithOnStateChanged"></a>
### func [WithOnStateChanged](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L128>)

```go
func WithOnStateChanged(callback func(state SessionState)) VoiceOption
```

WithOnStateChanged sets the state change callback.

<a name="WithS2SProvider"></a>
### func [WithS2SProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L86>)

```go
func WithS2SProvider(provider s2siface.S2SProvider) VoiceOption
```

WithS2SProvider sets the S2S provider.

<a name="WithSTTProvider"></a>
### func [WithSTTProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L72>)

```go
func WithSTTProvider(provider iface.STTProvider) VoiceOption
```

WithSTTProvider sets the STT provider.

<a name="WithTTSProvider"></a>
### func [WithTTSProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L79>)

```go
func WithTTSProvider(provider iface.TTSProvider) VoiceOption
```

WithTTSProvider sets the TTS provider.

<a name="WithTransport"></a>
### func [WithTransport](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L107>)

```go
func WithTransport(transport iface.Transport) VoiceOption
```

WithTransport sets the transport provider.

<a name="WithTurnDetector"></a>
### func [WithTurnDetector](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L100>)

```go
func WithTurnDetector(detector iface.TurnDetector) VoiceOption
```

WithTurnDetector sets the turn detector.

<a name="WithVADProvider"></a>
### func [WithVADProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L93>)

```go
func WithVADProvider(provider iface.VADProvider) VoiceOption
```

WithVADProvider sets the VAD provider.

<a name="VoiceOptions"></a>
## type [VoiceOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/session/types.go#L30-L66>)

VoiceOptions represents options for configuring a VoiceSession.

```go
type VoiceOptions struct {
    // STTProvider specifies the STT provider to use
    STTProvider iface.STTProvider

    // TTSProvider specifies the TTS provider to use
    TTSProvider iface.TTSProvider

    // S2SProvider specifies the S2S provider to use (alternative to STT+TTS)
    S2SProvider s2siface.S2SProvider

    // VADProvider specifies the VAD provider to use
    VADProvider iface.VADProvider

    // TurnDetector specifies the turn detection provider to use
    TurnDetector iface.TurnDetector

    // Transport specifies the transport provider to use
    Transport iface.Transport

    // NoiseCancellation specifies the noise cancellation provider to use
    NoiseCancellation iface.NoiseCancellation

    // AgentCallback is called when user input is detected (deprecated: use AgentInstance)
    AgentCallback func(ctx context.Context, transcript string) (string, error)

    // AgentInstance is the streaming agent instance for the session
    AgentInstance agentsiface.StreamingAgent

    // AgentConfig is the configuration for the agent instance
    AgentConfig *schema.AgentConfig

    // OnStateChanged callback for state changes
    OnStateChanged func(state SessionState)

    // Config for session configuration
    Config *Config
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
