---
title: bedrock
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# bedrock

```go
import "github.com/lookatitude/beluga-ai/pkg/llms/providers/bedrock"
```

Package bedrock provides an implementation of the llms.ChatModel interface using the AWS Bedrock API.

## Index

- [Constants](<#constants>)
- [`func NewBedrockLLM(ctx context.Context, modelName string, opts ...llms.ConfigOption) (iface.ChatModel, error)`](<#NewBedrockLLM>)
- [`func NewBedrockProviderFactory() func(*llms.Config) (iface.ChatModel, error)`](<#NewBedrockProviderFactory>)
- [type AdvancedMockBedrockProvider](<#AdvancedMockBedrockProvider>)
  - [`func NewAdvancedMockBedrockProvider(modelName string) *AdvancedMockBedrockProvider`](<#NewAdvancedMockBedrockProvider>)
  - [`func (m *AdvancedMockBedrockProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#AdvancedMockBedrockProvider.Batch>)
  - [`func (m *AdvancedMockBedrockProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel`](<#AdvancedMockBedrockProvider.BindTools>)
  - [`func (m *AdvancedMockBedrockProvider) CheckHealth() map[string]any`](<#AdvancedMockBedrockProvider.CheckHealth>)
  - [`func (m *AdvancedMockBedrockProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)`](<#AdvancedMockBedrockProvider.Generate>)
  - [`func (m *AdvancedMockBedrockProvider) GetCallCount() int`](<#AdvancedMockBedrockProvider.GetCallCount>)
  - [`func (m *AdvancedMockBedrockProvider) GetModelName() string`](<#AdvancedMockBedrockProvider.GetModelName>)
  - [`func (m *AdvancedMockBedrockProvider) GetProviderName() string`](<#AdvancedMockBedrockProvider.GetProviderName>)
  - [`func (m *AdvancedMockBedrockProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#AdvancedMockBedrockProvider.Invoke>)
  - [`func (m *AdvancedMockBedrockProvider) Reset()`](<#AdvancedMockBedrockProvider.Reset>)
  - [`func (m *AdvancedMockBedrockProvider) SetDelay(delay time.Duration)`](<#AdvancedMockBedrockProvider.SetDelay>)
  - [`func (m *AdvancedMockBedrockProvider) SetError(shouldError bool, err error)`](<#AdvancedMockBedrockProvider.SetError>)
  - [`func (m *AdvancedMockBedrockProvider) SetRateLimit(enabled bool)`](<#AdvancedMockBedrockProvider.SetRateLimit>)
  - [`func (m *AdvancedMockBedrockProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#AdvancedMockBedrockProvider.Stream>)
  - [`func (m *AdvancedMockBedrockProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)`](<#AdvancedMockBedrockProvider.StreamChat>)
- [type BedrockProvider](<#BedrockProvider>)
  - [`func NewBedrockProvider(ctx context.Context, config *llms.Config) (*BedrockProvider, error)`](<#NewBedrockProvider>)
  - [`func (b *BedrockProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#BedrockProvider.Batch>)
  - [`func (b *BedrockProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel`](<#BedrockProvider.BindTools>)
  - [`func (b *BedrockProvider) CheckHealth() map[string]any`](<#BedrockProvider.CheckHealth>)
  - [`func (b *BedrockProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)`](<#BedrockProvider.Generate>)
  - [`func (b *BedrockProvider) GetModelName() string`](<#BedrockProvider.GetModelName>)
  - [`func (b *BedrockProvider) GetProviderName() string`](<#BedrockProvider.GetProviderName>)
  - [`func (b *BedrockProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#BedrockProvider.Invoke>)
  - [`func (b *BedrockProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#BedrockProvider.Stream>)
  - [`func (b *BedrockProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)`](<#BedrockProvider.StreamChat>)

## Constants

<a name="ProviderName"></a>Provider constants.

```go
const (
    ProviderName = "bedrock"
    DefaultModel = "anthropic.claude-3-haiku-20240307-v1:0"

    // Error codes specific to AWS Bedrock.
    ErrCodeInvalidCredentials = "bedrock_invalid_credentials"
    ErrCodeRegionNotFound     = "bedrock_region_not_found"
    ErrCodeModelNotFound      = "bedrock_model_not_found"
    ErrCodeInvalidRequest     = "bedrock_invalid_request"
    ErrCodeThrottling         = "bedrock_throttling"
)
```

<a name="NewBedrockLLM"></a>
## func [NewBedrockLLM](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L96>)

```go
func NewBedrockLLM(ctx context.Context, modelName string, opts ...llms.ConfigOption) (iface.ChatModel, error)
```

NewBedrockLLM creates a new Bedrock provider (legacy compatibility function).

<a name="NewBedrockProviderFactory"></a>
## func [NewBedrockProviderFactory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L576>)

```go
func NewBedrockProviderFactory() func(*llms.Config) (iface.ChatModel, error)
```

Factory function for creating Bedrock providers.

<a name="AdvancedMockBedrockProvider"></a>
## type [AdvancedMockBedrockProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L18-L30>)

AdvancedMockBedrockProvider provides a comprehensive mock implementation for testing Bedrock provider.

```go
type AdvancedMockBedrockProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockBedrockProvider"></a>
### func [NewAdvancedMockBedrockProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L33>)

```go
func NewAdvancedMockBedrockProvider(modelName string) *AdvancedMockBedrockProvider
```

NewAdvancedMockBedrockProvider creates a new advanced mock with configurable behavior.

<a name="AdvancedMockBedrockProvider.Batch"></a>
### func (*AdvancedMockBedrockProvider) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L158>)

```go
func (m *AdvancedMockBedrockProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

Batch implements the Runnable interface.

<a name="AdvancedMockBedrockProvider.BindTools"></a>
### func (*AdvancedMockBedrockProvider) [BindTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L131>)

```go
func (m *AdvancedMockBedrockProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel
```

BindTools implements the ChatModel interface.

<a name="AdvancedMockBedrockProvider.CheckHealth"></a>
### func (*AdvancedMockBedrockProvider) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L198>)

```go
func (m *AdvancedMockBedrockProvider) CheckHealth() map[string]any
```

CheckHealth implements the ChatModel interface.

<a name="AdvancedMockBedrockProvider.Generate"></a>
### func (*AdvancedMockBedrockProvider) [Generate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L47>)

```go
func (m *AdvancedMockBedrockProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)
```

Generate implements the ChatModel interface.

<a name="AdvancedMockBedrockProvider.GetCallCount"></a>
### func (*AdvancedMockBedrockProvider) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L232>)

```go
func (m *AdvancedMockBedrockProvider) GetCallCount() int
```

GetCallCount returns the number of times methods have been called.

<a name="AdvancedMockBedrockProvider.GetModelName"></a>
### func (*AdvancedMockBedrockProvider) [GetModelName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L139>)

```go
func (m *AdvancedMockBedrockProvider) GetModelName() string
```

GetModelName implements the ChatModel interface.

<a name="AdvancedMockBedrockProvider.GetProviderName"></a>
### func (*AdvancedMockBedrockProvider) [GetProviderName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L144>)

```go
func (m *AdvancedMockBedrockProvider) GetProviderName() string
```

GetProviderName implements the LLM interface.

<a name="AdvancedMockBedrockProvider.Invoke"></a>
### func (*AdvancedMockBedrockProvider) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L149>)

```go
func (m *AdvancedMockBedrockProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

Invoke implements the Runnable interface.

<a name="AdvancedMockBedrockProvider.Reset"></a>
### func (*AdvancedMockBedrockProvider) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L239>)

```go
func (m *AdvancedMockBedrockProvider) Reset()
```

Reset resets the mock state.

<a name="AdvancedMockBedrockProvider.SetDelay"></a>
### func (*AdvancedMockBedrockProvider) [SetDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L218>)

```go
func (m *AdvancedMockBedrockProvider) SetDelay(delay time.Duration)
```

SetDelay configures the mock to simulate delay.

<a name="AdvancedMockBedrockProvider.SetError"></a>
### func (*AdvancedMockBedrockProvider) [SetError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L210>)

```go
func (m *AdvancedMockBedrockProvider) SetError(shouldError bool, err error)
```

SetError configures the mock to return an error.

<a name="AdvancedMockBedrockProvider.SetRateLimit"></a>
### func (*AdvancedMockBedrockProvider) [SetRateLimit](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L225>)

```go
func (m *AdvancedMockBedrockProvider) SetRateLimit(enabled bool)
```

SetRateLimit configures the mock to simulate rate limiting.

<a name="AdvancedMockBedrockProvider.Stream"></a>
### func (*AdvancedMockBedrockProvider) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L171>)

```go
func (m *AdvancedMockBedrockProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

Stream implements the Runnable interface.

<a name="AdvancedMockBedrockProvider.StreamChat"></a>
### func (*AdvancedMockBedrockProvider) [StreamChat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/bedrock_mock.go#L84>)

```go
func (m *AdvancedMockBedrockProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)
```

StreamChat implements the ChatModel interface.

<a name="BedrockProvider"></a>
## type [BedrockProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L39-L48>)

BedrockProvider implements the ChatModel interface for AWS Bedrock models.

```go
type BedrockProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewBedrockProvider"></a>
### func [NewBedrockProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L51>)

```go
func NewBedrockProvider(ctx context.Context, config *llms.Config) (*BedrockProvider, error)
```

NewBedrockProvider creates a new AWS Bedrock provider instance.

<a name="BedrockProvider.Batch"></a>
### func (*BedrockProvider) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L180>)

```go
func (b *BedrockProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

Batch implements the Runnable interface.

<a name="BedrockProvider.BindTools"></a>
### func (*BedrockProvider) [BindTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L154>)

```go
func (b *BedrockProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel
```

BindTools implements the ChatModel interface.

<a name="BedrockProvider.CheckHealth"></a>
### func (*BedrockProvider) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L564>)

```go
func (b *BedrockProvider) CheckHealth() map[string]any
```

CheckHealth implements the HealthChecker interface.

<a name="BedrockProvider.Generate"></a>
### func (*BedrockProvider) [Generate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L105>)

```go
func (b *BedrockProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)
```

Generate implements the ChatModel interface.

<a name="BedrockProvider.GetModelName"></a>
### func (*BedrockProvider) [GetModelName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L162>)

```go
func (b *BedrockProvider) GetModelName() string
```

GetModelName implements the ChatModel interface.

<a name="BedrockProvider.GetProviderName"></a>
### func (*BedrockProvider) [GetProviderName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L166>)

```go
func (b *BedrockProvider) GetProviderName() string
```

<a name="BedrockProvider.Invoke"></a>
### func (*BedrockProvider) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L171>)

```go
func (b *BedrockProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

Invoke implements the Runnable interface.

<a name="BedrockProvider.Stream"></a>
### func (*BedrockProvider) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L220>)

```go
func (b *BedrockProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

Stream implements the Runnable interface.

<a name="BedrockProvider.StreamChat"></a>
### func (*BedrockProvider) [StreamChat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/bedrock/provider.go#L147>)

```go
func (b *BedrockProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)
```

StreamChat implements the ChatModel interface.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
