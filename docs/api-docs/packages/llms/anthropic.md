---
title: anthropic
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# anthropic

```go
import "github.com/lookatitude/beluga-ai/pkg/llms/providers/anthropic"
```

Package anthropic provides an implementation of the llms.ChatModel interface using the Anthropic API (Claude models).

## Index

- [Constants](<#constants>)
- [`func NewAnthropicProviderFactory() func(*llms.Config) (iface.ChatModel, error)`](<#NewAnthropicProviderFactory>)
- [type AdvancedMockAnthropicProvider](<#AdvancedMockAnthropicProvider>)
  - [`func NewAdvancedMockAnthropicProvider(modelName string) *AdvancedMockAnthropicProvider`](<#NewAdvancedMockAnthropicProvider>)
  - [`func (m *AdvancedMockAnthropicProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#AdvancedMockAnthropicProvider.Batch>)
  - [`func (m *AdvancedMockAnthropicProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel`](<#AdvancedMockAnthropicProvider.BindTools>)
  - [`func (m *AdvancedMockAnthropicProvider) CheckHealth() map[string]any`](<#AdvancedMockAnthropicProvider.CheckHealth>)
  - [`func (m *AdvancedMockAnthropicProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)`](<#AdvancedMockAnthropicProvider.Generate>)
  - [`func (m *AdvancedMockAnthropicProvider) GetCallCount() int`](<#AdvancedMockAnthropicProvider.GetCallCount>)
  - [`func (m *AdvancedMockAnthropicProvider) GetModelName() string`](<#AdvancedMockAnthropicProvider.GetModelName>)
  - [`func (m *AdvancedMockAnthropicProvider) GetProviderName() string`](<#AdvancedMockAnthropicProvider.GetProviderName>)
  - [`func (m *AdvancedMockAnthropicProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#AdvancedMockAnthropicProvider.Invoke>)
  - [`func (m *AdvancedMockAnthropicProvider) Reset()`](<#AdvancedMockAnthropicProvider.Reset>)
  - [`func (m *AdvancedMockAnthropicProvider) SetDelay(delay time.Duration)`](<#AdvancedMockAnthropicProvider.SetDelay>)
  - [`func (m *AdvancedMockAnthropicProvider) SetError(shouldError bool, err error)`](<#AdvancedMockAnthropicProvider.SetError>)
  - [`func (m *AdvancedMockAnthropicProvider) SetRateLimit(enabled bool)`](<#AdvancedMockAnthropicProvider.SetRateLimit>)
  - [`func (m *AdvancedMockAnthropicProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#AdvancedMockAnthropicProvider.Stream>)
  - [`func (m *AdvancedMockAnthropicProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)`](<#AdvancedMockAnthropicProvider.StreamChat>)
- [type AnthropicProvider](<#AnthropicProvider>)
  - [`func NewAnthropicProvider(config *llms.Config) (*AnthropicProvider, error)`](<#NewAnthropicProvider>)
  - [`func (a *AnthropicProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#AnthropicProvider.Batch>)
  - [`func (a *AnthropicProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel`](<#AnthropicProvider.BindTools>)
  - [`func (a *AnthropicProvider) CheckHealth() map[string]any`](<#AnthropicProvider.CheckHealth>)
  - [`func (a *AnthropicProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)`](<#AnthropicProvider.Generate>)
  - [`func (a *AnthropicProvider) GetModelName() string`](<#AnthropicProvider.GetModelName>)
  - [`func (a *AnthropicProvider) GetProviderName() string`](<#AnthropicProvider.GetProviderName>)
  - [`func (a *AnthropicProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#AnthropicProvider.Invoke>)
  - [`func (a *AnthropicProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#AnthropicProvider.Stream>)
  - [`func (a *AnthropicProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)`](<#AnthropicProvider.StreamChat>)

## Constants

<a name="ProviderName"></a>Provider constants.

```go
const (
    ProviderName = "anthropic"
    DefaultModel = "claude-3-haiku-20240307"

    // Error codes specific to Anthropic.
    ErrCodeInvalidAPIKey  = "anthropic_invalid_api_key"
    ErrCodeRateLimit      = "anthropic_rate_limit"
    ErrCodeModelNotFound  = "anthropic_model_not_found"
    ErrCodeInvalidRequest = "anthropic_invalid_request"
)
```

<a name="NewAnthropicProviderFactory"></a>
## func [NewAnthropicProviderFactory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L645>)

```go
func NewAnthropicProviderFactory() func(*llms.Config) (iface.ChatModel, error)
```

NewAnthropicProviderFactory returns a factory function for creating Anthropic providers. This is used for registering the provider with the LLM factory pattern.

Returns:

- func(*llms.Config) (iface.ChatModel, error): Factory function that creates Anthropic providers

Example:

```
factory := llms.NewFactory()
factory.RegisterProviderFactory("anthropic", anthropic.NewAnthropicProviderFactory())
provider, err := factory.CreateProvider("anthropic", config)
```

Example usage can be found in examples/llm-usage/main.go

<a name="AdvancedMockAnthropicProvider"></a>
## type [AdvancedMockAnthropicProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L18-L30>)

AdvancedMockAnthropicProvider provides a comprehensive mock implementation for testing Anthropic provider.

```go
type AdvancedMockAnthropicProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockAnthropicProvider"></a>
### func [NewAdvancedMockAnthropicProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L33>)

```go
func NewAdvancedMockAnthropicProvider(modelName string) *AdvancedMockAnthropicProvider
```

NewAdvancedMockAnthropicProvider creates a new advanced mock with configurable behavior.

<a name="AdvancedMockAnthropicProvider.Batch"></a>
### func (*AdvancedMockAnthropicProvider) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L158>)

```go
func (m *AdvancedMockAnthropicProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

Batch implements the Runnable interface.

<a name="AdvancedMockAnthropicProvider.BindTools"></a>
### func (*AdvancedMockAnthropicProvider) [BindTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L131>)

```go
func (m *AdvancedMockAnthropicProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel
```

BindTools implements the ChatModel interface.

<a name="AdvancedMockAnthropicProvider.CheckHealth"></a>
### func (*AdvancedMockAnthropicProvider) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L198>)

```go
func (m *AdvancedMockAnthropicProvider) CheckHealth() map[string]any
```

CheckHealth implements the ChatModel interface.

<a name="AdvancedMockAnthropicProvider.Generate"></a>
### func (*AdvancedMockAnthropicProvider) [Generate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L47>)

```go
func (m *AdvancedMockAnthropicProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)
```

Generate implements the ChatModel interface.

<a name="AdvancedMockAnthropicProvider.GetCallCount"></a>
### func (*AdvancedMockAnthropicProvider) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L232>)

```go
func (m *AdvancedMockAnthropicProvider) GetCallCount() int
```

GetCallCount returns the number of times methods have been called.

<a name="AdvancedMockAnthropicProvider.GetModelName"></a>
### func (*AdvancedMockAnthropicProvider) [GetModelName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L139>)

```go
func (m *AdvancedMockAnthropicProvider) GetModelName() string
```

GetModelName implements the ChatModel interface.

<a name="AdvancedMockAnthropicProvider.GetProviderName"></a>
### func (*AdvancedMockAnthropicProvider) [GetProviderName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L144>)

```go
func (m *AdvancedMockAnthropicProvider) GetProviderName() string
```

GetProviderName implements the LLM interface.

<a name="AdvancedMockAnthropicProvider.Invoke"></a>
### func (*AdvancedMockAnthropicProvider) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L149>)

```go
func (m *AdvancedMockAnthropicProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

Invoke implements the Runnable interface.

<a name="AdvancedMockAnthropicProvider.Reset"></a>
### func (*AdvancedMockAnthropicProvider) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L239>)

```go
func (m *AdvancedMockAnthropicProvider) Reset()
```

Reset resets the mock state.

<a name="AdvancedMockAnthropicProvider.SetDelay"></a>
### func (*AdvancedMockAnthropicProvider) [SetDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L218>)

```go
func (m *AdvancedMockAnthropicProvider) SetDelay(delay time.Duration)
```

SetDelay configures the mock to simulate delay.

<a name="AdvancedMockAnthropicProvider.SetError"></a>
### func (*AdvancedMockAnthropicProvider) [SetError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L210>)

```go
func (m *AdvancedMockAnthropicProvider) SetError(shouldError bool, err error)
```

SetError configures the mock to return an error.

<a name="AdvancedMockAnthropicProvider.SetRateLimit"></a>
### func (*AdvancedMockAnthropicProvider) [SetRateLimit](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L225>)

```go
func (m *AdvancedMockAnthropicProvider) SetRateLimit(enabled bool)
```

SetRateLimit configures the mock to simulate rate limiting.

<a name="AdvancedMockAnthropicProvider.Stream"></a>
### func (*AdvancedMockAnthropicProvider) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L171>)

```go
func (m *AdvancedMockAnthropicProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

Stream implements the Runnable interface.

<a name="AdvancedMockAnthropicProvider.StreamChat"></a>
### func (*AdvancedMockAnthropicProvider) [StreamChat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic_mock.go#L84>)

```go
func (m *AdvancedMockAnthropicProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)
```

StreamChat implements the ChatModel interface.

<a name="AnthropicProvider"></a>
## type [AnthropicProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L40-L48>)

AnthropicProvider implements the ChatModel interface for Anthropic Claude models.

```go
type AnthropicProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewAnthropicProvider"></a>
### func [NewAnthropicProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L73>)

```go
func NewAnthropicProvider(config *llms.Config) (*AnthropicProvider, error)
```

NewAnthropicProvider creates a new Anthropic provider instance. This provider implements the ChatModel interface for Anthropic Claude models (Claude 3 Opus, Sonnet, Haiku).

Parameters:

- config: LLM configuration containing API key, model name, and other settings

Returns:

- *AnthropicProvider: A new Anthropic provider instance ready to use
- error: Configuration validation errors or client creation errors

Example:

```
config := &llms.Config{
    APIKey:    "your-api-key",
    ModelName: "claude-3-opus-20240229",
}
provider, err := anthropic.NewAnthropicProvider(config)
if err != nil {
    log.Fatal(err)
}
response, err := provider.Generate(ctx, messages)
```

Example usage can be found in examples/llm-usage/main.go

<a name="AnthropicProvider.Batch"></a>
### func (*AnthropicProvider) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L232>)

```go
func (a *AnthropicProvider) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

Batch implements the Runnable interface.

<a name="AnthropicProvider.BindTools"></a>
### func (*AnthropicProvider) [BindTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L206>)

```go
func (a *AnthropicProvider) BindTools(toolsToBind []tools.Tool) iface.ChatModel
```

BindTools implements the ChatModel interface.

<a name="AnthropicProvider.CheckHealth"></a>
### func (*AnthropicProvider) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L652>)

```go
func (a *AnthropicProvider) CheckHealth() map[string]any
```

CheckHealth implements the HealthChecker interface.

<a name="AnthropicProvider.Generate"></a>
### func (*AnthropicProvider) [Generate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L118>)

```go
func (a *AnthropicProvider) Generate(ctx context.Context, messages []schema.Message, options ...core.Option) (schema.Message, error)
```

Generate implements the ChatModel interface.

<a name="AnthropicProvider.GetModelName"></a>
### func (*AnthropicProvider) [GetModelName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L214>)

```go
func (a *AnthropicProvider) GetModelName() string
```

GetModelName implements the ChatModel interface.

<a name="AnthropicProvider.GetProviderName"></a>
### func (*AnthropicProvider) [GetProviderName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L218>)

```go
func (a *AnthropicProvider) GetProviderName() string
```

<a name="AnthropicProvider.Invoke"></a>
### func (*AnthropicProvider) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L223>)

```go
func (a *AnthropicProvider) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

Invoke implements the Runnable interface.

<a name="AnthropicProvider.Stream"></a>
### func (*AnthropicProvider) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L272>)

```go
func (a *AnthropicProvider) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

Stream implements the Runnable interface.

<a name="AnthropicProvider.StreamChat"></a>
### func (*AnthropicProvider) [StreamChat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/llms/providers/anthropic/anthropic.go#L160>)

```go
func (a *AnthropicProvider) StreamChat(ctx context.Context, messages []schema.Message, options ...core.Option) (<-chan iface.AIMessageChunk, error)
```

StreamChat implements the ChatModel interface.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
