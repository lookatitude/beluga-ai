---
title: schema
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# schema

```go
import "github.com/lookatitude/beluga-ai/pkg/schema"
```

Package schema provides custom error types for the schema package.

Package schema provides multimodal message types for images.

Package schema provides helper functions for working with multimodal message and document types.

Package schema provides core data structures and interfaces for the Beluga AI Framework. It defines types for messages, documents, configurations, and agent interactions.

The package follows the Beluga AI Framework design patterns with: - Interface segregation principle (small, focused interfaces) - Dependency inversion principle (high-level modules depend on abstractions) - Factory pattern for creating instances - Functional options for configuration - OpenTelemetry integration for observability

Package schema provides advanced test utilities and comprehensive mocks for testing schema implementations. This file contains utilities designed to support both unit tests and integration tests.

Package schema provides multimodal message types for video.

Package schema provides multimodal document types for voice/audio.

## Index

- [Constants](<#constants>)
- [`func AssertAgentAction(t *testing.T, action AgentAction, expectedTool string)`](<#AssertAgentAction>)
- [`func AssertAgentFinish(t *testing.T, finish AgentFinish, expectedMinReturnValues int)`](<#AssertAgentFinish>)
- [`func AssertDocument(t *testing.T, document Document, expectedMinContentLength int)`](<#AssertDocument>)
- [`func AssertErrorType(t *testing.T, err error, expectedCode string)`](<#AssertErrorType>)
- [`func AssertMessage(t *testing.T, message Message, expectedType iface.MessageType, expectedMinLength int)`](<#AssertMessage>)
- [`func AssertMessageHistory(t *testing.T, messages []Message, expectedMinCount int)`](<#AssertMessageHistory>)
- [`func AssertToolCall(t *testing.T, toolCall iface.ToolCall, expectedName string)`](<#AssertToolCall>)
- [`func CreateTestToolCall(name, input string) iface.ToolCall`](<#CreateTestToolCall>)
- [`func ExtractMultimodalData(msg Message) map[string]any`](<#ExtractMultimodalData>)
- [`func ExtractMultimodalDocumentData(doc Document) map[string]any`](<#ExtractMultimodalDocumentData>)
- [`func ExtractMultimodalDocumentDataFromVoiceDocument(voiceDoc *VoiceDocument) map[string]any`](<#ExtractMultimodalDocumentDataFromVoiceDocument>)
- [`func HasMultimodalContent(msg Message) bool`](<#HasMultimodalContent>)
- [`func HasMultimodalDocument(doc Document) bool`](<#HasMultimodalDocument>)
- [`func IsImageMessage(msg Message) bool`](<#IsImageMessage>)
- [`func IsSchemaError(err error) bool`](<#IsSchemaError>)
- [`func IsVideoMessage(msg Message) bool`](<#IsVideoMessage>)
- [`func IsVoiceDocument(doc Document) bool`](<#IsVoiceDocument>)
- [`func NewImageMessage(imageURL string, textContent string) iface.Message`](<#NewImageMessage>)
- [`func NewImageMessageWithContext(ctx context.Context, imageURL string, textContent string) iface.Message`](<#NewImageMessageWithContext>)
- [`func NewImageMessageWithData(imageData []byte, format string, textContent string) iface.Message`](<#NewImageMessageWithData>)
- [`func NewVideoMessage(videoURL string, textContent string) iface.Message`](<#NewVideoMessage>)
- [`func NewVideoMessageWithContext(ctx context.Context, videoURL string, textContent string) iface.Message`](<#NewVideoMessageWithContext>)
- [`func NewVideoMessageWithData(videoData []byte, format string, textContent string) iface.Message`](<#NewVideoMessageWithData>)
- [`func RecordA2ACommunicationError(ctx context.Context, operation string, err error)`](<#RecordA2ACommunicationError>)
- [`func RecordAgentActionCreated(ctx context.Context, tool string)`](<#RecordAgentActionCreated>)
- [`func RecordAgentLifecycleEvent(ctx context.Context, agentID, eventType string)`](<#RecordAgentLifecycleEvent>)
- [`func RecordAgentMessageReceived(ctx context.Context, messageType, toAgentID string)`](<#RecordAgentMessageReceived>)
- [`func RecordAgentMessageSent(ctx context.Context, messageType, fromAgentID string)`](<#RecordAgentMessageSent>)
- [`func RecordAgentObservationCreated(ctx context.Context)`](<#RecordAgentObservationCreated>)
- [`func RecordAgentRequestReceived(ctx context.Context, action, toAgentID string)`](<#RecordAgentRequestReceived>)
- [`func RecordAgentRequestSent(ctx context.Context, action, fromAgentID string)`](<#RecordAgentRequestSent>)
- [`func RecordAgentResponseReceived(ctx context.Context, status, fromAgentID string)`](<#RecordAgentResponseReceived>)
- [`func RecordAgentResponseSent(ctx context.Context, status, toAgentID string)`](<#RecordAgentResponseSent>)
- [`func RecordConfigError(ctx context.Context, configType string, err error)`](<#RecordConfigError>)
- [`func RecordConfigValidation(ctx context.Context, configType string)`](<#RecordConfigValidation>)
- [`func RecordDocumentCreated(ctx context.Context)`](<#RecordDocumentCreated>)
- [`func RecordDocumentError(ctx context.Context, err error)`](<#RecordDocumentError>)
- [`func RecordDocumentValidation(ctx context.Context)`](<#RecordDocumentValidation>)
- [`func RecordDocumentValidationError(ctx context.Context, err error)`](<#RecordDocumentValidationError>)
- [`func RecordEventConsumed(ctx context.Context, eventType, consumer string)`](<#RecordEventConsumed>)
- [`func RecordEventProcessingError(ctx context.Context, eventType string, err error)`](<#RecordEventProcessingError>)
- [`func RecordEventPublished(ctx context.Context, eventType, source string)`](<#RecordEventPublished>)
- [`func RecordFactoryCreation(ctx context.Context, objectType string)`](<#RecordFactoryCreation>)
- [`func RecordFactoryError(ctx context.Context, objectType string, err error)`](<#RecordFactoryError>)
- [`func RecordGenerationCreated(ctx context.Context)`](<#RecordGenerationCreated>)
- [`func RecordHistoryOperation(ctx context.Context, operation string)`](<#RecordHistoryOperation>)
- [`func RecordHistorySize(ctx context.Context, size int)`](<#RecordHistorySize>)
- [`func RecordLLMResponseCreated(ctx context.Context)`](<#RecordLLMResponseCreated>)
- [`func RecordMessageCreated(ctx context.Context, msgType MessageType)`](<#RecordMessageCreated>)
- [`func RecordMessageError(ctx context.Context, msgType MessageType, err error)`](<#RecordMessageError>)
- [`func RecordMessageValidation(ctx context.Context, msgType MessageType)`](<#RecordMessageValidation>)
- [`func RecordMessageValidationError(ctx context.Context, msgType MessageType, err error)`](<#RecordMessageValidationError>)
- [`func RecordSchemaValidation(ctx context.Context, validationType string)`](<#RecordSchemaValidation>)
- [`func RecordSchemaValidationError(ctx context.Context, validationType string, err error)`](<#RecordSchemaValidationError>)
- [`func RecordStepCreated(ctx context.Context)`](<#RecordStepCreated>)
- [`func RecordTaskEvent(ctx context.Context, taskID, eventType string)`](<#RecordTaskEvent>)
- [`func RecordWorkflowEvent(ctx context.Context, workflowID, eventType string)`](<#RecordWorkflowEvent>)
- [`func RunLoadTest(t *testing.T, message *AdvancedMockMessage, numOperations, concurrency int)`](<#RunLoadTest>)
- [`func SetGlobalMetrics(m *Metrics)`](<#SetGlobalMetrics>)
- [`func ValidateConversationFlow(messages []Message) error`](<#ValidateConversationFlow>)
- [`func ValidateDocument(doc Document) error`](<#ValidateDocument>)
- [`func ValidateDocumentCollection(documents []Document) error`](<#ValidateDocumentCollection>)
- [`func ValidateMessage(msg Message) error`](<#ValidateMessage>)
- [`func ValidateMessageType(msgType iface.MessageType) bool`](<#ValidateMessageType>)
- [type AIMessage](<#AIMessage>)
- [type AdvancedMockDocument](<#AdvancedMockDocument>)
  - [`func NewAdvancedMockDocument(content string, metadata map[string]string, options ...MockDocumentOption) *AdvancedMockDocument`](<#NewAdvancedMockDocument>)
  - [`func (d *AdvancedMockDocument) AdditionalArgs() map[string]any`](<#AdvancedMockDocument.AdditionalArgs>)
  - [`func (d *AdvancedMockDocument) GetCallCount() int`](<#AdvancedMockDocument.GetCallCount>)
  - [`func (d *AdvancedMockDocument) GetContent() string`](<#AdvancedMockDocument.GetContent>)
  - [`func (d *AdvancedMockDocument) GetEmbedding() []float32`](<#AdvancedMockDocument.GetEmbedding>)
  - [`func (d *AdvancedMockDocument) GetID() string`](<#AdvancedMockDocument.GetID>)
  - [`func (d *AdvancedMockDocument) GetMetadata() map[string]string`](<#AdvancedMockDocument.GetMetadata>)
  - [`func (d *AdvancedMockDocument) GetScore() float32`](<#AdvancedMockDocument.GetScore>)
  - [`func (d *AdvancedMockDocument) GetType() iface.MessageType`](<#AdvancedMockDocument.GetType>)
  - [`func (d *AdvancedMockDocument) ToolCalls() []iface.ToolCall`](<#AdvancedMockDocument.ToolCalls>)
- [type AdvancedMockMessage](<#AdvancedMockMessage>)
  - [`func NewAdvancedMockMessage(messageType iface.MessageType, content string, options ...MockMessageOption) *AdvancedMockMessage`](<#NewAdvancedMockMessage>)
  - [`func (m *AdvancedMockMessage) AddToolCall(toolCall iface.ToolCall)`](<#AdvancedMockMessage.AddToolCall>)
  - [`func (m *AdvancedMockMessage) AdditionalArgs() map[string]any`](<#AdvancedMockMessage.AdditionalArgs>)
  - [`func (m *AdvancedMockMessage) CheckHealth() map[string]any`](<#AdvancedMockMessage.CheckHealth>)
  - [`func (m *AdvancedMockMessage) GetCallCount() int`](<#AdvancedMockMessage.GetCallCount>)
  - [`func (m *AdvancedMockMessage) GetContent() string`](<#AdvancedMockMessage.GetContent>)
  - [`func (m *AdvancedMockMessage) GetType() iface.MessageType`](<#AdvancedMockMessage.GetType>)
  - [`func (m *AdvancedMockMessage) SetContent(content string)`](<#AdvancedMockMessage.SetContent>)
  - [`func (m *AdvancedMockMessage) ToolCalls() []iface.ToolCall`](<#AdvancedMockMessage.ToolCalls>)
- [type AgentAction](<#AgentAction>)
  - [`func CreateTestAgentAction(tool, input, log string) AgentAction`](<#CreateTestAgentAction>)
  - [`func NewAgentAction(tool string, toolInput any, log string) AgentAction`](<#NewAgentAction>)
- [type AgentConfig](<#AgentConfig>)
  - [`func NewAgentConfig(name, llmProviderName string, opts ...AgentOption) (*AgentConfig, error)`](<#NewAgentConfig>)
  - [`func (c *AgentConfig) Validate() error`](<#AgentConfig.Validate>)
- [type AgentError](<#AgentError>)
  - [`func NewAgentError(code, message string, details map[string]any) *AgentError`](<#NewAgentError>)
- [type AgentFinish](<#AgentFinish>)
  - [`func CreateTestAgentFinish(returnValues map[string]any, log string) AgentFinish`](<#CreateTestAgentFinish>)
  - [`func NewAgentFinish(returnValues map[string]any, log string) AgentFinish`](<#NewAgentFinish>)
- [type AgentLifecycleEvent](<#AgentLifecycleEvent>)
  - [`func NewAgentLifecycleEvent(agentID string, eventType AgentLifecycleEventType) AgentLifecycleEvent`](<#NewAgentLifecycleEvent>)
- [type AgentLifecycleEventType](<#AgentLifecycleEventType>)
- [type AgentMessage](<#AgentMessage>)
  - [`func NewAgentMessage(fromAgentID, messageID string, messageType AgentMessageType, payload any) AgentMessage`](<#NewAgentMessage>)
- [type AgentMessageType](<#AgentMessageType>)
- [type AgentObservation](<#AgentObservation>)
  - [`func NewAgentObservation(actionLog, output string, parsedOutput any) AgentObservation`](<#NewAgentObservation>)
- [type AgentOption](<#AgentOption>)
  - [`func WithAgentType(agentType string) AgentOption`](<#WithAgentType>)
  - [`func WithMaxIterations(maxIterations int) AgentOption`](<#WithMaxIterations>)
  - [`func WithMemoryProvider(providerName, memoryType string) AgentOption`](<#WithMemoryProvider>)
  - [`func WithPromptTemplate(template string) AgentOption`](<#WithPromptTemplate>)
  - [`func WithToolNames(toolNames []string) AgentOption`](<#WithToolNames>)
- [type AgentRequest](<#AgentRequest>)
  - [`func NewAgentRequest(action string, parameters map[string]any) AgentRequest`](<#NewAgentRequest>)
- [type AgentResponse](<#AgentResponse>)
  - [`func NewAgentResponse(requestID, status string, result any) AgentResponse`](<#NewAgentResponse>)
- [type AgentScratchPadEntry](<#AgentScratchPadEntry>)
- [type BaseChatHistory](<#BaseChatHistory>)
- [type BenchmarkHelper](<#BenchmarkHelper>)
  - [`func NewBenchmarkHelper(messageCount, documentCount int) *BenchmarkHelper`](<#NewBenchmarkHelper>)
  - [`func (b *BenchmarkHelper) BenchmarkDocumentOperations(iterations int) (time.Duration, error)`](<#BenchmarkHelper.BenchmarkDocumentOperations>)
  - [`func (b *BenchmarkHelper) BenchmarkMessageOperations(iterations int) (time.Duration, error)`](<#BenchmarkHelper.BenchmarkMessageOperations>)
  - [`func (b *BenchmarkHelper) BenchmarkSchemaCreation(iterations int) (time.Duration, error)`](<#BenchmarkHelper.BenchmarkSchemaCreation>)
- [type CallOptions](<#CallOptions>)
  - [`func NewCallOptions() *CallOptions`](<#NewCallOptions>)
- [type ChatHistory](<#ChatHistory>)
  - [`func NewBaseChatHistory(opts ...ChatHistoryOption) (ChatHistory, error)`](<#NewBaseChatHistory>)
- [type ChatHistoryConfig](<#ChatHistoryConfig>)
  - [`func NewChatHistoryConfig(opts ...ChatHistoryOption) (*ChatHistoryConfig, error)`](<#NewChatHistoryConfig>)
- [type ChatHistoryOption](<#ChatHistoryOption>)
  - [`func WithMaxMessages(maxMessages int) ChatHistoryOption`](<#WithMaxMessages>)
  - [`func WithPersistence(enable bool) ChatHistoryOption`](<#WithPersistence>)
  - [`func WithTTL(ttl time.Duration) ChatHistoryOption`](<#WithTTL>)
- [type ChatMessage](<#ChatMessage>)
- [type ConcurrentTestRunner](<#ConcurrentTestRunner>)
  - [`func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner`](<#NewConcurrentTestRunner>)
  - [`func (r *ConcurrentTestRunner) Run() error`](<#ConcurrentTestRunner.Run>)
- [type Document](<#Document>)
  - [`func CreateTestDocuments(count int, topic string) []Document`](<#CreateTestDocuments>)
  - [`func NewDocument(pageContent string, metadata map[string]string) Document`](<#NewDocument>)
  - [`func NewDocumentWithEmbedding(pageContent string, metadata map[string]string, embedding []float32) Document`](<#NewDocumentWithEmbedding>)
  - [`func NewDocumentWithID(id, pageContent string, metadata map[string]string) Document`](<#NewDocumentWithID>)
- [type EmbeddingOption](<#EmbeddingOption>)
  - [`func WithEmbeddingBaseURL(baseURL string) EmbeddingOption`](<#WithEmbeddingBaseURL>)
  - [`func WithEmbeddingProviderSpecific(specific map[string]any) EmbeddingOption`](<#WithEmbeddingProviderSpecific>)
- [type EmbeddingProviderConfig](<#EmbeddingProviderConfig>)
  - [`func NewEmbeddingProviderConfig(name, provider, modelName, apiKey string, opts ...EmbeddingOption) (*EmbeddingProviderConfig, error)`](<#NewEmbeddingProviderConfig>)
  - [`func (c *EmbeddingProviderConfig) Validate() error`](<#EmbeddingProviderConfig.Validate>)
- [type Event](<#Event>)
  - [`func NewEvent(eventID, eventType, source string, payload any) Event`](<#NewEvent>)
- [type FinalAnswer](<#FinalAnswer>)
  - [`func NewFinalAnswer(output string, sourceDocuments []any, intermediateSteps []Step) FinalAnswer`](<#NewFinalAnswer>)
- [type FunctionCall](<#FunctionCall>)
- [type Generation](<#Generation>)
  - [`func NewGeneration(text string, message Message, generationInfo map[string]any) *Generation`](<#NewGeneration>)
- [type ImageMessage](<#ImageMessage>)
  - [`func AsImageMessage(msg Message) (*ImageMessage, bool)`](<#AsImageMessage>)
  - [`func (m *ImageMessage) AdditionalArgs() map[string]any`](<#ImageMessage.AdditionalArgs>)
  - [`func (m *ImageMessage) GetContent() string`](<#ImageMessage.GetContent>)
  - [`func (m *ImageMessage) GetImageData() []byte`](<#ImageMessage.GetImageData>)
  - [`func (m *ImageMessage) GetImageFormat() string`](<#ImageMessage.GetImageFormat>)
  - [`func (m *ImageMessage) GetImageURL() string`](<#ImageMessage.GetImageURL>)
  - [`func (m *ImageMessage) GetType() iface.MessageType`](<#ImageMessage.GetType>)
  - [`func (m *ImageMessage) HasImageData() bool`](<#ImageMessage.HasImageData>)
  - [`func (m *ImageMessage) ToolCalls() []iface.ToolCall`](<#ImageMessage.ToolCalls>)
- [type IntegrationTestHelper](<#IntegrationTestHelper>)
  - [`func NewIntegrationTestHelper() *IntegrationTestHelper`](<#NewIntegrationTestHelper>)
  - [`func (h *IntegrationTestHelper) AddDocument(name string, document *AdvancedMockDocument)`](<#IntegrationTestHelper.AddDocument>)
  - [`func (h *IntegrationTestHelper) AddMessage(name string, message *AdvancedMockMessage)`](<#IntegrationTestHelper.AddMessage>)
  - [`func (h *IntegrationTestHelper) GetDocument(name string) *AdvancedMockDocument`](<#IntegrationTestHelper.GetDocument>)
  - [`func (h *IntegrationTestHelper) GetMessage(name string) *AdvancedMockMessage`](<#IntegrationTestHelper.GetMessage>)
  - [`func (h *IntegrationTestHelper) Reset()`](<#IntegrationTestHelper.Reset>)
- [type LLMOption](<#LLMOption>)
  - [`func WithFrequencyPenalty(penalty float64) LLMOption`](<#WithFrequencyPenalty>)
  - [`func WithMaxTokens(maxTokens int) LLMOption`](<#WithMaxTokens>)
  - [`func WithPresencePenalty(penalty float64) LLMOption`](<#WithPresencePenalty>)
  - [`func WithProviderSpecificArg(key string, value any) LLMOption`](<#WithProviderSpecificArg>)
  - [`func WithStopSequences(stop []string) LLMOption`](<#WithStopSequences>)
  - [`func WithStreaming(streaming bool) LLMOption`](<#WithStreaming>)
  - [`func WithTemperature(temp float64) LLMOption`](<#WithTemperature>)
  - [`func WithTopP(topP float64) LLMOption`](<#WithTopP>)
- [type LLMProviderConfig](<#LLMProviderConfig>)
  - [`func NewLLMProviderConfig(name, provider, modelName string, opts ...LLMProviderOption) (*LLMProviderConfig, error)`](<#NewLLMProviderConfig>)
  - [`func (c *LLMProviderConfig) Validate() error`](<#LLMProviderConfig.Validate>)
- [type LLMProviderOption](<#LLMProviderOption>)
  - [`func WithAPIKey(apiKey string) LLMProviderOption`](<#WithAPIKey>)
  - [`func WithBaseURL(baseURL string) LLMProviderOption`](<#WithBaseURL>)
  - [`func WithDefaultCallOptions(options map[string]any) LLMProviderOption`](<#WithDefaultCallOptions>)
  - [`func WithProviderSpecific(specific map[string]any) LLMProviderOption`](<#WithProviderSpecific>)
- [type LLMResponse](<#LLMResponse>)
  - [`func NewLLMResponse(generations [][]*Generation, llmOutput map[string]any) *LLMResponse`](<#NewLLMResponse>)
- [type Message](<#Message>)
  - [`func CreateTestMessages(count int) []Message`](<#CreateTestMessages>)
  - [`func NewAIMessage(content string) Message`](<#NewAIMessage>)
  - [`func NewAIMessageWithContext(ctx context.Context, content string) Message`](<#NewAIMessageWithContext>)
  - [`func NewChatMessage(role MessageType, content string) Message`](<#NewChatMessage>)
  - [`func NewFunctionMessage(name, content string) Message`](<#NewFunctionMessage>)
  - [`func NewHumanMessage(content string) Message`](<#NewHumanMessage>)
  - [`func NewHumanMessageWithContext(ctx context.Context, content string) Message`](<#NewHumanMessageWithContext>)
  - [`func NewSystemMessage(content string) Message`](<#NewSystemMessage>)
  - [`func NewToolMessage(content, toolCallID string) Message`](<#NewToolMessage>)
- [type MessageType](<#MessageType>)
- [type Metrics](<#Metrics>)
  - [`func GetGlobalMetrics() *Metrics`](<#GetGlobalMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) RecordA2ACommunicationError(ctx context.Context, operation string, err error)`](<#Metrics.RecordA2ACommunicationError>)
  - [`func (m *Metrics) RecordAgentActionCreated(ctx context.Context, tool string)`](<#Metrics.RecordAgentActionCreated>)
  - [`func (m *Metrics) RecordAgentLifecycleEvent(ctx context.Context, agentID, eventType string)`](<#Metrics.RecordAgentLifecycleEvent>)
  - [`func (m *Metrics) RecordAgentMessageReceived(ctx context.Context, messageType, toAgentID string)`](<#Metrics.RecordAgentMessageReceived>)
  - [`func (m *Metrics) RecordAgentMessageSent(ctx context.Context, messageType, fromAgentID string)`](<#Metrics.RecordAgentMessageSent>)
  - [`func (m *Metrics) RecordAgentObservationCreated(ctx context.Context)`](<#Metrics.RecordAgentObservationCreated>)
  - [`func (m *Metrics) RecordAgentRequestReceived(ctx context.Context, action, toAgentID string)`](<#Metrics.RecordAgentRequestReceived>)
  - [`func (m *Metrics) RecordAgentRequestSent(ctx context.Context, action, fromAgentID string)`](<#Metrics.RecordAgentRequestSent>)
  - [`func (m *Metrics) RecordAgentResponseReceived(ctx context.Context, status, fromAgentID string)`](<#Metrics.RecordAgentResponseReceived>)
  - [`func (m *Metrics) RecordAgentResponseSent(ctx context.Context, status, toAgentID string)`](<#Metrics.RecordAgentResponseSent>)
  - [`func (m *Metrics) RecordConfigError(ctx context.Context, configType string, err error)`](<#Metrics.RecordConfigError>)
  - [`func (m *Metrics) RecordConfigValidation(ctx context.Context, configType string)`](<#Metrics.RecordConfigValidation>)
  - [`func (m *Metrics) RecordDocumentCreated(ctx context.Context)`](<#Metrics.RecordDocumentCreated>)
  - [`func (m *Metrics) RecordDocumentError(ctx context.Context, err error)`](<#Metrics.RecordDocumentError>)
  - [`func (m *Metrics) RecordDocumentValidation(ctx context.Context)`](<#Metrics.RecordDocumentValidation>)
  - [`func (m *Metrics) RecordDocumentValidationError(ctx context.Context, err error)`](<#Metrics.RecordDocumentValidationError>)
  - [`func (m *Metrics) RecordEventConsumed(ctx context.Context, eventType, consumer string)`](<#Metrics.RecordEventConsumed>)
  - [`func (m *Metrics) RecordEventProcessingError(ctx context.Context, eventType string, err error)`](<#Metrics.RecordEventProcessingError>)
  - [`func (m *Metrics) RecordEventPublished(ctx context.Context, eventType, source string)`](<#Metrics.RecordEventPublished>)
  - [`func (m *Metrics) RecordFactoryCreation(ctx context.Context, objectType string)`](<#Metrics.RecordFactoryCreation>)
  - [`func (m *Metrics) RecordFactoryError(ctx context.Context, objectType string, err error)`](<#Metrics.RecordFactoryError>)
  - [`func (m *Metrics) RecordGenerationCreated(ctx context.Context)`](<#Metrics.RecordGenerationCreated>)
  - [`func (m *Metrics) RecordHistoryOperation(ctx context.Context, operation string)`](<#Metrics.RecordHistoryOperation>)
  - [`func (m *Metrics) RecordHistorySize(ctx context.Context, size int)`](<#Metrics.RecordHistorySize>)
  - [`func (m *Metrics) RecordLLMResponseCreated(ctx context.Context)`](<#Metrics.RecordLLMResponseCreated>)
  - [`func (m *Metrics) RecordMessageCreated(ctx context.Context, msgType MessageType)`](<#Metrics.RecordMessageCreated>)
  - [`func (m *Metrics) RecordMessageError(ctx context.Context, msgType MessageType, err error)`](<#Metrics.RecordMessageError>)
  - [`func (m *Metrics) RecordMessageValidation(ctx context.Context, msgType MessageType)`](<#Metrics.RecordMessageValidation>)
  - [`func (m *Metrics) RecordMessageValidationError(ctx context.Context, msgType MessageType, err error)`](<#Metrics.RecordMessageValidationError>)
  - [`func (m *Metrics) RecordSchemaValidation(ctx context.Context, validationType string)`](<#Metrics.RecordSchemaValidation>)
  - [`func (m *Metrics) RecordSchemaValidationError(ctx context.Context, validationType string, err error)`](<#Metrics.RecordSchemaValidationError>)
  - [`func (m *Metrics) RecordStepCreated(ctx context.Context)`](<#Metrics.RecordStepCreated>)
  - [`func (m *Metrics) RecordTaskEvent(ctx context.Context, taskID, eventType string)`](<#Metrics.RecordTaskEvent>)
  - [`func (m *Metrics) RecordWorkflowEvent(ctx context.Context, workflowID, eventType string)`](<#Metrics.RecordWorkflowEvent>)
- [type MockDocumentOption](<#MockDocumentOption>)
  - [`func WithMockEmbedding(embedding []float32) MockDocumentOption`](<#WithMockEmbedding>)
  - [`func WithMockID(id string) MockDocumentOption`](<#WithMockID>)
  - [`func WithMockScore(score float32) MockDocumentOption`](<#WithMockScore>)
- [type MockMessageOption](<#MockMessageOption>)
  - [`func WithMockAdditionalArgs(args map[string]any) MockMessageOption`](<#WithMockAdditionalArgs>)
  - [`func WithMockToolCalls(toolCalls []iface.ToolCall) MockMessageOption`](<#WithMockToolCalls>)
- [type SchemaError](<#SchemaError>)
  - [`func AsSchemaError(err error) (*SchemaError, bool)`](<#AsSchemaError>)
  - [`func NewSchemaError(op, code string, err error) *SchemaError`](<#NewSchemaError>)
  - [`func NewSchemaErrorWithMessage(op, code, message string, err error) *SchemaError`](<#NewSchemaErrorWithMessage>)
  - [`func (e *SchemaError) Error() string`](<#SchemaError.Error>)
  - [`func (e *SchemaError) Unwrap() error`](<#SchemaError.Unwrap>)
- [type SchemaScenarioRunner](<#SchemaScenarioRunner>)
  - [`func NewSchemaScenarioRunner(messageCount, documentCount int) *SchemaScenarioRunner`](<#NewSchemaScenarioRunner>)
  - [`func (r *SchemaScenarioRunner) RunConversationScenario() error`](<#SchemaScenarioRunner.RunConversationScenario>)
  - [`func (r *SchemaScenarioRunner) RunDocumentProcessingScenario() error`](<#SchemaScenarioRunner.RunDocumentProcessingScenario>)
  - [`func (r *SchemaScenarioRunner) RunMessageProcessingScenario() error`](<#SchemaScenarioRunner.RunMessageProcessingScenario>)
- [type SchemaValidationConfig](<#SchemaValidationConfig>)
  - [`func NewSchemaValidationConfig(opts ...SchemaValidationOption) (*SchemaValidationConfig, error)`](<#NewSchemaValidationConfig>)
  - [`func (c *SchemaValidationConfig) Validate() error`](<#SchemaValidationConfig.Validate>)
- [type SchemaValidationOption](<#SchemaValidationOption>)
  - [`func WithAllowedMessageTypes(types []string) SchemaValidationOption`](<#WithAllowedMessageTypes>)
  - [`func WithContentValidation(enable bool) SchemaValidationOption`](<#WithContentValidation>)
  - [`func WithMaxMessageLength(maxLength int) SchemaValidationOption`](<#WithMaxMessageLength>)
  - [`func WithMaxMetadataSize(maxSize int) SchemaValidationOption`](<#WithMaxMetadataSize>)
  - [`func WithMaxToolCalls(maxCalls int) SchemaValidationOption`](<#WithMaxToolCalls>)
  - [`func WithRequiredMetadataFields(fields []string) SchemaValidationOption`](<#WithRequiredMetadataFields>)
  - [`func WithStrictValidation(enable bool) SchemaValidationOption`](<#WithStrictValidation>)
- [type Step](<#Step>)
  - [`func NewStep(action AgentAction, observation AgentObservation) Step`](<#NewStep>)
- [type TaskEvent](<#TaskEvent>)
  - [`func NewTaskEvent(taskID, agentID string, eventType TaskEventType) TaskEvent`](<#NewTaskEvent>)
- [type TaskEventType](<#TaskEventType>)
- [type ToolCall](<#ToolCall>)
- [type ToolCallChunk](<#ToolCallChunk>)
- [type ToolMessage](<#ToolMessage>)
- [type VectorStoreConfig](<#VectorStoreConfig>)
  - [`func NewVectorStoreConfig(name, provider string, opts ...VectorStoreOption) (*VectorStoreConfig, error)`](<#NewVectorStoreConfig>)
  - [`func (c *VectorStoreConfig) Validate() error`](<#VectorStoreConfig.Validate>)
- [type VectorStoreOption](<#VectorStoreOption>)
  - [`func WithConnectionString(connectionString string) VectorStoreOption`](<#WithConnectionString>)
  - [`func WithVectorStoreProviderSpecific(specific map[string]any) VectorStoreOption`](<#WithVectorStoreProviderSpecific>)
- [type VideoMessage](<#VideoMessage>)
  - [`func AsVideoMessage(msg Message) (*VideoMessage, bool)`](<#AsVideoMessage>)
  - [`func (m *VideoMessage) AdditionalArgs() map[string]any`](<#VideoMessage.AdditionalArgs>)
  - [`func (m *VideoMessage) GetContent() string`](<#VideoMessage.GetContent>)
  - [`func (m *VideoMessage) GetDuration() float64`](<#VideoMessage.GetDuration>)
  - [`func (m *VideoMessage) GetType() iface.MessageType`](<#VideoMessage.GetType>)
  - [`func (m *VideoMessage) GetVideoData() []byte`](<#VideoMessage.GetVideoData>)
  - [`func (m *VideoMessage) GetVideoFormat() string`](<#VideoMessage.GetVideoFormat>)
  - [`func (m *VideoMessage) GetVideoURL() string`](<#VideoMessage.GetVideoURL>)
  - [`func (m *VideoMessage) HasVideoData() bool`](<#VideoMessage.HasVideoData>)
  - [`func (m *VideoMessage) ToolCalls() []iface.ToolCall`](<#VideoMessage.ToolCalls>)
- [type VoiceDocument](<#VoiceDocument>)
  - [`func AsVoiceDocument(doc Document) (*VoiceDocument, bool)`](<#AsVoiceDocument>)
  - [`func NewVoiceDocument(audioURL string, transcript string, metadata map[string]string) *VoiceDocument`](<#NewVoiceDocument>)
  - [`func NewVoiceDocumentWithContext(ctx context.Context, audioURL string, transcript string, metadata map[string]string) *VoiceDocument`](<#NewVoiceDocumentWithContext>)
  - [`func NewVoiceDocumentWithData(audioData []byte, format string, transcript string, metadata map[string]string) *VoiceDocument`](<#NewVoiceDocumentWithData>)
  - [`func (vd *VoiceDocument) AsDocument() Document`](<#VoiceDocument.AsDocument>)
  - [`func (d *VoiceDocument) GetAudioData() []byte`](<#VoiceDocument.GetAudioData>)
  - [`func (d *VoiceDocument) GetAudioFormat() string`](<#VoiceDocument.GetAudioFormat>)
  - [`func (d *VoiceDocument) GetAudioURL() string`](<#VoiceDocument.GetAudioURL>)
  - [`func (d *VoiceDocument) GetChannels() int`](<#VoiceDocument.GetChannels>)
  - [`func (d *VoiceDocument) GetContent() string`](<#VoiceDocument.GetContent>)
  - [`func (d *VoiceDocument) GetDuration() float64`](<#VoiceDocument.GetDuration>)
  - [`func (d *VoiceDocument) GetSampleRate() int`](<#VoiceDocument.GetSampleRate>)
  - [`func (d *VoiceDocument) GetTranscript() string`](<#VoiceDocument.GetTranscript>)
  - [`func (d *VoiceDocument) HasAudioData() bool`](<#VoiceDocument.HasAudioData>)
- [type WorkflowEvent](<#WorkflowEvent>)
  - [`func NewWorkflowEvent(workflowID string, eventType WorkflowEventType) WorkflowEvent`](<#NewWorkflowEvent>)
- [type WorkflowEventType](<#WorkflowEventType>)

## Constants

<a name="ErrCodeInvalidInput"></a>Error codes for schema operations.

```go
const (
    ErrCodeInvalidInput         = "invalid_input"
    ErrCodeValidationFailed     = "validation_failed"
    ErrCodeInvalidMessage       = "invalid_message"
    ErrCodeInvalidDocument      = "invalid_document"
    ErrCodeInvalidRole          = "invalid_role"
    ErrCodeInvalidContent       = "invalid_content"
    ErrCodeSerializationError   = "serialization_error"
    ErrCodeDeserializationError = "deserialization_error"
    ErrCodeContextRequired      = "context_required"
)
```

<a name="RoleHuman"></a>Re-export constants from iface.

```go
const (
    RoleHuman     = iface.RoleHuman
    RoleAssistant = iface.RoleAssistant
    RoleSystem    = iface.RoleSystem
    RoleTool      = iface.RoleTool
    RoleFunction  = iface.RoleFunction
)
```

<a name="AgentMessageRequest"></a>Re-export A2A Communication constants.

```go
const (
    AgentMessageRequest      = internal.AgentMessageRequest
    AgentMessageResponse     = internal.AgentMessageResponse
    AgentMessageNotification = internal.AgentMessageNotification
    AgentMessageBroadcast    = internal.AgentMessageBroadcast
    AgentMessageError        = internal.AgentMessageError
)
```

<a name="AgentStarted"></a>Re-export Event constants.

```go
const (
    AgentStarted       = internal.AgentStarted
    AgentStopped       = internal.AgentStopped
    AgentPaused        = internal.AgentPaused
    AgentResumed       = internal.AgentResumed
    AgentFailed        = internal.AgentFailed
    AgentConfigUpdated = internal.AgentConfigUpdated

    TaskStarted   = internal.TaskStarted
    TaskProgress  = internal.TaskProgress
    TaskCompleted = internal.TaskCompleted
    TaskFailed    = internal.TaskFailed
    TaskCancelled = internal.TaskCancelled

    WorkflowStarted       = internal.WorkflowStarted
    WorkflowStepCompleted = internal.WorkflowStepCompleted
    WorkflowCompleted     = internal.WorkflowCompleted
    WorkflowFailed        = internal.WorkflowFailed
    WorkflowCancelled     = internal.WorkflowCancelled
)
```

<a name="AssertAgentAction"></a>
## func [AssertAgentAction](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L348>)

```go
func AssertAgentAction(t *testing.T, action AgentAction, expectedTool string)
```

AssertAgentAction validates agent action properties.

<a name="AssertAgentFinish"></a>
## func [AssertAgentFinish](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L356>)

```go
func AssertAgentFinish(t *testing.T, finish AgentFinish, expectedMinReturnValues int)
```

AssertAgentFinish validates agent finish properties.

<a name="AssertDocument"></a>
## func [AssertDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L332>)

```go
func AssertDocument(t *testing.T, document Document, expectedMinContentLength int)
```

AssertDocument validates document properties.

<a name="AssertErrorType"></a>
## func [AssertErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L375>)

```go
func AssertErrorType(t *testing.T, err error, expectedCode string)
```

AssertErrorType validates error types and codes.

<a name="AssertMessage"></a>
## func [AssertMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L323>)

```go
func AssertMessage(t *testing.T, message Message, expectedType iface.MessageType, expectedMinLength int)
```

AssertMessage validates message properties.

<a name="AssertMessageHistory"></a>
## func [AssertMessageHistory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L364>)

```go
func AssertMessageHistory(t *testing.T, messages []Message, expectedMinCount int)
```

AssertMessageHistory validates message history.

<a name="AssertToolCall"></a>
## func [AssertToolCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L340>)

```go
func AssertToolCall(t *testing.T, toolCall iface.ToolCall, expectedName string)
```

AssertToolCall validates tool call properties.

<a name="CreateTestToolCall"></a>
## func [CreateTestToolCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L290>)

```go
func CreateTestToolCall(name, input string) iface.ToolCall
```

CreateTestToolCall creates a test tool call.

<a name="ExtractMultimodalData"></a>
## func [ExtractMultimodalData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L80>)

```go
func ExtractMultimodalData(msg Message) map[string]any
```

ExtractMultimodalData extracts multimodal data from a Message if present. Returns a map with keys: "image\_url", "image\_data", "video\_url", "video\_data", etc.

<a name="ExtractMultimodalDocumentData"></a>
## func [ExtractMultimodalDocumentData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L114>)

```go
func ExtractMultimodalDocumentData(doc Document) map[string]any
```

ExtractMultimodalDocumentData extracts multimodal data from a Document if present. Since Document is a struct type, this checks metadata for voice-specific indicators. Returns a map with keys: "audio\_url", "audio\_data", "transcript", etc.

<a name="ExtractMultimodalDocumentDataFromVoiceDocument"></a>
## func [ExtractMultimodalDocumentDataFromVoiceDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L150>)

```go
func ExtractMultimodalDocumentDataFromVoiceDocument(voiceDoc *VoiceDocument) map[string]any
```

ExtractMultimodalDocumentDataFromVoiceDocument extracts multimodal data from a VoiceDocument. This is the preferred method when you have a VoiceDocument instance.

<a name="HasMultimodalContent"></a>
## func [HasMultimodalContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L68>)

```go
func HasMultimodalContent(msg Message) bool
```

HasMultimodalContent checks if a Message contains multimodal content (image, video, or audio).

<a name="HasMultimodalDocument"></a>
## func [HasMultimodalDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L74>)

```go
func HasMultimodalDocument(doc Document) bool
```

HasMultimodalDocument checks if a Document contains multimodal content (audio/voice). This checks metadata for voice-specific indicators since Document is a struct type.

<a name="IsImageMessage"></a>
## func [IsImageMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L16>)

```go
func IsImageMessage(msg Message) bool
```

IsImageMessage checks if a Message is an ImageMessage.

<a name="IsSchemaError"></a>
## func [IsSchemaError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L66>)

```go
func IsSchemaError(err error) bool
```

IsSchemaError checks if an error is a SchemaError.

<a name="IsVideoMessage"></a>
## func [IsVideoMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L31>)

```go
func IsVideoMessage(msg Message) bool
```

IsVideoMessage checks if a Message is a VideoMessage.

<a name="IsVoiceDocument"></a>
## func [IsVoiceDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L51>)

```go
func IsVoiceDocument(doc Document) bool
```

IsVoiceDocument checks if a Document is a VoiceDocument. Note: This is limited since Document is a struct type, not an interface.

<a name="NewImageMessage"></a>
## func [NewImageMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L88>)

```go
func NewImageMessage(imageURL string, textContent string) iface.Message
```

NewImageMessage creates a new ImageMessage with a URL.

<a name="NewImageMessageWithContext"></a>
## func [NewImageMessageWithContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L106>)

```go
func NewImageMessageWithContext(ctx context.Context, imageURL string, textContent string) iface.Message
```

NewImageMessageWithContext creates a new ImageMessage with OTEL tracing context.

<a name="NewImageMessageWithData"></a>
## func [NewImageMessageWithData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L97>)

```go
func NewImageMessageWithData(imageData []byte, format string, textContent string) iface.Message
```

NewImageMessageWithData creates a new ImageMessage with image data.

<a name="NewVideoMessage"></a>
## func [NewVideoMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L97>)

```go
func NewVideoMessage(videoURL string, textContent string) iface.Message
```

NewVideoMessage creates a new VideoMessage with a URL.

<a name="NewVideoMessageWithContext"></a>
## func [NewVideoMessageWithContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L115>)

```go
func NewVideoMessageWithContext(ctx context.Context, videoURL string, textContent string) iface.Message
```

NewVideoMessageWithContext creates a new VideoMessage with OTEL tracing context.

<a name="NewVideoMessageWithData"></a>
## func [NewVideoMessageWithData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L106>)

```go
func NewVideoMessageWithData(videoData []byte, format string, textContent string) iface.Message
```

NewVideoMessageWithData creates a new VideoMessage with video data.

<a name="RecordA2ACommunicationError"></a>
## func [RecordA2ACommunicationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L974>)

```go
func RecordA2ACommunicationError(ctx context.Context, operation string, err error)
```

RecordA2ACommunicationError records an A2A communication error if global metrics is set.

<a name="RecordAgentActionCreated"></a>
## func [RecordAgentActionCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L881>)

```go
func RecordAgentActionCreated(ctx context.Context, tool string)
```

RecordAgentActionCreated records an agent action if global metrics is set.

<a name="RecordAgentLifecycleEvent"></a>
## func [RecordAgentLifecycleEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L997>)

```go
func RecordAgentLifecycleEvent(ctx context.Context, agentID, eventType string)
```

RecordAgentLifecycleEvent records an agent lifecycle event if global metrics is set.

<a name="RecordAgentMessageReceived"></a>
## func [RecordAgentMessageReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L939>)

```go
func RecordAgentMessageReceived(ctx context.Context, messageType, toAgentID string)
```

RecordAgentMessageReceived records an agent message received if global metrics is set.

<a name="RecordAgentMessageSent"></a>
## func [RecordAgentMessageSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L932>)

```go
func RecordAgentMessageSent(ctx context.Context, messageType, fromAgentID string)
```

RecordAgentMessageSent records an agent message sent if global metrics is set.

<a name="RecordAgentObservationCreated"></a>
## func [RecordAgentObservationCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L888>)

```go
func RecordAgentObservationCreated(ctx context.Context)
```

RecordAgentObservationCreated records an agent observation if global metrics is set.

<a name="RecordAgentRequestReceived"></a>
## func [RecordAgentRequestReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L953>)

```go
func RecordAgentRequestReceived(ctx context.Context, action, toAgentID string)
```

RecordAgentRequestReceived records an agent request received if global metrics is set.

<a name="RecordAgentRequestSent"></a>
## func [RecordAgentRequestSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L946>)

```go
func RecordAgentRequestSent(ctx context.Context, action, fromAgentID string)
```

RecordAgentRequestSent records an agent request sent if global metrics is set.

<a name="RecordAgentResponseReceived"></a>
## func [RecordAgentResponseReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L967>)

```go
func RecordAgentResponseReceived(ctx context.Context, status, fromAgentID string)
```

RecordAgentResponseReceived records an agent response received if global metrics is set.

<a name="RecordAgentResponseSent"></a>
## func [RecordAgentResponseSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L960>)

```go
func RecordAgentResponseSent(ctx context.Context, status, toAgentID string)
```

RecordAgentResponseSent records an agent response sent if global metrics is set.

<a name="RecordConfigError"></a>
## func [RecordConfigError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L923>)

```go
func RecordConfigError(ctx context.Context, configType string, err error)
```

RecordConfigError records a config error if global metrics is set.

<a name="RecordConfigValidation"></a>
## func [RecordConfigValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L916>)

```go
func RecordConfigValidation(ctx context.Context, configType string)
```

RecordConfigValidation records a config validation if global metrics is set.

<a name="RecordDocumentCreated"></a>
## func [RecordDocumentCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L853>)

```go
func RecordDocumentCreated(ctx context.Context)
```

RecordDocumentCreated records a document creation if global metrics is set.

<a name="RecordDocumentError"></a>
## func [RecordDocumentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L860>)

```go
func RecordDocumentError(ctx context.Context, err error)
```

RecordDocumentError records a document error if global metrics is set.

<a name="RecordDocumentValidation"></a>
## func [RecordDocumentValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1055>)

```go
func RecordDocumentValidation(ctx context.Context)
```

RecordDocumentValidation records a document validation if global metrics is set.

<a name="RecordDocumentValidationError"></a>
## func [RecordDocumentValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1062>)

```go
func RecordDocumentValidationError(ctx context.Context, err error)
```

RecordDocumentValidationError records a document validation error if global metrics is set.

<a name="RecordEventConsumed"></a>
## func [RecordEventConsumed](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L990>)

```go
func RecordEventConsumed(ctx context.Context, eventType, consumer string)
```

RecordEventConsumed records an event consumed if global metrics is set.

<a name="RecordEventProcessingError"></a>
## func [RecordEventProcessingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1018>)

```go
func RecordEventProcessingError(ctx context.Context, eventType string, err error)
```

RecordEventProcessingError records an event processing error if global metrics is set.

<a name="RecordEventPublished"></a>
## func [RecordEventPublished](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L983>)

```go
func RecordEventPublished(ctx context.Context, eventType, source string)
```

RecordEventPublished records an event published if global metrics is set.

<a name="RecordFactoryCreation"></a>
## func [RecordFactoryCreation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1071>)

```go
func RecordFactoryCreation(ctx context.Context, objectType string)
```

RecordFactoryCreation records a factory creation if global metrics is set.

<a name="RecordFactoryError"></a>
## func [RecordFactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1078>)

```go
func RecordFactoryError(ctx context.Context, objectType string, err error)
```

RecordFactoryError records a factory error if global metrics is set.

<a name="RecordGenerationCreated"></a>
## func [RecordGenerationCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L902>)

```go
func RecordGenerationCreated(ctx context.Context)
```

RecordGenerationCreated records a generation creation if global metrics is set.

<a name="RecordHistoryOperation"></a>
## func [RecordHistoryOperation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L867>)

```go
func RecordHistoryOperation(ctx context.Context, operation string)
```

RecordHistoryOperation records a history operation if global metrics is set.

<a name="RecordHistorySize"></a>
## func [RecordHistorySize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L874>)

```go
func RecordHistorySize(ctx context.Context, size int)
```

RecordHistorySize records history size if global metrics is set.

<a name="RecordLLMResponseCreated"></a>
## func [RecordLLMResponseCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L909>)

```go
func RecordLLMResponseCreated(ctx context.Context)
```

RecordLLMResponseCreated records an LLM response creation if global metrics is set.

<a name="RecordMessageCreated"></a>
## func [RecordMessageCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L839>)

```go
func RecordMessageCreated(ctx context.Context, msgType MessageType)
```

RecordMessageCreated records a message creation if global metrics is set.

<a name="RecordMessageError"></a>
## func [RecordMessageError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L846>)

```go
func RecordMessageError(ctx context.Context, msgType MessageType, err error)
```

RecordMessageError records a message error if global metrics is set.

<a name="RecordMessageValidation"></a>
## func [RecordMessageValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1041>)

```go
func RecordMessageValidation(ctx context.Context, msgType MessageType)
```

RecordMessageValidation records a message validation if global metrics is set.

<a name="RecordMessageValidationError"></a>
## func [RecordMessageValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1048>)

```go
func RecordMessageValidationError(ctx context.Context, msgType MessageType, err error)
```

RecordMessageValidationError records a message validation error if global metrics is set.

<a name="RecordSchemaValidation"></a>
## func [RecordSchemaValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1027>)

```go
func RecordSchemaValidation(ctx context.Context, validationType string)
```

RecordSchemaValidation records a schema validation if global metrics is set.

<a name="RecordSchemaValidationError"></a>
## func [RecordSchemaValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1034>)

```go
func RecordSchemaValidationError(ctx context.Context, validationType string, err error)
```

RecordSchemaValidationError records a schema validation error if global metrics is set.

<a name="RecordStepCreated"></a>
## func [RecordStepCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L895>)

```go
func RecordStepCreated(ctx context.Context)
```

RecordStepCreated records a step creation if global metrics is set.

<a name="RecordTaskEvent"></a>
## func [RecordTaskEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1004>)

```go
func RecordTaskEvent(ctx context.Context, taskID, eventType string)
```

RecordTaskEvent records a task event if global metrics is set.

<a name="RecordWorkflowEvent"></a>
## func [RecordWorkflowEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L1011>)

```go
func RecordWorkflowEvent(ctx context.Context, workflowID, eventType string)
```

RecordWorkflowEvent records a workflow event if global metrics is set.

<a name="RunLoadTest"></a>
## func [RunLoadTest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L446>)

```go
func RunLoadTest(t *testing.T, message *AdvancedMockMessage, numOperations, concurrency int)
```

RunLoadTest executes a load test scenario on schema components.

<a name="SetGlobalMetrics"></a>
## func [SetGlobalMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L827>)

```go
func SetGlobalMetrics(m *Metrics)
```

SetGlobalMetrics sets the global metrics instance.

<a name="ValidateConversationFlow"></a>
## func [ValidateConversationFlow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L696>)

```go
func ValidateConversationFlow(messages []Message) error
```

ValidateConversationFlow checks if message sequence follows proper conversation patterns.

<a name="ValidateDocument"></a>
## func [ValidateDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L629>)

```go
func ValidateDocument(doc Document) error
```

ValidateDocument validates a document.

<a name="ValidateDocumentCollection"></a>
## func [ValidateDocumentCollection](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L720>)

```go
func ValidateDocumentCollection(documents []Document) error
```

ValidateDocumentCollection validates a collection of documents.

<a name="ValidateMessage"></a>
## func [ValidateMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L612>)

```go
func ValidateMessage(msg Message) error
```

ValidateMessage validates a message implementation.

<a name="ValidateMessageType"></a>
## func [ValidateMessageType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L677>)

```go
func ValidateMessageType(msgType iface.MessageType) bool
```

ValidateMessageType checks if a message type is valid.

<a name="AIMessage"></a>
## type [AIMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L52>)

Re-export types from iface and internal packages.

```go
type AIMessage = internal.AIMessage
```

<a name="AdvancedMockDocument"></a>
## type [AdvancedMockDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L136-L144>)

AdvancedMockDocument provides a comprehensive mock implementation for testing.

```go
type AdvancedMockDocument struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockDocument"></a>
### func [NewAdvancedMockDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L146>)

```go
func NewAdvancedMockDocument(content string, metadata map[string]string, options ...MockDocumentOption) *AdvancedMockDocument
```

<a name="AdvancedMockDocument.AdditionalArgs"></a>
### func (*AdvancedMockDocument) [AdditionalArgs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L208>)

```go
func (d *AdvancedMockDocument) AdditionalArgs() map[string]any
```

<a name="AdvancedMockDocument.GetCallCount"></a>
### func (*AdvancedMockDocument) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L239>)

```go
func (d *AdvancedMockDocument) GetCallCount() int
```

<a name="AdvancedMockDocument.GetContent"></a>
### func (*AdvancedMockDocument) [GetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L193>)

```go
func (d *AdvancedMockDocument) GetContent() string
```

Document interface implementation.

<a name="AdvancedMockDocument.GetEmbedding"></a>
### func (*AdvancedMockDocument) [GetEmbedding](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L227>)

```go
func (d *AdvancedMockDocument) GetEmbedding() []float32
```

<a name="AdvancedMockDocument.GetID"></a>
### func (*AdvancedMockDocument) [GetID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L223>)

```go
func (d *AdvancedMockDocument) GetID() string
```

<a name="AdvancedMockDocument.GetMetadata"></a>
### func (*AdvancedMockDocument) [GetMetadata](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L213>)

```go
func (d *AdvancedMockDocument) GetMetadata() map[string]string
```

Additional document-specific methods.

<a name="AdvancedMockDocument.GetScore"></a>
### func (*AdvancedMockDocument) [GetScore](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L235>)

```go
func (d *AdvancedMockDocument) GetScore() float32
```

<a name="AdvancedMockDocument.GetType"></a>
### func (*AdvancedMockDocument) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L200>)

```go
func (d *AdvancedMockDocument) GetType() iface.MessageType
```

<a name="AdvancedMockDocument.ToolCalls"></a>
### func (*AdvancedMockDocument) [ToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L204>)

```go
func (d *AdvancedMockDocument) ToolCalls() []iface.ToolCall
```

<a name="AdvancedMockMessage"></a>
## type [AdvancedMockMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L19-L29>)

AdvancedMockMessage provides a comprehensive mock implementation for testing.

```go
type AdvancedMockMessage struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockMessage"></a>
### func [NewAdvancedMockMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L32>)

```go
func NewAdvancedMockMessage(messageType iface.MessageType, content string, options ...MockMessageOption) *AdvancedMockMessage
```

NewAdvancedMockMessage creates a new advanced mock message.

<a name="AdvancedMockMessage.AddToolCall"></a>
### func (*AdvancedMockMessage) [AddToolCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L116>)

```go
func (m *AdvancedMockMessage) AddToolCall(toolCall iface.ToolCall)
```

<a name="AdvancedMockMessage.AdditionalArgs"></a>
### func (*AdvancedMockMessage) [AdditionalArgs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L93>)

```go
func (m *AdvancedMockMessage) AdditionalArgs() map[string]any
```

<a name="AdvancedMockMessage.CheckHealth"></a>
### func (*AdvancedMockMessage) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L122>)

```go
func (m *AdvancedMockMessage) CheckHealth() map[string]any
```

<a name="AdvancedMockMessage.GetCallCount"></a>
### func (*AdvancedMockMessage) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L104>)

```go
func (m *AdvancedMockMessage) GetCallCount() int
```

Additional helper methods for testing.

<a name="AdvancedMockMessage.GetContent"></a>
### func (*AdvancedMockMessage) [GetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L78>)

```go
func (m *AdvancedMockMessage) GetContent() string
```

<a name="AdvancedMockMessage.GetType"></a>
### func (*AdvancedMockMessage) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L71>)

```go
func (m *AdvancedMockMessage) GetType() iface.MessageType
```

Mock implementation methods for Message interface.

<a name="AdvancedMockMessage.SetContent"></a>
### func (*AdvancedMockMessage) [SetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L110>)

```go
func (m *AdvancedMockMessage) SetContent(content string)
```

<a name="AdvancedMockMessage.ToolCalls"></a>
### func (*AdvancedMockMessage) [ToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L85>)

```go
func (m *AdvancedMockMessage) ToolCalls() []iface.ToolCall
```

<a name="AgentAction"></a>
## type [AgentAction](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L36>)

Re-export types from iface and internal packages.

```go
type AgentAction = internal.AgentAction
```

<a name="CreateTestAgentAction"></a>
### func [CreateTestAgentAction](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L304>)

```go
func CreateTestAgentAction(tool, input, log string) AgentAction
```

CreateTestAgentAction creates a test agent action.

<a name="NewAgentAction"></a>
### func [NewAgentAction](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L335>)

```go
func NewAgentAction(tool string, toolInput any, log string) AgentAction
```

NewAgentAction creates a new AgentAction.

<a name="AgentConfig"></a>
## type [AgentConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L12-L26>)

AgentConfig defines the configuration for an agent. This can include settings for the LLM, tools, memory, and other agent-specific parameters.

```go
type AgentConfig struct {
    Settings              map[string]any `mapstructure:"settings" yaml:"settings,omitempty" json:"settings,omitempty"`
    AgentSpecificConfig   map[string]any `yaml:"agent_specific_config,omitempty" json:"agent_specific_config,omitempty"`
    PromptTemplate        string         `yaml:"prompt_template,omitempty" json:"prompt_template,omitempty"`
    MemoryProviderName    string         `mapstructure:"memory_provider_name" yaml:"memory_provider_name,omitempty" json:"memory_provider_name,omitempty"`
    MemoryType            string         `mapstructure:"memory_type" yaml:"memory_type,omitempty" json:"memory_type,omitempty"`
    MemoryConfigName      string         `mapstructure:"memory_config_name" yaml:"memory_config_name,omitempty" json:"memory_config_name,omitempty"`
    LLMProviderConfigName string         `mapstructure:"llm_provider_config_name" yaml:"llm_provider_config_name,omitempty" json:"llm_provider_config_name,omitempty"`
    Name                  string         `mapstructure:"name" yaml:"name" json:"name" validate:"required"`
    OutputParser          string         `yaml:"output_parser,omitempty" json:"output_parser,omitempty"`
    AgentType             string         `yaml:"agent_type,omitempty" json:"agent_type,omitempty"`
    LLMProviderName       string         `mapstructure:"llm_provider_name" yaml:"llm_provider_name" json:"llm_provider_name" validate:"required"`
    ToolNames             []string       `mapstructure:"tool_names" yaml:"tool_names,omitempty" json:"tool_names,omitempty"`
    MaxIterations         int            `mapstructure:"max_iterations" yaml:"max_iterations,omitempty" json:"max_iterations,omitempty" validate:"min=1"`
}
```

<a name="NewAgentConfig"></a>
### func [NewAgentConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L95>)

```go
func NewAgentConfig(name, llmProviderName string, opts ...AgentOption) (*AgentConfig, error)
```

NewAgentConfig creates a new AgentConfig with validation.

<a name="AgentConfig.Validate"></a>
### func (*AgentConfig) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L59>)

```go
func (c *AgentConfig) Validate() error
```

Validate validates the AgentConfig struct.

<a name="AgentError"></a>
## type [AgentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L60>)

Re-export types from iface and internal packages.

```go
type AgentError = internal.AgentError
```

<a name="NewAgentError"></a>
### func [NewAgentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L496>)

```go
func NewAgentError(code, message string, details map[string]any) *AgentError
```

NewAgentError creates a new AgentError.

<a name="AgentFinish"></a>
## type [AgentFinish](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L40>)

Re-export types from iface and internal packages.

```go
type AgentFinish = internal.AgentFinish
```

<a name="CreateTestAgentFinish"></a>
### func [CreateTestAgentFinish](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L313>)

```go
func CreateTestAgentFinish(returnValues map[string]any, log string) AgentFinish
```

CreateTestAgentFinish creates a test agent finish.

<a name="NewAgentFinish"></a>
### func [NewAgentFinish](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L370>)

```go
func NewAgentFinish(returnValues map[string]any, log string) AgentFinish
```

NewAgentFinish creates a new AgentFinish.

<a name="AgentLifecycleEvent"></a>
## type [AgentLifecycleEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L64>)

Re-export types from iface and internal packages.

```go
type AgentLifecycleEvent = internal.AgentLifecycleEvent
```

<a name="NewAgentLifecycleEvent"></a>
### func [NewAgentLifecycleEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L520>)

```go
func NewAgentLifecycleEvent(agentID string, eventType AgentLifecycleEventType) AgentLifecycleEvent
```

NewAgentLifecycleEvent creates a new AgentLifecycleEvent.

<a name="AgentLifecycleEventType"></a>
## type [AgentLifecycleEventType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L65>)

Re-export types from iface and internal packages.

```go
type AgentLifecycleEventType = internal.AgentLifecycleEventType
```

<a name="AgentMessage"></a>
## type [AgentMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L56>)

A2A Communication Types.

```go
type AgentMessage = internal.AgentMessage
```

<a name="NewAgentMessage"></a>
### func [NewAgentMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L467>)

```go
func NewAgentMessage(fromAgentID, messageID string, messageType AgentMessageType, payload any) AgentMessage
```

NewAgentMessage creates a new AgentMessage.

<a name="AgentMessageType"></a>
## type [AgentMessageType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L57>)

Re-export types from iface and internal packages.

```go
type AgentMessageType = internal.AgentMessageType
```

<a name="AgentObservation"></a>
## type [AgentObservation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L37>)

Re-export types from iface and internal packages.

```go
type AgentObservation = internal.AgentObservation
```

<a name="NewAgentObservation"></a>
### func [NewAgentObservation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L344>)

```go
func NewAgentObservation(actionLog, output string, parsedOutput any) AgentObservation
```

NewAgentObservation creates a new AgentObservation.

<a name="AgentOption"></a>
## type [AgentOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L294>)

AgentOption defines a function type for AgentConfig options.

```go
type AgentOption func(*AgentConfig)
```

<a name="WithAgentType"></a>
### func [WithAgentType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L326>)

```go
func WithAgentType(agentType string) AgentOption
```

WithAgentType sets the agent type.

<a name="WithMaxIterations"></a>
### func [WithMaxIterations](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L312>)

```go
func WithMaxIterations(maxIterations int) AgentOption
```

WithMaxIterations sets the maximum iterations for the agent.

<a name="WithMemoryProvider"></a>
### func [WithMemoryProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L304>)

```go
func WithMemoryProvider(providerName, memoryType string) AgentOption
```

WithMemoryProvider sets the memory provider for the agent.

<a name="WithPromptTemplate"></a>
### func [WithPromptTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L319>)

```go
func WithPromptTemplate(template string) AgentOption
```

WithPromptTemplate sets the prompt template for the agent.

<a name="WithToolNames"></a>
### func [WithToolNames](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L297>)

```go
func WithToolNames(toolNames []string) AgentOption
```

WithToolNames sets the tool names for the agent.

<a name="AgentRequest"></a>
## type [AgentRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L58>)

Re-export types from iface and internal packages.

```go
type AgentRequest = internal.AgentRequest
```

<a name="NewAgentRequest"></a>
### func [NewAgentRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L479>)

```go
func NewAgentRequest(action string, parameters map[string]any) AgentRequest
```

NewAgentRequest creates a new AgentRequest.

<a name="AgentResponse"></a>
## type [AgentResponse](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L59>)

Re-export types from iface and internal packages.

```go
type AgentResponse = internal.AgentResponse
```

<a name="NewAgentResponse"></a>
### func [NewAgentResponse](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L487>)

```go
func NewAgentResponse(requestID, status string, result any) AgentResponse
```

NewAgentResponse creates a new AgentResponse.

<a name="AgentScratchPadEntry"></a>
## type [AgentScratchPadEntry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L41>)

Re-export types from iface and internal packages.

```go
type AgentScratchPadEntry = internal.AgentScratchPadEntry
```

<a name="BaseChatHistory"></a>
## type [BaseChatHistory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L47>)

Re-export types from iface and internal packages.

```go
type BaseChatHistory = internal.BaseChatHistory
```

<a name="BenchmarkHelper"></a>
## type [BenchmarkHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L622-L625>)

BenchmarkHelper provides benchmarking utilities for schema.

```go
type BenchmarkHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewBenchmarkHelper"></a>
### func [NewBenchmarkHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L627>)

```go
func NewBenchmarkHelper(messageCount, documentCount int) *BenchmarkHelper
```

<a name="BenchmarkHelper.BenchmarkDocumentOperations"></a>
### func (*BenchmarkHelper) [BenchmarkDocumentOperations](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L649>)

```go
func (b *BenchmarkHelper) BenchmarkDocumentOperations(iterations int) (time.Duration, error)
```

<a name="BenchmarkHelper.BenchmarkMessageOperations"></a>
### func (*BenchmarkHelper) [BenchmarkMessageOperations](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L634>)

```go
func (b *BenchmarkHelper) BenchmarkMessageOperations(iterations int) (time.Duration, error)
```

<a name="BenchmarkHelper.BenchmarkSchemaCreation"></a>
### func (*BenchmarkHelper) [BenchmarkSchemaCreation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L663>)

```go
func (b *BenchmarkHelper) BenchmarkSchemaCreation(iterations int) (time.Duration, error)
```

<a name="CallOptions"></a>
## type [CallOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L49>)

Re-export types from iface and internal packages.

```go
type CallOptions = internal.CallOptions
```

<a name="NewCallOptions"></a>
### func [NewCallOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L380>)

```go
func NewCallOptions() *CallOptions
```

NewCallOptions creates a new CallOptions with default values.

<a name="ChatHistory"></a>
## type [ChatHistory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L32>)

Re-export types from iface and internal packages.

```go
type ChatHistory = iface.ChatHistory
```

<a name="NewBaseChatHistory"></a>
### func [NewBaseChatHistory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L323>)

```go
func NewBaseChatHistory(opts ...ChatHistoryOption) (ChatHistory, error)
```

NewBaseChatHistory creates a new BaseChatHistory.

<a name="ChatHistoryConfig"></a>
## type [ChatHistoryConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L48>)

Re-export types from iface and internal packages.

```go
type ChatHistoryConfig = internal.ChatHistoryConfig
```

<a name="NewChatHistoryConfig"></a>
### func [NewChatHistoryConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L175>)

```go
func NewChatHistoryConfig(opts ...ChatHistoryOption) (*ChatHistoryConfig, error)
```

NewChatHistoryConfig creates a new ChatHistoryConfig with validation.

<a name="ChatHistoryOption"></a>
## type [ChatHistoryOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L398>)

ChatHistoryOption defines a function type for ChatHistoryConfig options.

```go
type ChatHistoryOption func(*ChatHistoryConfig)
```

<a name="WithMaxMessages"></a>
### func [WithMaxMessages](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L401>)

```go
func WithMaxMessages(maxMessages int) ChatHistoryOption
```

WithMaxMessages sets the maximum number of messages to keep in history.

<a name="WithPersistence"></a>
### func [WithPersistence](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L415>)

```go
func WithPersistence(enable bool) ChatHistoryOption
```

WithPersistence enables or disables persistence for chat history.

<a name="WithTTL"></a>
### func [WithTTL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L408>)

```go
func WithTTL(ttl time.Duration) ChatHistoryOption
```

WithTTL sets the time-to-live for messages in history.

<a name="ChatMessage"></a>
## type [ChatMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L51>)

Re-export types from iface and internal packages.

```go
type ChatMessage = internal.ChatMessage
```

<a name="ConcurrentTestRunner"></a>
## type [ConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L387-L391>)

ConcurrentTestRunner runs schema tests concurrently for performance testing.

```go
type ConcurrentTestRunner struct {
    NumGoroutines int
    TestDuration  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewConcurrentTestRunner"></a>
### func [NewConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L393>)

```go
func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner
```

<a name="ConcurrentTestRunner.Run"></a>
### func (*ConcurrentTestRunner) [Run](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L401>)

```go
func (r *ConcurrentTestRunner) Run() error
```

<a name="Document"></a>
## type [Document](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L35>)

Types from internal.

```go
type Document = internal.Document
```

<a name="CreateTestDocuments"></a>
### func [CreateTestDocuments](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L270>)

```go
func CreateTestDocuments(count int, topic string) []Document
```

CreateTestDocuments creates a set of test documents.

<a name="NewDocument"></a>
### func [NewDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L265>)

```go
func NewDocument(pageContent string, metadata map[string]string) Document
```

NewDocument creates a new Document. Documents are used for storing text content with metadata in RAG pipelines.

Parameters:

- pageContent: The main text content of the document
- metadata: Optional metadata map (source, author, topic, etc.)

Returns:

- Document: A new document instance

Example:

```
doc := schema.NewDocument(
    "Machine learning is a subset of AI.",
    map[string]string{"source": "textbook", "topic": "AI"},
)
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewDocumentWithEmbedding"></a>
### func [NewDocumentWithEmbedding](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L314>)

```go
func NewDocumentWithEmbedding(pageContent string, metadata map[string]string, embedding []float32) Document
```

NewDocumentWithEmbedding creates a new Document with an embedding. This is useful when you have pre-computed embeddings for the document.

Parameters:

- pageContent: The main text content of the document
- metadata: Optional metadata map
- embedding: Pre-computed embedding vector for the document

Returns:

- Document: A new document instance with the embedding

Example:

```
embedding := []float32{0.1, 0.2, 0.3, ...} // 768-dimensional vector
doc := schema.NewDocumentWithEmbedding(
    "Machine learning is a subset of AI.",
    map[string]string{"source": "textbook"},
    embedding,
)
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewDocumentWithID"></a>
### func [NewDocumentWithID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L289>)

```go
func NewDocumentWithID(id, pageContent string, metadata map[string]string) Document
```

NewDocumentWithID creates a new Document with an ID. This is useful when you need to track documents by a specific identifier.

Parameters:

- id: Unique identifier for the document
- pageContent: The main text content of the document
- metadata: Optional metadata map

Returns:

- Document: A new document instance with the specified ID

Example:

```
doc := schema.NewDocumentWithID(
    "doc_123",
    "Machine learning is a subset of AI.",
    map[string]string{"source": "textbook"},
)
```

Example usage can be found in examples/schema/basic/main.go

<a name="EmbeddingOption"></a>
## type [EmbeddingOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L364>)

EmbeddingOption defines a function type for EmbeddingProviderConfig options.

```go
type EmbeddingOption func(*EmbeddingProviderConfig)
```

<a name="WithEmbeddingBaseURL"></a>
### func [WithEmbeddingBaseURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L367>)

```go
func WithEmbeddingBaseURL(baseURL string) EmbeddingOption
```

WithEmbeddingBaseURL sets the base URL for the embedding provider.

<a name="WithEmbeddingProviderSpecific"></a>
### func [WithEmbeddingProviderSpecific](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L374>)

```go
func WithEmbeddingProviderSpecific(specific map[string]any) EmbeddingOption
```

WithEmbeddingProviderSpecific sets provider-specific configuration for embeddings.

<a name="EmbeddingProviderConfig"></a>
## type [EmbeddingProviderConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L41-L48>)

EmbeddingProviderConfig defines the configuration for a specific embedding provider instance.

```go
type EmbeddingProviderConfig struct {
    ProviderSpecific map[string]any `mapstructure:"provider_specific" yaml:"provider_specific,omitempty" json:"provider_specific,omitempty"`
    Name             string         `mapstructure:"name" yaml:"name" json:"name" validate:"required"`
    Provider         string         `mapstructure:"provider" yaml:"provider" json:"provider" validate:"required"`
    ModelName        string         `mapstructure:"model_name" yaml:"model_name" json:"model_name" validate:"required"`
    APIKey           string         `mapstructure:"api_key" yaml:"api_key" json:"-" validate:"required"`
    BaseURL          string         `mapstructure:"base_url" yaml:"base_url,omitempty" json:"base_url,omitempty"`
}
```

<a name="NewEmbeddingProviderConfig"></a>
### func [NewEmbeddingProviderConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L135>)

```go
func NewEmbeddingProviderConfig(name, provider, modelName, apiKey string, opts ...EmbeddingOption) (*EmbeddingProviderConfig, error)
```

NewEmbeddingProviderConfig creates a new EmbeddingProviderConfig with validation.

<a name="EmbeddingProviderConfig.Validate"></a>
### func (*EmbeddingProviderConfig) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L77>)

```go
func (c *EmbeddingProviderConfig) Validate() error
```

Validate validates the EmbeddingProviderConfig struct.

<a name="Event"></a>
## type [Event](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L63>)

Event Types.

```go
type Event = internal.Event
```

<a name="NewEvent"></a>
### func [NewEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L507>)

```go
func NewEvent(eventID, eventType, source string, payload any) Event
```

NewEvent creates a new Event.

<a name="FinalAnswer"></a>
## type [FinalAnswer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L39>)

Re-export types from iface and internal packages.

```go
type FinalAnswer = internal.FinalAnswer
```

<a name="NewFinalAnswer"></a>
### func [NewFinalAnswer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L361>)

```go
func NewFinalAnswer(output string, sourceDocuments []any, intermediateSteps []Step) FinalAnswer
```

NewFinalAnswer creates a new FinalAnswer.

<a name="FunctionCall"></a>
## type [FunctionCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L44>)

Re-export types from iface and internal packages.

```go
type FunctionCall = iface.FunctionCall
```

<a name="Generation"></a>
## type [Generation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L45>)

Re-export types from iface and internal packages.

```go
type Generation = internal.Generation
```

<a name="NewGeneration"></a>
### func [NewGeneration](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L448>)

```go
func NewGeneration(text string, message Message, generationInfo map[string]any) *Generation
```

NewGeneration creates a new Generation.

<a name="ImageMessage"></a>
## type [ImageMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L18-L24>)

ImageMessage represents a message containing an image. It implements the Message interface and extends BaseMessage with image-specific data.

```go
type ImageMessage struct {
    internal.BaseMessage
    ImageURL    string            `json:"image_url,omitempty"`    // URL to the image
    ImageData   []byte            `json:"image_data,omitempty"`   // Base64-encoded image data
    ImageFormat string            `json:"image_format,omitempty"` // Format: "png", "jpeg", "webp", etc.
    Metadata    map[string]string `json:"metadata,omitempty"`     // Additional image metadata
}
```

<a name="AsImageMessage"></a>
### func [AsImageMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L8>)

```go
func AsImageMessage(msg Message) (*ImageMessage, bool)
```

AsImageMessage attempts to convert a Message to ImageMessage. Returns the ImageMessage and true if the conversion succeeds, nil and false otherwise.

<a name="ImageMessage.AdditionalArgs"></a>
### func (*ImageMessage) [AdditionalArgs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L52>)

```go
func (m *ImageMessage) AdditionalArgs() map[string]any
```

AdditionalArgs returns additional arguments including image data.

<a name="ImageMessage.GetContent"></a>
### func (*ImageMessage) [GetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L33>)

```go
func (m *ImageMessage) GetContent() string
```

GetContent returns a text description or placeholder for the image. For multimodal messages, the actual content is in ImageURL or ImageData.

<a name="ImageMessage.GetImageData"></a>
### func (*ImageMessage) [GetImageData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L78>)

```go
func (m *ImageMessage) GetImageData() []byte
```

GetImageData returns the image data if present.

<a name="ImageMessage.GetImageFormat"></a>
### func (*ImageMessage) [GetImageFormat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L83>)

```go
func (m *ImageMessage) GetImageFormat() string
```

GetImageFormat returns the image format.

<a name="ImageMessage.GetImageURL"></a>
### func (*ImageMessage) [GetImageURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L73>)

```go
func (m *ImageMessage) GetImageURL() string
```

GetImageURL returns the image URL if present.

<a name="ImageMessage.GetType"></a>
### func (*ImageMessage) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L27>)

```go
func (m *ImageMessage) GetType() iface.MessageType
```

GetType returns the message type, which is RoleHuman for ImageMessage.

<a name="ImageMessage.HasImageData"></a>
### func (*ImageMessage) [HasImageData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L68>)

```go
func (m *ImageMessage) HasImageData() bool
```

HasImageData returns true if the message contains image data.

<a name="ImageMessage.ToolCalls"></a>
### func (*ImageMessage) [ToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/image_message.go#L47>)

```go
func (m *ImageMessage) ToolCalls() []iface.ToolCall
```

ToolCalls returns an empty slice for ImageMessage.

<a name="IntegrationTestHelper"></a>
## type [IntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L491-L494>)

IntegrationTestHelper provides utilities for integration testing.

```go
type IntegrationTestHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewIntegrationTestHelper"></a>
### func [NewIntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L496>)

```go
func NewIntegrationTestHelper() *IntegrationTestHelper
```

<a name="IntegrationTestHelper.AddDocument"></a>
### func (*IntegrationTestHelper) [AddDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L507>)

```go
func (h *IntegrationTestHelper) AddDocument(name string, document *AdvancedMockDocument)
```

<a name="IntegrationTestHelper.AddMessage"></a>
### func (*IntegrationTestHelper) [AddMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L503>)

```go
func (h *IntegrationTestHelper) AddMessage(name string, message *AdvancedMockMessage)
```

<a name="IntegrationTestHelper.GetDocument"></a>
### func (*IntegrationTestHelper) [GetDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L515>)

```go
func (h *IntegrationTestHelper) GetDocument(name string) *AdvancedMockDocument
```

<a name="IntegrationTestHelper.GetMessage"></a>
### func (*IntegrationTestHelper) [GetMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L511>)

```go
func (h *IntegrationTestHelper) GetMessage(name string) *AdvancedMockMessage
```

<a name="IntegrationTestHelper.Reset"></a>
### func (*IntegrationTestHelper) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L519>)

```go
func (h *IntegrationTestHelper) Reset()
```

<a name="LLMOption"></a>
## type [LLMOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L50>)

Re-export types from iface and internal packages.

```go
type LLMOption = internal.LLMOption
```

<a name="WithFrequencyPenalty"></a>
### func [WithFrequencyPenalty](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L408>)

```go
func WithFrequencyPenalty(penalty float64) LLMOption
```

WithFrequencyPenalty sets the frequency penalty for LLM calls.

<a name="WithMaxTokens"></a>
### func [WithMaxTokens](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L394>)

```go
func WithMaxTokens(maxTokens int) LLMOption
```

WithMaxTokens sets the max tokens for LLM calls.

<a name="WithPresencePenalty"></a>
### func [WithPresencePenalty](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L415>)

```go
func WithPresencePenalty(penalty float64) LLMOption
```

WithPresencePenalty sets the presence penalty for LLM calls.

<a name="WithProviderSpecificArg"></a>
### func [WithProviderSpecificArg](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L436>)

```go
func WithProviderSpecificArg(key string, value any) LLMOption
```

WithProviderSpecificArg adds a provider-specific argument.

<a name="WithStopSequences"></a>
### func [WithStopSequences](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L422>)

```go
func WithStopSequences(stop []string) LLMOption
```

WithStopSequences sets the stop sequences for LLM calls.

<a name="WithStreaming"></a>
### func [WithStreaming](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L429>)

```go
func WithStreaming(streaming bool) LLMOption
```

WithStreaming enables or disables streaming for LLM calls.

<a name="WithTemperature"></a>
### func [WithTemperature](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L387>)

```go
func WithTemperature(temp float64) LLMOption
```

WithTemperature sets the temperature for LLM calls.

<a name="WithTopP"></a>
### func [WithTopP](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L401>)

```go
func WithTopP(topP float64) LLMOption
```

WithTopP sets the TopP for LLM calls.

<a name="LLMProviderConfig"></a>
## type [LLMProviderConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L30-L38>)

LLMProviderConfig defines the configuration for a specific LLM provider instance. It allows for common parameters and a flexible way to include provider-specific settings.

```go
type LLMProviderConfig struct {
    DefaultCallOptions map[string]any `mapstructure:"default_call_options" yaml:"default_call_options,omitempty" json:"default_call_options,omitempty"`
    ProviderSpecific   map[string]any `mapstructure:"provider_specific" yaml:"provider_specific,omitempty" json:"provider_specific,omitempty"`
    Name               string         `mapstructure:"name" yaml:"name" json:"name" validate:"required"`
    Provider           string         `mapstructure:"provider" yaml:"provider" json:"provider" validate:"required"`
    ModelName          string         `mapstructure:"model_name" yaml:"model_name" json:"model_name" validate:"required"`
    APIKey             string         `mapstructure:"api_key" yaml:"api_key,omitempty" json:"-"`
    BaseURL            string         `mapstructure:"base_url" yaml:"base_url,omitempty" json:"base_url,omitempty"`
}
```

<a name="NewLLMProviderConfig"></a>
### func [NewLLMProviderConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L114>)

```go
func NewLLMProviderConfig(name, provider, modelName string, opts ...LLMProviderOption) (*LLMProviderConfig, error)
```

NewLLMProviderConfig creates a new LLMProviderConfig with validation.

<a name="LLMProviderConfig.Validate"></a>
### func (*LLMProviderConfig) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L68>)

```go
func (c *LLMProviderConfig) Validate() error
```

Validate validates the LLMProviderConfig struct.

<a name="LLMProviderOption"></a>
## type [LLMProviderOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L333>)

LLMProviderOption defines a function type for LLMProviderConfig options.

```go
type LLMProviderOption func(*LLMProviderConfig)
```

<a name="WithAPIKey"></a>
### func [WithAPIKey](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L336>)

```go
func WithAPIKey(apiKey string) LLMProviderOption
```

WithAPIKey sets the API key for the LLM provider.

<a name="WithBaseURL"></a>
### func [WithBaseURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L343>)

```go
func WithBaseURL(baseURL string) LLMProviderOption
```

WithBaseURL sets the base URL for the LLM provider.

<a name="WithDefaultCallOptions"></a>
### func [WithDefaultCallOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L350>)

```go
func WithDefaultCallOptions(options map[string]any) LLMProviderOption
```

WithDefaultCallOptions sets the default call options for the LLM provider.

<a name="WithProviderSpecific"></a>
### func [WithProviderSpecific](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L357>)

```go
func WithProviderSpecific(specific map[string]any) LLMProviderOption
```

WithProviderSpecific sets provider-specific configuration.

<a name="LLMResponse"></a>
## type [LLMResponse](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L46>)

Re-export types from iface and internal packages.

```go
type LLMResponse = internal.LLMResponse
```

<a name="NewLLMResponse"></a>
### func [NewLLMResponse](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L457>)

```go
func NewLLMResponse(generations [][]*Generation, llmOutput map[string]any) *LLMResponse
```

NewLLMResponse creates a new LLMResponse.

<a name="Message"></a>
## type [Message](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L31>)

Interfaces from iface.

```go
type Message = iface.Message
```

<a name="CreateTestMessages"></a>
### func [CreateTestMessages](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L248>)

```go
func CreateTestMessages(count int) []Message
```

CreateTestMessages creates a variety of test messages.

<a name="NewAIMessage"></a>
### func [NewAIMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L152>)

```go
func NewAIMessage(content string) Message
```

NewAIMessage creates a new AI message. AI messages represent assistant responses in a conversation.

Parameters:

- content: The text content of the AI message

Returns:

- Message: A new AI message instance

Example:

```
msg := schema.NewAIMessage("Machine learning is a subset of AI.")
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewAIMessageWithContext"></a>
### func [NewAIMessageWithContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L570>)

```go
func NewAIMessageWithContext(ctx context.Context, content string) Message
```

NewAIMessageWithContext creates a new AI message with tracing context.

<a name="NewChatMessage"></a>
### func [NewChatMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L238>)

```go
func NewChatMessage(role MessageType, content string) Message
```

NewChatMessage creates a new chat message with specified role. This is a generic factory function that can create messages of any role type.

Parameters:

- role: The message role (RoleHuman, RoleAssistant, RoleSystem, etc.)
- content: The text content of the message

Returns:

- Message: A new chat message instance with the specified role

Example:

```
msg := schema.NewChatMessage(schema.RoleHuman, "Hello")
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewFunctionMessage"></a>
### func [NewFunctionMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L216>)

```go
func NewFunctionMessage(name, content string) Message
```

NewFunctionMessage creates a new function message. Function messages represent function call results in function calling workflows.

Parameters:

- name: The name of the function that was called
- content: The result content from the function execution

Returns:

- Message: A new function message instance

Example:

```
msg := schema.NewFunctionMessage("calculate", "42")
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewHumanMessage"></a>
### func [NewHumanMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L131>)

```go
func NewHumanMessage(content string) Message
```

NewHumanMessage creates a new human message. Human messages represent user input in a conversation.

Parameters:

- content: The text content of the human message

Returns:

- Message: A new human message instance

Example:

```
msg := schema.NewHumanMessage("What is machine learning?")
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewHumanMessageWithContext"></a>
### func [NewHumanMessageWithContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L547>)

```go
func NewHumanMessageWithContext(ctx context.Context, content string) Message
```

NewHumanMessageWithContext creates a new human message with tracing context.

<a name="NewSystemMessage"></a>
### func [NewSystemMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L172>)

```go
func NewSystemMessage(content string) Message
```

NewSystemMessage creates a new system message. System messages provide instructions or context to the AI model.

Parameters:

- content: The text content of the system message

Returns:

- Message: A new system message instance

Example:

```
msg := schema.NewSystemMessage("You are a helpful assistant.")
```

Example usage can be found in examples/schema/basic/main.go

<a name="NewToolMessage"></a>
### func [NewToolMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L194>)

```go
func NewToolMessage(content, toolCallID string) Message
```

NewToolMessage creates a new tool message. Tool messages contain the results of tool execution for the AI model.

Parameters:

- content: The text content of the tool message (tool execution result)
- toolCallID: The ID of the tool call this message corresponds to

Returns:

- Message: A new tool message instance

Example:

```
msg := schema.NewToolMessage("42", "call_123")
```

Example usage can be found in examples/schema/basic/main.go

<a name="MessageType"></a>
## type [MessageType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L73>)

Re-export MessageType from iface.

```go
type MessageType = iface.MessageType
```

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L13-L70>)

Metrics holds all the metrics for the schema package.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetGlobalMetrics"></a>
### func [GetGlobalMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L832>)

```go
func GetGlobalMetrics() *Metrics
```

GetGlobalMetrics returns the global metrics instance.

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L73>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)
```

NewMetrics creates a new Metrics instance with OpenTelemetry instruments.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L429>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.RecordA2ACommunicationError"></a>
### func (*Metrics) [RecordA2ACommunicationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L640>)

```go
func (m *Metrics) RecordA2ACommunicationError(ctx context.Context, operation string, err error)
```

RecordA2ACommunicationError records an A2A communication error.

<a name="Metrics.RecordAgentActionCreated"></a>
### func (*Metrics) [RecordAgentActionCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L495>)

```go
func (m *Metrics) RecordAgentActionCreated(ctx context.Context, tool string)
```

RecordAgentActionCreated records an agent action creation.

<a name="Metrics.RecordAgentLifecycleEvent"></a>
### func (*Metrics) [RecordAgentLifecycleEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L681>)

```go
func (m *Metrics) RecordAgentLifecycleEvent(ctx context.Context, agentID, eventType string)
```

RecordAgentLifecycleEvent records an agent lifecycle event.

<a name="Metrics.RecordAgentMessageReceived"></a>
### func (*Metrics) [RecordAgentMessageReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L575>)

```go
func (m *Metrics) RecordAgentMessageReceived(ctx context.Context, messageType, toAgentID string)
```

RecordAgentMessageReceived records an agent message being received.

<a name="Metrics.RecordAgentMessageSent"></a>
### func (*Metrics) [RecordAgentMessageSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L562>)

```go
func (m *Metrics) RecordAgentMessageSent(ctx context.Context, messageType, fromAgentID string)
```

RecordAgentMessageSent records an agent message being sent.

<a name="Metrics.RecordAgentObservationCreated"></a>
### func (*Metrics) [RecordAgentObservationCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L505>)

```go
func (m *Metrics) RecordAgentObservationCreated(ctx context.Context)
```

RecordAgentObservationCreated records an agent observation creation.

<a name="Metrics.RecordAgentRequestReceived"></a>
### func (*Metrics) [RecordAgentRequestReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L601>)

```go
func (m *Metrics) RecordAgentRequestReceived(ctx context.Context, action, toAgentID string)
```

RecordAgentRequestReceived records an agent request being received.

<a name="Metrics.RecordAgentRequestSent"></a>
### func (*Metrics) [RecordAgentRequestSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L588>)

```go
func (m *Metrics) RecordAgentRequestSent(ctx context.Context, action, fromAgentID string)
```

RecordAgentRequestSent records an agent request being sent.

<a name="Metrics.RecordAgentResponseReceived"></a>
### func (*Metrics) [RecordAgentResponseReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L627>)

```go
func (m *Metrics) RecordAgentResponseReceived(ctx context.Context, status, fromAgentID string)
```

RecordAgentResponseReceived records an agent response being received.

<a name="Metrics.RecordAgentResponseSent"></a>
### func (*Metrics) [RecordAgentResponseSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L614>)

```go
func (m *Metrics) RecordAgentResponseSent(ctx context.Context, status, toAgentID string)
```

RecordAgentResponseSent records an agent response being sent.

<a name="Metrics.RecordConfigError"></a>
### func (*Metrics) [RecordConfigError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L547>)

```go
func (m *Metrics) RecordConfigError(ctx context.Context, configType string, err error)
```

RecordConfigError records a configuration validation error.

<a name="Metrics.RecordConfigValidation"></a>
### func (*Metrics) [RecordConfigValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L537>)

```go
func (m *Metrics) RecordConfigValidation(ctx context.Context, configType string)
```

RecordConfigValidation records a configuration validation.

<a name="Metrics.RecordDocumentCreated"></a>
### func (*Metrics) [RecordDocumentCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L459>)

```go
func (m *Metrics) RecordDocumentCreated(ctx context.Context)
```

RecordDocumentCreated records a document creation event.

<a name="Metrics.RecordDocumentError"></a>
### func (*Metrics) [RecordDocumentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L467>)

```go
func (m *Metrics) RecordDocumentError(ctx context.Context, err error)
```

RecordDocumentError records a document creation error.

<a name="Metrics.RecordDocumentValidation"></a>
### func (*Metrics) [RecordDocumentValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L781>)

```go
func (m *Metrics) RecordDocumentValidation(ctx context.Context)
```

RecordDocumentValidation records a document validation.

<a name="Metrics.RecordDocumentValidationError"></a>
### func (*Metrics) [RecordDocumentValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L789>)

```go
func (m *Metrics) RecordDocumentValidationError(ctx context.Context, err error)
```

RecordDocumentValidationError records a document validation error.

<a name="Metrics.RecordEventConsumed"></a>
### func (*Metrics) [RecordEventConsumed](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L668>)

```go
func (m *Metrics) RecordEventConsumed(ctx context.Context, eventType, consumer string)
```

RecordEventConsumed records an event being consumed.

<a name="Metrics.RecordEventProcessingError"></a>
### func (*Metrics) [RecordEventProcessingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L720>)

```go
func (m *Metrics) RecordEventProcessingError(ctx context.Context, eventType string, err error)
```

RecordEventProcessingError records an event processing error.

<a name="Metrics.RecordEventPublished"></a>
### func (*Metrics) [RecordEventPublished](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L655>)

```go
func (m *Metrics) RecordEventPublished(ctx context.Context, eventType, source string)
```

RecordEventPublished records an event being published.

<a name="Metrics.RecordFactoryCreation"></a>
### func (*Metrics) [RecordFactoryCreation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L801>)

```go
func (m *Metrics) RecordFactoryCreation(ctx context.Context, objectType string)
```

RecordFactoryCreation records a factory creation.

<a name="Metrics.RecordFactoryError"></a>
### func (*Metrics) [RecordFactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L811>)

```go
func (m *Metrics) RecordFactoryError(ctx context.Context, objectType string, err error)
```

RecordFactoryError records a factory creation error.

<a name="Metrics.RecordGenerationCreated"></a>
### func (*Metrics) [RecordGenerationCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L521>)

```go
func (m *Metrics) RecordGenerationCreated(ctx context.Context)
```

RecordGenerationCreated records a generation creation.

<a name="Metrics.RecordHistoryOperation"></a>
### func (*Metrics) [RecordHistoryOperation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L477>)

```go
func (m *Metrics) RecordHistoryOperation(ctx context.Context, operation string)
```

RecordHistoryOperation records a chat history operation.

<a name="Metrics.RecordHistorySize"></a>
### func (*Metrics) [RecordHistorySize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L487>)

```go
func (m *Metrics) RecordHistorySize(ctx context.Context, size int)
```

RecordHistorySize records the current size of chat history.

<a name="Metrics.RecordLLMResponseCreated"></a>
### func (*Metrics) [RecordLLMResponseCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L529>)

```go
func (m *Metrics) RecordLLMResponseCreated(ctx context.Context)
```

RecordLLMResponseCreated records an LLM response creation.

<a name="Metrics.RecordMessageCreated"></a>
### func (*Metrics) [RecordMessageCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L436>)

```go
func (m *Metrics) RecordMessageCreated(ctx context.Context, msgType MessageType)
```

RecordMessageCreated records a message creation event.

<a name="Metrics.RecordMessageError"></a>
### func (*Metrics) [RecordMessageError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L446>)

```go
func (m *Metrics) RecordMessageError(ctx context.Context, msgType MessageType, err error)
```

RecordMessageError records a message creation error.

<a name="Metrics.RecordMessageValidation"></a>
### func (*Metrics) [RecordMessageValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L758>)

```go
func (m *Metrics) RecordMessageValidation(ctx context.Context, msgType MessageType)
```

RecordMessageValidation records a message validation.

<a name="Metrics.RecordMessageValidationError"></a>
### func (*Metrics) [RecordMessageValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L768>)

```go
func (m *Metrics) RecordMessageValidationError(ctx context.Context, msgType MessageType, err error)
```

RecordMessageValidationError records a message validation error.

<a name="Metrics.RecordSchemaValidation"></a>
### func (*Metrics) [RecordSchemaValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L735>)

```go
func (m *Metrics) RecordSchemaValidation(ctx context.Context, validationType string)
```

RecordSchemaValidation records a schema validation.

<a name="Metrics.RecordSchemaValidationError"></a>
### func (*Metrics) [RecordSchemaValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L745>)

```go
func (m *Metrics) RecordSchemaValidationError(ctx context.Context, validationType string, err error)
```

RecordSchemaValidationError records a schema validation error.

<a name="Metrics.RecordStepCreated"></a>
### func (*Metrics) [RecordStepCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L513>)

```go
func (m *Metrics) RecordStepCreated(ctx context.Context)
```

RecordStepCreated records a step creation.

<a name="Metrics.RecordTaskEvent"></a>
### func (*Metrics) [RecordTaskEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L694>)

```go
func (m *Metrics) RecordTaskEvent(ctx context.Context, taskID, eventType string)
```

RecordTaskEvent records a task event.

<a name="Metrics.RecordWorkflowEvent"></a>
### func (*Metrics) [RecordWorkflowEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/metrics.go#L707>)

```go
func (m *Metrics) RecordWorkflowEvent(ctx context.Context, workflowID, eventType string)
```

RecordWorkflowEvent records a workflow event.

<a name="MockDocumentOption"></a>
## type [MockDocumentOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L168>)

MockDocumentOption defines functional options for mock document configuration.

```go
type MockDocumentOption func(*AdvancedMockDocument)
```

<a name="WithMockEmbedding"></a>
### func [WithMockEmbedding](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L171>)

```go
func WithMockEmbedding(embedding []float32) MockDocumentOption
```

WithMockEmbedding sets the embedding for the mock document.

<a name="WithMockID"></a>
### func [WithMockID](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L186>)

```go
func WithMockID(id string) MockDocumentOption
```

WithMockID sets the ID for the mock document.

<a name="WithMockScore"></a>
### func [WithMockScore](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L179>)

```go
func WithMockScore(score float32) MockDocumentOption
```

WithMockScore sets the score for the mock document.

<a name="MockMessageOption"></a>
## type [MockMessageOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L50>)

MockMessageOption defines functional options for mock configuration.

```go
type MockMessageOption func(*AdvancedMockMessage)
```

<a name="WithMockAdditionalArgs"></a>
### func [WithMockAdditionalArgs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L61>)

```go
func WithMockAdditionalArgs(args map[string]any) MockMessageOption
```

WithMockAdditionalArgs sets additional arguments for the mock message.

<a name="WithMockToolCalls"></a>
### func [WithMockToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L53>)

```go
func WithMockToolCalls(toolCalls []iface.ToolCall) MockMessageOption
```

WithMockToolCalls sets tool calls for the mock message.

<a name="SchemaError"></a>
## type [SchemaError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L23-L28>)

SchemaError represents an error that occurred during schema operations.

```go
type SchemaError struct {
    Op      string // operation that failed
    Err     error  // underlying error
    Code    string // error code for programmatic handling
    Message string // human-readable message
}
```

<a name="AsSchemaError"></a>
### func [AsSchemaError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L72>)

```go
func AsSchemaError(err error) (*SchemaError, bool)
```

AsSchemaError attempts to convert an error to a SchemaError.

<a name="NewSchemaError"></a>
### func [NewSchemaError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L47>)

```go
func NewSchemaError(op, code string, err error) *SchemaError
```

NewSchemaError creates a new SchemaError.

<a name="NewSchemaErrorWithMessage"></a>
### func [NewSchemaErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L56>)

```go
func NewSchemaErrorWithMessage(op, code, message string, err error) *SchemaError
```

NewSchemaErrorWithMessage creates a new SchemaError with a custom message.

<a name="SchemaError.Error"></a>
### func (*SchemaError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L31>)

```go
func (e *SchemaError) Error() string
```

Error implements the error interface.

<a name="SchemaError.Unwrap"></a>
### func (*SchemaError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/errors.go#L42>)

```go
func (e *SchemaError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="SchemaScenarioRunner"></a>
## type [SchemaScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L529-L532>)

SchemaScenarioRunner runs common schema scenarios.

```go
type SchemaScenarioRunner struct {
    // contains filtered or unexported fields
}
```

<a name="NewSchemaScenarioRunner"></a>
### func [NewSchemaScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L534>)

```go
func NewSchemaScenarioRunner(messageCount, documentCount int) *SchemaScenarioRunner
```

<a name="SchemaScenarioRunner.RunConversationScenario"></a>
### func (*SchemaScenarioRunner) [RunConversationScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L589>)

```go
func (r *SchemaScenarioRunner) RunConversationScenario() error
```

<a name="SchemaScenarioRunner.RunDocumentProcessingScenario"></a>
### func (*SchemaScenarioRunner) [RunDocumentProcessingScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L567>)

```go
func (r *SchemaScenarioRunner) RunDocumentProcessingScenario() error
```

<a name="SchemaScenarioRunner.RunMessageProcessingScenario"></a>
### func (*SchemaScenarioRunner) [RunMessageProcessingScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/test_utils.go#L541>)

```go
func (r *SchemaScenarioRunner) RunMessageProcessingScenario() error
```

<a name="SchemaValidationConfig"></a>
## type [SchemaValidationConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L193-L203>)

SchemaValidationConfig defines configuration for schema validation rules.

```go
type SchemaValidationConfig struct {
    CustomValidationRules   map[string]any `yaml:"custom_validation_rules" json:"custom_validation_rules"`
    AllowedMessageTypes     []string       `yaml:"allowed_message_types" json:"allowed_message_types"`
    RequiredMetadataFields  []string       `yaml:"required_metadata_fields" json:"required_metadata_fields"`
    MaxMessageLength        int            `yaml:"max_message_length" json:"max_message_length" validate:"min=1"`
    MaxMetadataSize         int            `yaml:"max_metadata_size" json:"max_metadata_size" validate:"min=1"`
    MaxToolCalls            int            `yaml:"max_tool_calls" json:"max_tool_calls" validate:"min=1"`
    MaxEmbeddingDimensions  int            `yaml:"max_embedding_dimensions" json:"max_embedding_dimensions" validate:"min=1"`
    EnableStrictValidation  bool           `yaml:"enable_strict_validation" json:"enable_strict_validation"`
    EnableContentValidation bool           `yaml:"enable_content_validation" json:"enable_content_validation"`
}
```

<a name="NewSchemaValidationConfig"></a>
### func [NewSchemaValidationConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L215>)

```go
func NewSchemaValidationConfig(opts ...SchemaValidationOption) (*SchemaValidationConfig, error)
```

NewSchemaValidationConfig creates a new SchemaValidationConfig with validation.

<a name="SchemaValidationConfig.Validate"></a>
### func (*SchemaValidationConfig) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L206>)

```go
func (c *SchemaValidationConfig) Validate() error
```

Validate validates the SchemaValidationConfig struct.

<a name="SchemaValidationOption"></a>
## type [SchemaValidationOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L240>)

SchemaValidationOption defines a function type for SchemaValidationConfig options.

```go
type SchemaValidationOption func(*SchemaValidationConfig)
```

<a name="WithAllowedMessageTypes"></a>
### func [WithAllowedMessageTypes](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L271>)

```go
func WithAllowedMessageTypes(types []string) SchemaValidationOption
```

WithAllowedMessageTypes sets the allowed message types.

<a name="WithContentValidation"></a>
### func [WithContentValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L285>)

```go
func WithContentValidation(enable bool) SchemaValidationOption
```

WithContentValidation enables or disables content validation.

<a name="WithMaxMessageLength"></a>
### func [WithMaxMessageLength](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L250>)

```go
func WithMaxMessageLength(maxLength int) SchemaValidationOption
```

WithMaxMessageLength sets the maximum message length.

<a name="WithMaxMetadataSize"></a>
### func [WithMaxMetadataSize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L257>)

```go
func WithMaxMetadataSize(maxSize int) SchemaValidationOption
```

WithMaxMetadataSize sets the maximum metadata size.

<a name="WithMaxToolCalls"></a>
### func [WithMaxToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L264>)

```go
func WithMaxToolCalls(maxCalls int) SchemaValidationOption
```

WithMaxToolCalls sets the maximum number of tool calls.

<a name="WithRequiredMetadataFields"></a>
### func [WithRequiredMetadataFields](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L278>)

```go
func WithRequiredMetadataFields(fields []string) SchemaValidationOption
```

WithRequiredMetadataFields sets required metadata fields.

<a name="WithStrictValidation"></a>
### func [WithStrictValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L243>)

```go
func WithStrictValidation(enable bool) SchemaValidationOption
```

WithStrictValidation enables or disables strict validation.

<a name="Step"></a>
## type [Step](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L38>)

Re-export types from iface and internal packages.

```go
type Step = internal.Step
```

<a name="NewStep"></a>
### func [NewStep](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L353>)

```go
func NewStep(action AgentAction, observation AgentObservation) Step
```

NewStep creates a new Step with an action and observation.

<a name="TaskEvent"></a>
## type [TaskEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L66>)

Re-export types from iface and internal packages.

```go
type TaskEvent = internal.TaskEvent
```

<a name="NewTaskEvent"></a>
### func [NewTaskEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L528>)

```go
func NewTaskEvent(taskID, agentID string, eventType TaskEventType) TaskEvent
```

NewTaskEvent creates a new TaskEvent.

<a name="TaskEventType"></a>
## type [TaskEventType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L67>)

Re-export types from iface and internal packages.

```go
type TaskEventType = internal.TaskEventType
```

<a name="ToolCall"></a>
## type [ToolCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L42>)

Re-export types from iface and internal packages.

```go
type ToolCall = iface.ToolCall
```

<a name="ToolCallChunk"></a>
## type [ToolCallChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L43>)

Re-export types from iface and internal packages.

```go
type ToolCallChunk = internal.ToolCallChunk
```

<a name="ToolMessage"></a>
## type [ToolMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L53>)

Re-export types from iface and internal packages.

```go
type ToolMessage = internal.ToolMessage
```

<a name="VectorStoreConfig"></a>
## type [VectorStoreConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L51-L56>)

VectorStoreConfig defines the configuration for a vector store provider.

```go
type VectorStoreConfig struct {
    ProviderSpecific map[string]any `mapstructure:"provider_specific,omitempty" yaml:"provider_specific,omitempty"`
    Name             string         `mapstructure:"name" yaml:"name" validate:"required"`
    Provider         string         `mapstructure:"provider" yaml:"provider" validate:"required"`
    ConnectionString string         `mapstructure:"connection_string,omitempty" yaml:"connection_string,omitempty" json:"-"`
}
```

<a name="NewVectorStoreConfig"></a>
### func [NewVectorStoreConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L156>)

```go
func NewVectorStoreConfig(name, provider string, opts ...VectorStoreOption) (*VectorStoreConfig, error)
```

NewVectorStoreConfig creates a new VectorStoreConfig with validation.

<a name="VectorStoreConfig.Validate"></a>
### func (*VectorStoreConfig) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L86>)

```go
func (c *VectorStoreConfig) Validate() error
```

Validate validates the VectorStoreConfig struct.

<a name="VectorStoreOption"></a>
## type [VectorStoreOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L381>)

VectorStoreOption defines a function type for VectorStoreConfig options.

```go
type VectorStoreOption func(*VectorStoreConfig)
```

<a name="WithConnectionString"></a>
### func [WithConnectionString](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L384>)

```go
func WithConnectionString(connectionString string) VectorStoreOption
```

WithConnectionString sets the connection string for the vector store.

<a name="WithVectorStoreProviderSpecific"></a>
### func [WithVectorStoreProviderSpecific](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/config.go#L391>)

```go
func WithVectorStoreProviderSpecific(specific map[string]any) VectorStoreOption
```

WithVectorStoreProviderSpecific sets provider-specific configuration for vector store.

<a name="VideoMessage"></a>
## type [VideoMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L18-L25>)

VideoMessage represents a message containing a video. It implements the Message interface and extends BaseMessage with video-specific data.

```go
type VideoMessage struct {
    internal.BaseMessage
    VideoURL    string            `json:"video_url,omitempty"`    // URL to the video
    VideoData   []byte            `json:"video_data,omitempty"`   // Base64-encoded video data
    VideoFormat string            `json:"video_format,omitempty"` // Format: "mp4", "webm", "mov", etc.
    Duration    float64           `json:"duration,omitempty"`     // Duration in seconds
    Metadata    map[string]string `json:"metadata,omitempty"`     // Additional video metadata
}
```

<a name="AsVideoMessage"></a>
### func [AsVideoMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L23>)

```go
func AsVideoMessage(msg Message) (*VideoMessage, bool)
```

AsVideoMessage attempts to convert a Message to VideoMessage. Returns the VideoMessage and true if the conversion succeeds, nil and false otherwise.

<a name="VideoMessage.AdditionalArgs"></a>
### func (*VideoMessage) [AdditionalArgs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L53>)

```go
func (m *VideoMessage) AdditionalArgs() map[string]any
```

AdditionalArgs returns additional arguments including video data.

<a name="VideoMessage.GetContent"></a>
### func (*VideoMessage) [GetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L34>)

```go
func (m *VideoMessage) GetContent() string
```

GetContent returns a text description or placeholder for the video. For multimodal messages, the actual content is in VideoURL or VideoData.

<a name="VideoMessage.GetDuration"></a>
### func (*VideoMessage) [GetDuration](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L92>)

```go
func (m *VideoMessage) GetDuration() float64
```

GetDuration returns the video duration in seconds.

<a name="VideoMessage.GetType"></a>
### func (*VideoMessage) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L28>)

```go
func (m *VideoMessage) GetType() iface.MessageType
```

GetType returns the message type, which is RoleHuman for VideoMessage.

<a name="VideoMessage.GetVideoData"></a>
### func (*VideoMessage) [GetVideoData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L82>)

```go
func (m *VideoMessage) GetVideoData() []byte
```

GetVideoData returns the video data if present.

<a name="VideoMessage.GetVideoFormat"></a>
### func (*VideoMessage) [GetVideoFormat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L87>)

```go
func (m *VideoMessage) GetVideoFormat() string
```

GetVideoFormat returns the video format.

<a name="VideoMessage.GetVideoURL"></a>
### func (*VideoMessage) [GetVideoURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L77>)

```go
func (m *VideoMessage) GetVideoURL() string
```

GetVideoURL returns the video URL if present.

<a name="VideoMessage.HasVideoData"></a>
### func (*VideoMessage) [HasVideoData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L72>)

```go
func (m *VideoMessage) HasVideoData() bool
```

HasVideoData returns true if the message contains video data.

<a name="VideoMessage.ToolCalls"></a>
### func (*VideoMessage) [ToolCalls](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/video_message.go#L48>)

```go
func (m *VideoMessage) ToolCalls() []iface.ToolCall
```

ToolCalls returns an empty slice for VideoMessage.

<a name="VoiceDocument"></a>
## type [VoiceDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L18-L27>)

VoiceDocument represents a document containing audio/voice data. It extends Document with audio-specific fields while maintaining compatibility.

```go
type VoiceDocument struct {
    internal.Document
    AudioURL    string  `json:"audio_url,omitempty"`    // URL to the audio file
    AudioData   []byte  `json:"audio_data,omitempty"`   // Base64-encoded audio data
    AudioFormat string  `json:"audio_format,omitempty"` // Format: "wav", "mp3", "ogg", etc.
    Duration    float64 `json:"duration,omitempty"`     // Duration in seconds
    Transcript  string  `json:"transcript,omitempty"`   // Optional transcript of the audio
    SampleRate  int     `json:"sample_rate,omitempty"`  // Audio sample rate in Hz
    Channels    int     `json:"channels,omitempty"`     // Number of audio channels
}
```

<a name="AsVoiceDocument"></a>
### func [AsVoiceDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/multimodal.go#L41>)

```go
func AsVoiceDocument(doc Document) (*VoiceDocument, bool)
```

AsVoiceDocument attempts to convert a Document to VoiceDocument. Since Document is a struct type (not an interface), this function checks if the Document was created from a VoiceDocument by checking for voice-specific metadata or using type assertion on the underlying value if it's a pointer. Returns the VoiceDocument and true if the conversion succeeds, nil and false otherwise.

<a name="NewVoiceDocument"></a>
### func [NewVoiceDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L80>)

```go
func NewVoiceDocument(audioURL string, transcript string, metadata map[string]string) *VoiceDocument
```

NewVoiceDocument creates a new VoiceDocument with a URL. Note: VoiceDocument embeds Document but is a different type. Use AsDocument() to convert to Document if needed, or use directly as Message.

<a name="NewVoiceDocumentWithContext"></a>
### func [NewVoiceDocumentWithContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L110>)

```go
func NewVoiceDocumentWithContext(ctx context.Context, audioURL string, transcript string, metadata map[string]string) *VoiceDocument
```

NewVoiceDocumentWithContext creates a new VoiceDocument with OTEL tracing context. Note: VoiceDocument embeds Document but is a different type. Use AsDocument() to convert to Document if needed, or use directly as Message.

<a name="NewVoiceDocumentWithData"></a>
### func [NewVoiceDocumentWithData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L95>)

```go
func NewVoiceDocumentWithData(audioData []byte, format string, transcript string, metadata map[string]string) *VoiceDocument
```

NewVoiceDocumentWithData creates a new VoiceDocument with audio data. Note: VoiceDocument embeds Document but is a different type. Use AsDocument() to convert to Document if needed, or use directly as Message.

<a name="VoiceDocument.AsDocument"></a>
### func (*VoiceDocument) [AsDocument](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L136>)

```go
func (vd *VoiceDocument) AsDocument() Document
```

AsDocument converts VoiceDocument to Document by extracting the embedded Document. This allows VoiceDocument to be used where Document is expected.

<a name="VoiceDocument.GetAudioData"></a>
### func (*VoiceDocument) [GetAudioData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L48>)

```go
func (d *VoiceDocument) GetAudioData() []byte
```

GetAudioData returns the audio data if present.

<a name="VoiceDocument.GetAudioFormat"></a>
### func (*VoiceDocument) [GetAudioFormat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L53>)

```go
func (d *VoiceDocument) GetAudioFormat() string
```

GetAudioFormat returns the audio format.

<a name="VoiceDocument.GetAudioURL"></a>
### func (*VoiceDocument) [GetAudioURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L43>)

```go
func (d *VoiceDocument) GetAudioURL() string
```

GetAudioURL returns the audio URL if present.

<a name="VoiceDocument.GetChannels"></a>
### func (*VoiceDocument) [GetChannels](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L73>)

```go
func (d *VoiceDocument) GetChannels() int
```

GetChannels returns the number of audio channels.

<a name="VoiceDocument.GetContent"></a>
### func (*VoiceDocument) [GetContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L30>)

```go
func (d *VoiceDocument) GetContent() string
```

GetContent returns the transcript if available, otherwise the page content.

<a name="VoiceDocument.GetDuration"></a>
### func (*VoiceDocument) [GetDuration](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L58>)

```go
func (d *VoiceDocument) GetDuration() float64
```

GetDuration returns the audio duration in seconds.

<a name="VoiceDocument.GetSampleRate"></a>
### func (*VoiceDocument) [GetSampleRate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L68>)

```go
func (d *VoiceDocument) GetSampleRate() int
```

GetSampleRate returns the audio sample rate.

<a name="VoiceDocument.GetTranscript"></a>
### func (*VoiceDocument) [GetTranscript](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L63>)

```go
func (d *VoiceDocument) GetTranscript() string
```

GetTranscript returns the transcript if available.

<a name="VoiceDocument.HasAudioData"></a>
### func (*VoiceDocument) [HasAudioData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/voice_document.go#L38>)

```go
func (d *VoiceDocument) HasAudioData() bool
```

HasAudioData returns true if the document contains audio data.

<a name="WorkflowEvent"></a>
## type [WorkflowEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L68>)

Re-export types from iface and internal packages.

```go
type WorkflowEvent = internal.WorkflowEvent
```

<a name="NewWorkflowEvent"></a>
### func [NewWorkflowEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L537>)

```go
func NewWorkflowEvent(workflowID string, eventType WorkflowEventType) WorkflowEvent
```

NewWorkflowEvent creates a new WorkflowEvent.

<a name="WorkflowEventType"></a>
## type [WorkflowEventType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/schema/schema.go#L69>)

Re-export types from iface and internal packages.

```go
type WorkflowEventType = internal.WorkflowEventType
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
