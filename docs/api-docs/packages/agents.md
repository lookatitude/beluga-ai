---
title: agents
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# agents

```go
import "github.com/lookatitude/beluga-ai/pkg/agents"
```

Package agents provides AI agent implementations following the Beluga AI Framework design patterns.

This package implements autonomous agents that can reason, plan, and execute actions using tools. It follows SOLID principles with dependency inversion, interface segregation, and composition over inheritance.

Key Features:

- Multiple agent types (ReAct, custom implementations)
- Tool integration with registry system
- Observability with OpenTelemetry tracing and metrics
- Configurable execution with retry logic and timeouts
- Event-driven architecture for extensibility

Basic Usage:

```
// Create a simple agent
llm := // ... initialize LLM
tools := // ... get tools
agent, err := agents.NewBaseAgent("my-agent", llm, tools)

// Execute with input
result, err := agent.Execute()
```

Advanced Usage:

```
// Create agent with custom configuration
agent, err := agents.NewBaseAgent("my-agent", llm, tools,
	agents.WithMaxRetries(5),
	agents.WithTimeout(60*time.Second),
	agents.WithEventHandler("execution_completed", func(payload interface{}) error {
		log.Printf("Agent completed: %v", payload)
		return nil
	}),
)

// Use with executor
:= agents.NewAgentExecutor()
result, err := executor.ExecutePlan(ctx, agent, plan)
```

Package agents provides a standardized registry pattern for agent creation. This follows the Beluga AI Framework design patterns with consistent factory interfaces.

Package agents provides safety middleware for AI agents.

Package agents provides advanced test utilities and comprehensive mocks for testing agent implementations. This file contains utilities designed to support both unit tests and integration tests.

Test Coverage Exclusions:

The following code paths are intentionally excluded from 100% coverage requirements:

1. Panic Recovery Paths:

- Panic handlers in concurrent test runners (ConcurrentTestRunner, ConcurrentStreamingTestRunner)
- These paths are difficult to test without causing actual panics in test code

2. Context Cancellation Edge Cases:

- Some context cancellation paths in streaming operations are difficult to reliably test
- Race conditions between context cancellation and channel operations

3. Error Paths Requiring System Conditions:

- Network errors that require actual network failures
- File system errors that require specific OS conditions
- Memory exhaustion scenarios

4. Provider-Specific Untestable Paths:

- Some provider implementations have paths that require external service failures
- These are tested through integration tests rather than unit tests

5. Test Utility Functions:

- Helper functions in test\_utils.go that are used by tests but not directly tested
- These are validated through their usage in actual test cases

6. Initialization Code:

- Package init() functions and global variable initialization
- These are executed automatically and difficult to test in isolation

All exclusions are documented here to maintain transparency about coverage goals. The target is 100% coverage of testable code paths, excluding the above categories.

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [`func AssertAgentExecution(t *testing.T, result any, expectedPattern string)`](<#AssertAgentExecution>)
- [`func AssertAgentHealth(t *testing.T, health map[string]any, expectedStatus string)`](<#AssertAgentHealth>)
- [`func AssertErrorType(t *testing.T, err error, expectedCode string)`](<#AssertErrorType>)
- [`func AssertPlanningResult(t *testing.T, steps []string, expectedMinSteps int)`](<#AssertPlanningResult>)
- [`func CollectStreamChunks(ch <-chan iface.AgentStreamChunk) ([]iface.AgentStreamChunk, error)`](<#CollectStreamChunks>)
- [`func CreateAgent(ctx context.Context, agentType, name string, llm any, agentTools []iface.Tool, config Config) (iface.CompositeAgent, error)`](<#CreateAgent>)
- [`func CreateTestExecutionPlan(steps int) []string`](<#CreateTestExecutionPlan>)
- [`func CreateTestTools(count int) []iface.Tool`](<#CreateTestTools>)
- [`func GenerateStreamChunks(response string, chunkSize int) []iface.AgentStreamChunk`](<#GenerateStreamChunks>)
- [`func GetAgentStateString(state iface.AgentState) string`](<#GetAgentStateString>)
- [`func HealthCheck(agent iface.CompositeAgent) map[string]any`](<#HealthCheck>)
- [`func InitMetrics(meter metric.Meter, tracer trace.Tracer)`](<#InitMetrics>)
- [`func IsFactoryError(err error) bool`](<#IsFactoryError>)
- [`func IsRetryable(err error) bool`](<#IsRetryable>)
- [`func IsStreamingError(err error) bool`](<#IsStreamingError>)
- [`func IsValidationError(err error) bool`](<#IsValidationError>)
- [`func ListAgentStates() []iface.AgentState`](<#ListAgentStates>)
- [`func ListAvailableAgentTypes() []string`](<#ListAvailableAgentTypes>)
- [`func NewAgentExecutor(opts ...executor.ExecutorOption) iface.Executor`](<#NewAgentExecutor>)
- [`func NewBaseAgent(name string, llm llmsiface.LLM, agentTools []iface.Tool, opts ...iface.Option) (iface.CompositeAgent, error)`](<#NewBaseAgent>)
- [`func NewExecutorWithHandleParsingErrors(handle bool) iface.Executor`](<#NewExecutorWithHandleParsingErrors>)
- [`func NewExecutorWithMaxIterations(max int) iface.Executor`](<#NewExecutorWithMaxIterations>)
- [`func NewExecutorWithReturnIntermediateSteps(returnSteps bool) iface.Executor`](<#NewExecutorWithReturnIntermediateSteps>)
- [`func NewReActAgent(name string, llm llmsiface.ChatModel, agentTools []iface.Tool, prompt any, opts ...iface.Option) (iface.CompositeAgent, error)`](<#NewReActAgent>)
- [`func NewToolRegistry() iface.ToolRegistry`](<#NewToolRegistry>)
- [`func RegisterAgentType(agentType string, creator AgentCreatorFunc)`](<#RegisterAgentType>)
- [`func RunLoadTest(t *testing.T, agent *AdvancedMockAgent, numOperations, concurrency int)`](<#RunLoadTest>)
- [`func ValidateConfig(config *Config) error`](<#ValidateConfig>)
- [`func ValidateStreamChunk(t *testing.T, chunk iface.AgentStreamChunk, allowEmpty bool)`](<#ValidateStreamChunk>)
- [`func ValidateStreamingConfig(config iface.StreamingConfig) error`](<#ValidateStreamingConfig>)
- [`func WithEnableSafety(enabled bool) iface.Option`](<#WithEnableSafety>)
- [`func WithEventHandler(eventType string, handler iface.EventHandler) iface.Option`](<#WithEventHandler>)
- [`func WithMaxIterations(iterations int) iface.Option`](<#WithMaxIterations>)
- [`func WithMaxRetries(retries int) iface.Option`](<#WithMaxRetries>)
- [`func WithMetrics(enabled bool) iface.Option`](<#WithMetrics>)
- [`func WithRetryDelay(delay time.Duration) iface.Option`](<#WithRetryDelay>)
- [`func WithStreaming(enabled bool) iface.Option`](<#WithStreaming>)
- [`func WithStreamingConfig(config iface.StreamingConfig) iface.Option`](<#WithStreamingConfig>)
- [`func WithTimeout(timeout time.Duration) iface.Option`](<#WithTimeout>)
- [`func WithTracing(enabled bool) iface.Option`](<#WithTracing>)
- [type AdvancedMockAgent](<#AdvancedMockAgent>)
  - [`func CreateCollaborativeAgents(count int, sharedState map[string]any) []*AdvancedMockAgent`](<#CreateCollaborativeAgents>)
  - [`func CreateTestAgentWithState(name string, state map[string]any) *AdvancedMockAgent`](<#CreateTestAgentWithState>)
  - [`func CreateTestAgentWithTools(name string, toolCount int) *AdvancedMockAgent`](<#CreateTestAgentWithTools>)
  - [`func NewAdvancedMockAgent(name, agentType string, options ...MockAgentOption) *AdvancedMockAgent`](<#NewAdvancedMockAgent>)
  - [`func (a *AdvancedMockAgent) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#AdvancedMockAgent.Batch>)
  - [`func (a *AdvancedMockAgent) CheckHealth() map[string]any`](<#AdvancedMockAgent.CheckHealth>)
  - [`func (a *AdvancedMockAgent) EmitEvent(eventType string, payload any)`](<#AdvancedMockAgent.EmitEvent>)
  - [`func (a *AdvancedMockAgent) Execute() error`](<#AdvancedMockAgent.Execute>)
  - [`func (a *AdvancedMockAgent) GetCallCount() int`](<#AdvancedMockAgent.GetCallCount>)
  - [`func (a *AdvancedMockAgent) GetConfig() schema.AgentConfig`](<#AdvancedMockAgent.GetConfig>)
  - [`func (a *AdvancedMockAgent) GetExecutionHistory() []ExecutionRecord`](<#AdvancedMockAgent.GetExecutionHistory>)
  - [`func (a *AdvancedMockAgent) GetInternalState() map[string]any`](<#AdvancedMockAgent.GetInternalState>)
  - [`func (a *AdvancedMockAgent) GetLLM() llmsiface.LLM`](<#AdvancedMockAgent.GetLLM>)
  - [`func (a *AdvancedMockAgent) GetMetrics() iface.MetricsRecorder`](<#AdvancedMockAgent.GetMetrics>)
  - [`func (a *AdvancedMockAgent) GetName() string`](<#AdvancedMockAgent.GetName>)
  - [`func (a *AdvancedMockAgent) GetState() iface.AgentState`](<#AdvancedMockAgent.GetState>)
  - [`func (a *AdvancedMockAgent) GetTools() []iface.Tool`](<#AdvancedMockAgent.GetTools>)
  - [`func (a *AdvancedMockAgent) GetType() string`](<#AdvancedMockAgent.GetType>)
  - [`func (a *AdvancedMockAgent) Initialize(config map[string]any) error`](<#AdvancedMockAgent.Initialize>)
  - [`func (a *AdvancedMockAgent) InputVariables() []string`](<#AdvancedMockAgent.InputVariables>)
  - [`func (a *AdvancedMockAgent) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#AdvancedMockAgent.Invoke>)
  - [`func (a *AdvancedMockAgent) OutputVariables() []string`](<#AdvancedMockAgent.OutputVariables>)
  - [`func (a *AdvancedMockAgent) Plan(ctx context.Context, intermediateSteps []iface.IntermediateStep, inputs map[string]any) (iface.AgentAction, iface.AgentFinish, error)`](<#AdvancedMockAgent.Plan>)
  - [`func (a *AdvancedMockAgent) RegisterEventHandler(eventType string, handler iface.EventHandler)`](<#AdvancedMockAgent.RegisterEventHandler>)
  - [`func (a *AdvancedMockAgent) SetInternalState(key string, value any)`](<#AdvancedMockAgent.SetInternalState>)
  - [`func (a *AdvancedMockAgent) Shutdown() error`](<#AdvancedMockAgent.Shutdown>)
  - [`func (a *AdvancedMockAgent) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#AdvancedMockAgent.Stream>)
- [type AdvancedMockStreamingAgent](<#AdvancedMockStreamingAgent>)
  - [`func NewAdvancedMockStreamingAgent(baseAgent *AdvancedMockAgent, options ...MockStreamingAgentOption) *AdvancedMockStreamingAgent`](<#NewAdvancedMockStreamingAgent>)
  - [`func (a *AdvancedMockStreamingAgent) GetStreamCount() int`](<#AdvancedMockStreamingAgent.GetStreamCount>)
  - [`func (a *AdvancedMockStreamingAgent) StreamExecute(ctx context.Context, inputs map[string]any) (<-chan iface.AgentStreamChunk, error)`](<#AdvancedMockStreamingAgent.StreamExecute>)
  - [`func (a *AdvancedMockStreamingAgent) StreamPlan(ctx context.Context, intermediateSteps []iface.IntermediateStep, inputs map[string]any) (<-chan iface.AgentStreamChunk, error)`](<#AdvancedMockStreamingAgent.StreamPlan>)
- [type AgentBenchmark](<#AgentBenchmark>)
  - [`func NewAgentBenchmark(agent iface.CompositeAgent, taskCount int) *AgentBenchmark`](<#NewAgentBenchmark>)
  - [`func (b *AgentBenchmark) BenchmarkExecution(iterations int) (time.Duration, error)`](<#AgentBenchmark.BenchmarkExecution>)
  - [`func (b *AgentBenchmark) BenchmarkPlanning(iterations int) (time.Duration, error)`](<#AgentBenchmark.BenchmarkPlanning>)
- [type AgentCreatorFunc](<#AgentCreatorFunc>)
- [type AgentError](<#AgentError>)
  - [`func NewAgentError(op, code string, err error) *AgentError`](<#NewAgentError>)
  - [`func NewAgentErrorWithMessage(op, code, message string, err error) *AgentError`](<#NewAgentErrorWithMessage>)
  - [`func (e *AgentError) Error() string`](<#AgentError.Error>)
  - [`func (e *AgentError) Unwrap() error`](<#AgentError.Unwrap>)
  - [`func (e *AgentError) WithField(key string, value any) *AgentError`](<#AgentError.WithField>)
- [type AgentFactory](<#AgentFactory>)
  - [`func NewAgentFactory(config *Config) *AgentFactory`](<#NewAgentFactory>)
  - [`func NewAgentFactoryWithMetrics(config *Config, metrics *Metrics) *AgentFactory`](<#NewAgentFactoryWithMetrics>)
  - [`func (f *AgentFactory) CreateBaseAgent(ctx context.Context, name string, llm llmsiface.LLM, agentTools []iface.Tool, opts ...iface.Option) (iface.CompositeAgent, error)`](<#AgentFactory.CreateBaseAgent>)
  - [`func (f *AgentFactory) CreateReActAgent(ctx context.Context, name string, llm llmsiface.ChatModel, agentTools []iface.Tool, prompt any, opts ...iface.Option) (iface.CompositeAgent, error)`](<#AgentFactory.CreateReActAgent>)
- [type AgentRegistry](<#AgentRegistry>)
  - [`func GetGlobalAgentRegistry() *AgentRegistry`](<#GetGlobalAgentRegistry>)
  - [`func GetRegistry() *AgentRegistry`](<#GetRegistry>)
  - [`func NewAgentRegistry() *AgentRegistry`](<#NewAgentRegistry>)
  - [`func (r *AgentRegistry) Create(ctx context.Context, agentType, name string, llm any, agentTools []iface.Tool, config Config) (iface.CompositeAgent, error)`](<#AgentRegistry.Create>)
  - [`func (r *AgentRegistry) ListAgentTypes() []string`](<#AgentRegistry.ListAgentTypes>)
  - [`func (r *AgentRegistry) Register(agentType string, creator AgentCreatorFunc)`](<#AgentRegistry.Register>)
- [type AgentScenarioRunner](<#AgentScenarioRunner>)
  - [`func NewAgentScenarioRunner(agent iface.CompositeAgent) *AgentScenarioRunner`](<#NewAgentScenarioRunner>)
  - [`func (r *AgentScenarioRunner) RunPlanningScenario(ctx context.Context, problems []string) ([][]string, error)`](<#AgentScenarioRunner.RunPlanningScenario>)
  - [`func (r *AgentScenarioRunner) RunTaskExecutionScenario(ctx context.Context, tasks []string) error`](<#AgentScenarioRunner.RunTaskExecutionScenario>)
  - [`func (r *AgentScenarioRunner) RunToolUsageScenario(ctx context.Context, toolTasks []string) error`](<#AgentScenarioRunner.RunToolUsageScenario>)
- [type ConcurrentStreamingTestRunner](<#ConcurrentStreamingTestRunner>)
  - [`func NewConcurrentStreamingTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentStreamingTestRunner`](<#NewConcurrentStreamingTestRunner>)
  - [`func (r *ConcurrentStreamingTestRunner) Run() error`](<#ConcurrentStreamingTestRunner.Run>)
- [type ConcurrentTestRunner](<#ConcurrentTestRunner>)
  - [`func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner`](<#NewConcurrentTestRunner>)
  - [`func (r *ConcurrentTestRunner) Run() error`](<#ConcurrentTestRunner.Run>)
- [type Config](<#Config>)
  - [`func CreateTestAgentConfig(agentType string) Config`](<#CreateTestAgentConfig>)
  - [`func DefaultConfig() *Config`](<#DefaultConfig>)
  - [`func NewDefaultConfig() *Config`](<#NewDefaultConfig>)
  - [`func (c *Config) Validate() error`](<#Config.Validate>)
- [type ExecutionChunk](<#ExecutionChunk>)
- [type ExecutionError](<#ExecutionError>)
  - [`func NewExecutionError(agent string, step int, action string, err error, retryable bool) *ExecutionError`](<#NewExecutionError>)
  - [`func (e *ExecutionError) Error() string`](<#ExecutionError.Error>)
  - [`func (e *ExecutionError) Unwrap() error`](<#ExecutionError.Unwrap>)
- [type ExecutionRecord](<#ExecutionRecord>)
- [type ExecutorConfig](<#ExecutorConfig>)
- [type FactoryError](<#FactoryError>)
  - [`func NewFactoryError(agentType string, config any, err error) *FactoryError`](<#NewFactoryError>)
  - [`func (e *FactoryError) Error() string`](<#FactoryError.Error>)
  - [`func (e *FactoryError) Unwrap() error`](<#FactoryError.Unwrap>)
- [type IntegrationTestHelper](<#IntegrationTestHelper>)
  - [`func NewIntegrationTestHelper() *IntegrationTestHelper`](<#NewIntegrationTestHelper>)
  - [`func (h *IntegrationTestHelper) AddAgent(name string, agent *AdvancedMockAgent)`](<#IntegrationTestHelper.AddAgent>)
  - [`func (h *IntegrationTestHelper) AddTool(name string, tool *MockTool)`](<#IntegrationTestHelper.AddTool>)
  - [`func (h *IntegrationTestHelper) GetAgent(name string) *AdvancedMockAgent`](<#IntegrationTestHelper.GetAgent>)
  - [`func (h *IntegrationTestHelper) GetExecutor() *MockExecutor`](<#IntegrationTestHelper.GetExecutor>)
  - [`func (h *IntegrationTestHelper) GetTool(name string) *MockTool`](<#IntegrationTestHelper.GetTool>)
  - [`func (h *IntegrationTestHelper) Reset()`](<#IntegrationTestHelper.Reset>)
- [type Metrics](<#Metrics>)
  - [`func DefaultMetrics() *Metrics`](<#DefaultMetrics>)
  - [`func GetMetrics() *Metrics`](<#GetMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) RecordAgentCreation(ctx context.Context, agentType string)`](<#Metrics.RecordAgentCreation>)
  - [`func (m *Metrics) RecordAgentExecution(ctx context.Context, agentName, agentType string, duration time.Duration, success bool)`](<#Metrics.RecordAgentExecution>)
  - [`func (m *Metrics) RecordExecutorRun(ctx context.Context, executorType string, duration time.Duration, steps int, success bool)`](<#Metrics.RecordExecutorRun>)
  - [`func (m *Metrics) RecordPlanningCall(ctx context.Context, agentName string, duration time.Duration, success bool)`](<#Metrics.RecordPlanningCall>)
  - [`func (m *Metrics) RecordStreamingChunk(ctx context.Context, agentName string)`](<#Metrics.RecordStreamingChunk>)
  - [`func (m *Metrics) RecordStreamingOperation(ctx context.Context, agentName string, latency, duration time.Duration)`](<#Metrics.RecordStreamingOperation>)
  - [`func (m *Metrics) RecordToolCall(ctx context.Context, toolName string, duration time.Duration, success bool)`](<#Metrics.RecordToolCall>)
  - [`func (m *Metrics) StartAgentSpan(ctx context.Context, agentName, operation string) (context.Context, trace.Span)`](<#Metrics.StartAgentSpan>)
  - [`func (m *Metrics) StartExecutorSpan(ctx context.Context, executorType, operation string) (context.Context, trace.Span)`](<#Metrics.StartExecutorSpan>)
  - [`func (m *Metrics) StartToolSpan(ctx context.Context, toolName, operation string) (context.Context, trace.Span)`](<#Metrics.StartToolSpan>)
- [type MockAgentOption](<#MockAgentOption>)
  - [`func WithAgentState(state map[string]any) MockAgentOption`](<#WithAgentState>)
  - [`func WithExecutionDelay(delay time.Duration) MockAgentOption`](<#WithExecutionDelay>)
  - [`func WithMockAgentError(op, code string, underlyingErr error) MockAgentOption`](<#WithMockAgentError>)
  - [`func WithMockError(shouldError bool, err error) MockAgentOption`](<#WithMockError>)
  - [`func WithMockErrorCode(code string, underlyingErr error) MockAgentOption`](<#WithMockErrorCode>)
  - [`func WithMockExecutionError(agent string, step int, action string, underlyingErr error, retryable bool) MockAgentOption`](<#WithMockExecutionError>)
  - [`func WithMockFactoryError(agentType string, config any, underlyingErr error) MockAgentOption`](<#WithMockFactoryError>)
  - [`func WithMockPlanningError(agent string, inputKeys []string, underlyingErr error) MockAgentOption`](<#WithMockPlanningError>)
  - [`func WithMockResponses(responses []any) MockAgentOption`](<#WithMockResponses>)
  - [`func WithMockStreamingError(op, agent, code string, underlyingErr error) MockAgentOption`](<#WithMockStreamingError>)
  - [`func WithMockTools(agentTools []iface.Tool) MockAgentOption`](<#WithMockTools>)
  - [`func WithMockValidationError(field, message string) MockAgentOption`](<#WithMockValidationError>)
  - [`func WithPlanningSteps(steps []string) MockAgentOption`](<#WithPlanningSteps>)
- [type MockExecutor](<#MockExecutor>)
  - [`func NewMockExecutor() *MockExecutor`](<#NewMockExecutor>)
  - [`func (e *MockExecutor) Execute(ctx context.Context, agent iface.CompositeAgent, input any) (any, error)`](<#MockExecutor.Execute>)
  - [`func (e *MockExecutor) GetCallCount() int`](<#MockExecutor.GetCallCount>)
  - [`func (e *MockExecutor) GetExecutions() []ExecutionRecord`](<#MockExecutor.GetExecutions>)
  - [`func (e *MockExecutor) Reset()`](<#MockExecutor.Reset>)
  - [`func (e *MockExecutor) WithError(err error)`](<#MockExecutor.WithError>)
- [type MockStreamingAgentOption](<#MockStreamingAgentOption>)
  - [`func WithChunkGenerator(generator func() iface.AgentStreamChunk) MockStreamingAgentOption`](<#WithChunkGenerator>)
  - [`func WithMockStreamingChunks(chunks []iface.AgentStreamChunk) MockStreamingAgentOption`](<#WithMockStreamingChunks>)
  - [`func WithStreamingDelay(delay time.Duration) MockStreamingAgentOption`](<#WithStreamingDelay>)
  - [`func WithStreamingError(shouldError bool, err error) MockStreamingAgentOption`](<#WithStreamingError>)
- [type MockStreamingExecutor](<#MockStreamingExecutor>)
  - [`func NewMockStreamingExecutor(baseExecutor *MockExecutor) *MockStreamingExecutor`](<#NewMockStreamingExecutor>)
  - [`func (e *MockStreamingExecutor) ExecuteStreamingPlan(ctx context.Context, agent iface.Agent, plan []schema.Step) (<-chan ExecutionChunk, error)`](<#MockStreamingExecutor.ExecuteStreamingPlan>)
- [type MockTool](<#MockTool>)
  - [`func NewMockTool(name, description string) *MockTool`](<#NewMockTool>)
  - [`func (t *MockTool) Execute(ctx context.Context, input any) (any, error)`](<#MockTool.Execute>)
  - [`func (t *MockTool) GetCallCount() int`](<#MockTool.GetCallCount>)
- [type Option](<#Option>)
- [type PlanningError](<#PlanningError>)
  - [`func NewPlanningError(agent string, inputKeys []string, err error) *PlanningError`](<#NewPlanningError>)
  - [`func (e *PlanningError) Error() string`](<#PlanningError.Error>)
  - [`func (e *PlanningError) Unwrap() error`](<#PlanningError.Unwrap>)
  - [`func (e *PlanningError) WithSuggestion(suggestion string) *PlanningError`](<#PlanningError.WithSuggestion>)
- [type SafetyChecker](<#SafetyChecker>)
  - [`func NewSafetyChecker() *SafetyChecker`](<#NewSafetyChecker>)
  - [`func (sc *SafetyChecker) CheckContent(ctx context.Context, content string) (SafetyResult, error)`](<#SafetyChecker.CheckContent>)
- [type SafetyIssue](<#SafetyIssue>)
- [type SafetyResult](<#SafetyResult>)
- [type StreamingError](<#StreamingError>)
  - [`func NewStreamingError(op, agent, code string, err error) *StreamingError`](<#NewStreamingError>)
  - [`func WrapStreamingError(op, agent, code string, err error) *StreamingError`](<#WrapStreamingError>)
  - [`func (e *StreamingError) Error() string`](<#StreamingError.Error>)
  - [`func (e *StreamingError) Unwrap() error`](<#StreamingError.Unwrap>)
  - [`func (e *StreamingError) WithField(key string, value any) *StreamingError`](<#StreamingError.WithField>)
- [type ToolExecutionResult](<#ToolExecutionResult>)
- [type ValidationError](<#ValidationError>)
  - [`func NewValidationError(field, message string) *ValidationError`](<#NewValidationError>)
  - [`func (e *ValidationError) Error() string`](<#ValidationError.Error>)

## Constants

<a name="ErrCodeConfigInvalid"></a>Error codes for different types of agent errors.

```go
const (
    ErrCodeConfigInvalid     = "config_invalid"
    ErrCodeInitialization    = "initialization_failed"
    ErrCodeExecution         = "execution_failed"
    ErrCodePlanning          = "planning_failed"
    ErrCodeToolNotFound      = "tool_not_found"
    ErrCodeLLMError          = "llm_error"
    ErrCodeTimeout           = "timeout"
    ErrCodeAgentTimeout      = "agent_timeout"
    ErrCodeMaxIterations     = "max_iterations_exceeded"
    ErrCodeInvalidInput      = "invalid_input"
    ErrCodeResourceExhausted = "resource_exhausted"
    ErrCodeInvalidAction     = "invalid_action"
    ErrCodeToolExecution     = "tool_execution_failed"
    ErrCodeEventHandler      = "event_handler_error"
    ErrCodeStateTransition   = "state_transition_error"
    ErrCodeShutdown          = "shutdown_failed"

    // Streaming error codes.
    ErrCodeStreamingNotSupported = "streaming_not_supported"
    ErrCodeStreamInterrupted     = "stream_interrupted"
    ErrCodeStreamError           = "stream_error"
)
```

<a name="AgentTypeBase"></a>Built-in agent type constants.

```go
const (
    AgentTypeBase  = "base"
    AgentTypeReAct = "react"
)
```

## Variables

<a name="ErrAgentNotFound"></a>Common error variables for frequently used errors.

```go
var (
    ErrAgentNotFound         = errors.New("agent not found")
    ErrInvalidConfig         = errors.New("invalid configuration")
    ErrToolNotAvailable      = errors.New("tool not available")
    ErrMaxIterationsExceeded = errors.New("maximum iterations exceeded")
    ErrContextCancelled      = errors.New("context canceled")
    ErrTimeout               = errors.New("operation timed out")
    ErrAgentTimeout          = errors.New("agent execution timed out")
    ErrResourceExhausted     = errors.New("resource exhausted")
    ErrInvalidAction         = errors.New("invalid action")
    ErrToolExecution         = errors.New("tool execution failed")
    ErrEventHandler          = errors.New("event handler error")
    ErrStateTransition       = errors.New("invalid state transition")
    ErrShutdown              = errors.New("shutdown failed")
)
```

<a name="ErrUnsafe"></a>ErrUnsafe is returned when content fails safety validation.

```go
var ErrUnsafe = errors.New("content failed safety validation")
```

<a name="AssertAgentExecution"></a>
## func [AssertAgentExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L519>)

```go
func AssertAgentExecution(t *testing.T, result any, expectedPattern string)
```

AssertAgentExecution validates agent execution results.

<a name="AssertAgentHealth"></a>
## func [AssertAgentHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L535>)

```go
func AssertAgentHealth(t *testing.T, health map[string]any, expectedStatus string)
```

AssertAgentHealth validates agent health check results.

<a name="AssertErrorType"></a>
## func [AssertErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L544>)

```go
func AssertErrorType(t *testing.T, err error, expectedCode string)
```

AssertErrorType validates error types and codes.

<a name="AssertPlanningResult"></a>
## func [AssertPlanningResult](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L527>)

```go
func AssertPlanningResult(t *testing.T, steps []string, expectedMinSteps int)
```

AssertPlanningResult validates agent planning results.

<a name="CollectStreamChunks"></a>
## func [CollectStreamChunks](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1451>)

```go
func CollectStreamChunks(ch <-chan iface.AgentStreamChunk) ([]iface.AgentStreamChunk, error)
```

CollectStreamChunks collects all chunks from a stream channel.

<a name="CreateAgent"></a>
## func [CreateAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L171>)

```go
func CreateAgent(ctx context.Context, agentType, name string, llm any, agentTools []iface.Tool, config Config) (iface.CompositeAgent, error)
```

CreateAgent creates an agent using the global registry. This is a convenience function for creating agents with the global registry.

Parameters:

- ctx: Context for cancellation and timeout control
- agentType: Type of agent to create (must be registered)
- name: Unique name for the agent instance
- llm: Language model instance
- agentTools: Slice of tools available to the agent
- config: Agent configuration

Returns:

- iface.CompositeAgent: A new agent instance
- error: Agent type not found or creation errors

Example:

```
agent, err := agents.CreateAgent(ctx, "base", "my-agent", llm, tools, config)
```

Example usage can be found in examples/agents/basic/main.go

<a name="CreateTestExecutionPlan"></a>
## func [CreateTestExecutionPlan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L898>)

```go
func CreateTestExecutionPlan(steps int) []string
```

CreateTestExecutionPlan creates a test execution plan.

<a name="CreateTestTools"></a>
## func [CreateTestTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L506>)

```go
func CreateTestTools(count int) []iface.Tool
```

CreateTestTools creates a set of mock tools for testing.

<a name="GenerateStreamChunks"></a>
## func [GenerateStreamChunks](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1398>)

```go
func GenerateStreamChunks(response string, chunkSize int) []iface.AgentStreamChunk
```

GenerateStreamChunks creates a slice of AgentStreamChunk from a string response.

<a name="GetAgentStateString"></a>
## func [GetAgentStateString](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L360>)

```go
func GetAgentStateString(state iface.AgentState) string
```

GetAgentStateString returns a human-readable string for an agent state.

Parameters:

- state: Agent state to convert

Returns:

- Human-readable state string

<a name="HealthCheck"></a>
## func [HealthCheck](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L333>)

```go
func HealthCheck(agent iface.CompositeAgent) map[string]any
```

HealthCheck performs a health check on an agent. This can be used for monitoring and ensuring agent availability.

Parameters:

- agent: Agent to check

Returns:

- Health status information

Example:

```
status := agents.HealthCheck(agent)
if status["state"] == "error" {
	log.Warn("Agent is in error state")
}
```

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L375>)

```go
func InitMetrics(meter metric.Meter, tracer trace.Tracer)
```

InitMetrics initializes the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="IsFactoryError"></a>
## func [IsFactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L259>)

```go
func IsFactoryError(err error) bool
```

IsFactoryError checks if an error is a factory error.

<a name="IsRetryable"></a>
## func [IsRetryable](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L224>)

```go
func IsRetryable(err error) bool
```

IsRetryable checks if an error is retryable.

<a name="IsStreamingError"></a>
## func [IsStreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L312>)

```go
func IsStreamingError(err error) bool
```

IsStreamingError checks if an error is a streaming error.

<a name="IsValidationError"></a>
## func [IsValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L253>)

```go
func IsValidationError(err error) bool
```

IsValidationError checks if an error is a validation error.

<a name="ListAgentStates"></a>
## func [ListAgentStates](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L342>)

```go
func ListAgentStates() []iface.AgentState
```

ListAgentStates returns all possible agent states. This is useful for UI components or status monitoring.

Returns:

- Slice of all agent states

<a name="ListAvailableAgentTypes"></a>
## func [ListAvailableAgentTypes](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L187>)

```go
func ListAvailableAgentTypes() []string
```

ListAvailableAgentTypes returns all available agent types from the global registry. This is a convenience function for listing types from the global registry.

Returns:

- []string: Slice of available agent type names

Example:

```
types := agents.ListAvailableAgentTypes()
fmt.Printf("Available types: %v\n", types)
```

Example usage can be found in examples/agents/basic/main.go

<a name="NewAgentExecutor"></a>
## func [NewAgentExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L246>)

```go
func NewAgentExecutor(opts ...executor.ExecutorOption) iface.Executor
```

NewAgentExecutor creates a new agent executor. The executor handles the execution loop, tool calling, and result processing.

Returns:

- New executor instance

Example:

```
executor := agents.NewAgentExecutor(
	agents.WithMaxIterations(10),
	agents.WithReturnIntermediateSteps(true),
)
result, err := executor.ExecutePlan(ctx, agent, plan)
```

<a name="NewBaseAgent"></a>
## func [NewBaseAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L94>)

```go
func NewBaseAgent(name string, llm llmsiface.LLM, agentTools []iface.Tool, opts ...iface.Option) (iface.CompositeAgent, error)
```

NewBaseAgent creates a new base agent with the specified configuration. It provides a foundation for building custom agent implementations.

Parameters:

- name: Unique identifier for the agent
- llm: Language model instance for reasoning and generation
- agentTools: List of tools available to the agent
- opts: Optional configuration functions

Returns:

- Agent instance implementing the CompositeAgent interface
- Error if initialization fails

Example:

```
llm := openai.NewGPT4()
tools := []tools.Tool{calculator, webSearch}
agent, err := agents.NewBaseAgent("assistant", llm, tools,
	agents.WithMaxRetries(3),
	agents.WithTimeout(30*time.Second),
)
```

<a name="NewExecutorWithHandleParsingErrors"></a>
## func [NewExecutorWithHandleParsingErrors](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L263>)

```go
func NewExecutorWithHandleParsingErrors(handle bool) iface.Executor
```

NewExecutorWithHandleParsingErrors creates a new executor with the specified error handling behavior.

<a name="NewExecutorWithMaxIterations"></a>
## func [NewExecutorWithMaxIterations](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L253>)

```go
func NewExecutorWithMaxIterations(max int) iface.Executor
```

NewExecutorWithMaxIterations creates a new executor with the specified maximum iterations.

<a name="NewExecutorWithReturnIntermediateSteps"></a>
## func [NewExecutorWithReturnIntermediateSteps](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L258>)

```go
func NewExecutorWithReturnIntermediateSteps(returnSteps bool) iface.Executor
```

NewExecutorWithReturnIntermediateSteps creates a new executor that returns intermediate steps.

<a name="NewReActAgent"></a>
## func [NewReActAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L213>)

```go
func NewReActAgent(name string, llm llmsiface.ChatModel, agentTools []iface.Tool, prompt any, opts ...iface.Option) (iface.CompositeAgent, error)
```

NewReActAgent creates a new ReAct (Reasoning \+ Acting) agent. ReAct agents iteratively reason about problems and execute actions using tools.

Parameters:

- name: Unique identifier for the agent
- llm: Chat model instance (required for ReAct pattern)
- agentTools: List of tools available to the agent
- prompt: Prompt template defining the agent's behavior
- opts: Optional configuration functions

Returns:

- ReAct agent instance
- Error if initialization fails

Example:

```
llm := openai.NewGPT4Chat()
tools := []tools.Tool{calculator, webSearch}
prompt := prompts.NewReActPrompt()
agent, err := agents.NewReActAgent("researcher", llm, tools, prompt)
```

<a name="NewToolRegistry"></a>
## func [NewToolRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L278>)

```go
func NewToolRegistry() iface.ToolRegistry
```

NewToolRegistry creates a new tool registry for managing agent tools. The registry provides centralized tool discovery and management.

Returns:

- New tool registry instance

Example:

```
registry := agents.NewToolRegistry()
registry.RegisterTool(calculator)
tool, err := registry.GetTool("calculator")
```

<a name="RegisterAgentType"></a>
## func [RegisterAgentType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L147>)

```go
func RegisterAgentType(agentType string, creator AgentCreatorFunc)
```

RegisterAgentType registers an agent type with the global registry. This is a convenience function for registering with the global registry.

Parameters:

- agentType: Unique identifier for the agent type
- creator: Function that creates agent instances of this type

Example:

```
agents.RegisterAgentType("custom", customAgentCreator)
```

Example usage can be found in examples/agents/basic/main.go

<a name="RunLoadTest"></a>
## func [RunLoadTest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L648>)

```go
func RunLoadTest(t *testing.T, agent *AdvancedMockAgent, numOperations, concurrency int)
```

RunLoadTest executes a load test scenario on agents.

<a name="ValidateConfig"></a>
## func [ValidateConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L314>)

```go
func ValidateConfig(config *Config) error
```

ValidateConfig validates an agent configuration. This ensures the configuration is complete and contains valid values.

Parameters:

- config: Configuration to validate

Returns:

- Error if validation fails, nil otherwise

Example:

```
config := agents.NewDefaultConfig()
if err := agents.ValidateConfig(config); err != nil {
	log.Fatal("Invalid config:", err)
}
```

<a name="ValidateStreamChunk"></a>
## func [ValidateStreamChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1439>)

```go
func ValidateStreamChunk(t *testing.T, chunk iface.AgentStreamChunk, allowEmpty bool)
```

ValidateStreamChunk validates that a stream chunk has valid structure.

<a name="ValidateStreamingConfig"></a>
## func [ValidateStreamingConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L184>)

```go
func ValidateStreamingConfig(config iface.StreamingConfig) error
```

ValidateStreamingConfig validates streaming configuration values.

<a name="WithEnableSafety"></a>
## func [WithEnableSafety](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L96>)

```go
func WithEnableSafety(enabled bool) iface.Option
```

WithEnableSafety enables or disables safety middleware for the agent.

<a name="WithEventHandler"></a>
## func [WithEventHandler](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L103>)

```go
func WithEventHandler(eventType string, handler iface.EventHandler) iface.Option
```

WithEventHandler registers an event handler for a specific event type.

<a name="WithMaxIterations"></a>
## func [WithMaxIterations](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L75>)

```go
func WithMaxIterations(iterations int) iface.Option
```

WithMaxIterations sets the maximum number of iterations for agent planning.

<a name="WithMaxRetries"></a>
## func [WithMaxRetries](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L54>)

```go
func WithMaxRetries(retries int) iface.Option
```

WithMaxRetries sets the maximum number of retries for agent operations.

<a name="WithMetrics"></a>
## func [WithMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L82>)

```go
func WithMetrics(enabled bool) iface.Option
```

WithMetrics enables or disables metrics collection.

<a name="WithRetryDelay"></a>
## func [WithRetryDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L61>)

```go
func WithRetryDelay(delay time.Duration) iface.Option
```

WithRetryDelay sets the delay between retries.

<a name="WithStreaming"></a>
## func [WithStreaming](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L163>)

```go
func WithStreaming(enabled bool) iface.Option
```

WithStreaming enables streaming mode for agents. This is a convenience function that sets EnableStreaming to true in StreamingConfig.

<a name="WithStreamingConfig"></a>
## func [WithStreamingConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L177>)

```go
func WithStreamingConfig(config iface.StreamingConfig) iface.Option
```

WithStreamingConfig sets the complete streaming configuration.

<a name="WithTimeout"></a>
## func [WithTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L68>)

```go
func WithTimeout(timeout time.Duration) iface.Option
```

WithTimeout sets the timeout for agent operations.

<a name="WithTracing"></a>
## func [WithTracing](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L89>)

```go
func WithTracing(enabled bool) iface.Option
```

WithTracing enables or disables tracing.

<a name="AdvancedMockAgent"></a>
## type [AdvancedMockAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L63-L81>)

AdvancedMockAgent provides a comprehensive mock implementation for testing.

```go
type AdvancedMockAgent struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="CreateCollaborativeAgents"></a>
### func [CreateCollaborativeAgents](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L907>)

```go
func CreateCollaborativeAgents(count int, sharedState map[string]any) []*AdvancedMockAgent
```

CreateCollaborativeAgents creates agents configured for collaboration.

<a name="CreateTestAgentWithState"></a>
### func [CreateTestAgentWithState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L893>)

```go
func CreateTestAgentWithState(name string, state map[string]any) *AdvancedMockAgent
```

CreateTestAgentWithState creates an agent with predefined state.

<a name="CreateTestAgentWithTools"></a>
### func [CreateTestAgentWithTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L887>)

```go
func CreateTestAgentWithTools(name string, toolCount int) *AdvancedMockAgent
```

CreateTestAgentWithTools creates an agent configured with test tools.

<a name="NewAdvancedMockAgent"></a>
### func [NewAdvancedMockAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L93>)

```go
func NewAdvancedMockAgent(name, agentType string, options ...MockAgentOption) *AdvancedMockAgent
```

NewAdvancedMockAgent creates a new advanced mock with configurable behavior.

<a name="AdvancedMockAgent.Batch"></a>
### func (*AdvancedMockAgent) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L224>)

```go
func (a *AdvancedMockAgent) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

<a name="AdvancedMockAgent.CheckHealth"></a>
### func (*AdvancedMockAgent) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L394>)

```go
func (a *AdvancedMockAgent) CheckHealth() map[string]any
```

HealthChecker interface implementation.

<a name="AdvancedMockAgent.EmitEvent"></a>
### func (*AdvancedMockAgent) [EmitEvent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L389>)

```go
func (a *AdvancedMockAgent) EmitEvent(eventType string, payload any)
```

<a name="AdvancedMockAgent.Execute"></a>
### func (*AdvancedMockAgent) [Execute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L365>)

```go
func (a *AdvancedMockAgent) Execute() error
```

<a name="AdvancedMockAgent.GetCallCount"></a>
### func (*AdvancedMockAgent) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L433>)

```go
func (a *AdvancedMockAgent) GetCallCount() int
```

<a name="AdvancedMockAgent.GetConfig"></a>
### func (*AdvancedMockAgent) [GetConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L337>)

```go
func (a *AdvancedMockAgent) GetConfig() schema.AgentConfig
```

<a name="AdvancedMockAgent.GetExecutionHistory"></a>
### func (*AdvancedMockAgent) [GetExecutionHistory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L439>)

```go
func (a *AdvancedMockAgent) GetExecutionHistory() []ExecutionRecord
```

<a name="AdvancedMockAgent.GetInternalState"></a>
### func (*AdvancedMockAgent) [GetInternalState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L417>)

```go
func (a *AdvancedMockAgent) GetInternalState() map[string]any
```

<a name="AdvancedMockAgent.GetLLM"></a>
### func (*AdvancedMockAgent) [GetLLM](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L342>)

```go
func (a *AdvancedMockAgent) GetLLM() llmsiface.LLM
```

<a name="AdvancedMockAgent.GetMetrics"></a>
### func (*AdvancedMockAgent) [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L347>)

```go
func (a *AdvancedMockAgent) GetMetrics() iface.MetricsRecorder
```

<a name="AdvancedMockAgent.GetName"></a>
### func (*AdvancedMockAgent) [GetName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L409>)

```go
func (a *AdvancedMockAgent) GetName() string
```

Additional helper methods for testing.

<a name="AdvancedMockAgent.GetState"></a>
### func (*AdvancedMockAgent) [GetState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L378>)

```go
func (a *AdvancedMockAgent) GetState() iface.AgentState
```

<a name="AdvancedMockAgent.GetTools"></a>
### func (*AdvancedMockAgent) [GetTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L329>)

```go
func (a *AdvancedMockAgent) GetTools() []iface.Tool
```

<a name="AdvancedMockAgent.GetType"></a>
### func (*AdvancedMockAgent) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L413>)

```go
func (a *AdvancedMockAgent) GetType() string
```

<a name="AdvancedMockAgent.Initialize"></a>
### func (*AdvancedMockAgent) [Initialize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L353>)

```go
func (a *AdvancedMockAgent) Initialize(config map[string]any) error
```

LifecycleManager interface implementation.

<a name="AdvancedMockAgent.InputVariables"></a>
### func (*AdvancedMockAgent) [InputVariables](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L321>)

```go
func (a *AdvancedMockAgent) InputVariables() []string
```

<a name="AdvancedMockAgent.Invoke"></a>
### func (*AdvancedMockAgent) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L220>)

```go
func (a *AdvancedMockAgent) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

Mock implementation methods for core.Runnable interface.

<a name="AdvancedMockAgent.OutputVariables"></a>
### func (*AdvancedMockAgent) [OutputVariables](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L325>)

```go
func (a *AdvancedMockAgent) OutputVariables() []string
```

<a name="AdvancedMockAgent.Plan"></a>
### func (*AdvancedMockAgent) [Plan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L291>)

```go
func (a *AdvancedMockAgent) Plan(ctx context.Context, intermediateSteps []iface.IntermediateStep, inputs map[string]any) (iface.AgentAction, iface.AgentFinish, error)
```

Mock implementation methods for Agent interface.

<a name="AdvancedMockAgent.RegisterEventHandler"></a>
### func (*AdvancedMockAgent) [RegisterEventHandler](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L385>)

```go
func (a *AdvancedMockAgent) RegisterEventHandler(eventType string, handler iface.EventHandler)
```

EventEmitter interface implementation.

<a name="AdvancedMockAgent.SetInternalState"></a>
### func (*AdvancedMockAgent) [SetInternalState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L427>)

```go
func (a *AdvancedMockAgent) SetInternalState(key string, value any)
```

<a name="AdvancedMockAgent.Shutdown"></a>
### func (*AdvancedMockAgent) [Shutdown](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L371>)

```go
func (a *AdvancedMockAgent) Shutdown() error
```

<a name="AdvancedMockAgent.Stream"></a>
### func (*AdvancedMockAgent) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L236>)

```go
func (a *AdvancedMockAgent) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

<a name="AdvancedMockStreamingAgent"></a>
## type [AdvancedMockStreamingAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L987-L996>)

AdvancedMockStreamingAgent provides a comprehensive mock implementation for streaming agents. This struct extends AdvancedMockAgent with streaming capabilities.

```go
type AdvancedMockStreamingAgent struct {
    *AdvancedMockAgent
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockStreamingAgent"></a>
### func [NewAdvancedMockStreamingAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1031>)

```go
func NewAdvancedMockStreamingAgent(baseAgent *AdvancedMockAgent, options ...MockStreamingAgentOption) *AdvancedMockStreamingAgent
```

NewAdvancedMockStreamingAgent creates a new advanced streaming agent mock.

<a name="AdvancedMockStreamingAgent.GetStreamCount"></a>
### func (*AdvancedMockStreamingAgent) [GetStreamCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1212>)

```go
func (a *AdvancedMockStreamingAgent) GetStreamCount() int
```

GetStreamCount returns the number of streams started.

<a name="AdvancedMockStreamingAgent.StreamExecute"></a>
### func (*AdvancedMockStreamingAgent) [StreamExecute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1048>)

```go
func (a *AdvancedMockStreamingAgent) StreamExecute(ctx context.Context, inputs map[string]any) (<-chan iface.AgentStreamChunk, error)
```

StreamExecute implements the StreamingAgent interface. This method simulates streaming execution by returning a channel of chunks.

<a name="AdvancedMockStreamingAgent.StreamPlan"></a>
### func (*AdvancedMockStreamingAgent) [StreamPlan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1137>)

```go
func (a *AdvancedMockStreamingAgent) StreamPlan(ctx context.Context, intermediateSteps []iface.IntermediateStep, inputs map[string]any) (<-chan iface.AgentStreamChunk, error)
```

StreamPlan implements the StreamingAgent interface. This method simulates streaming planning by returning a channel of chunks.

<a name="AgentBenchmark"></a>
## type [AgentBenchmark](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L933-L936>)

AgentBenchmark provides benchmarking utilities for agents.

```go
type AgentBenchmark struct {
    // contains filtered or unexported fields
}
```

<a name="NewAgentBenchmark"></a>
### func [NewAgentBenchmark](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L938>)

```go
func NewAgentBenchmark(agent iface.CompositeAgent, taskCount int) *AgentBenchmark
```

<a name="AgentBenchmark.BenchmarkExecution"></a>
### func (*AgentBenchmark) [BenchmarkExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L950>)

```go
func (b *AgentBenchmark) BenchmarkExecution(iterations int) (time.Duration, error)
```

<a name="AgentBenchmark.BenchmarkPlanning"></a>
### func (*AgentBenchmark) [BenchmarkPlanning](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L965>)

```go
func (b *AgentBenchmark) BenchmarkPlanning(iterations int) (time.Duration, error)
```

<a name="AgentCreatorFunc"></a>
## type [AgentCreatorFunc](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L23>)

AgentCreatorFunc defines the function signature for creating agents.

```go
type AgentCreatorFunc func(ctx context.Context, name string, llm any, agentTools []iface.Tool, config Config) (iface.CompositeAgent, error)
```

<a name="AgentError"></a>
## type [AgentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L11-L17>)

AgentError represents a custom error type for agent-related operations. It includes context about the operation that failed and wraps the underlying error. It follows the standard Op/Err/Code pattern used across all Beluga AI packages.

```go
type AgentError struct {
    Op      string         // operation that failed
    Err     error          // underlying error
    Code    string         // error code for programmatic handling
    Message string         // human-readable message (optional)
    Fields  map[string]any // additional context (optional)
}
```

<a name="NewAgentError"></a>
### func [NewAgentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L61>)

```go
func NewAgentError(op, code string, err error) *AgentError
```

NewAgentError creates a new AgentError following the Op/Err/Code pattern.

<a name="NewAgentErrorWithMessage"></a>
### func [NewAgentErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L71>)

```go
func NewAgentErrorWithMessage(op, code, message string, err error) *AgentError
```

NewAgentErrorWithMessage creates a new AgentError with a custom message.

<a name="AgentError.Error"></a>
### func (*AgentError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L20>)

```go
func (e *AgentError) Error() string
```

Error implements the error interface.

<a name="AgentError.Unwrap"></a>
### func (*AgentError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L31>)

```go
func (e *AgentError) Unwrap() error
```

Unwrap returns the underlying error for error wrapping.

<a name="AgentError.WithField"></a>
### func (*AgentError) [WithField](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L82>)

```go
func (e *AgentError) WithField(key string, value any) *AgentError
```

WithField adds a context field to the error.

<a name="AgentFactory"></a>
## type [AgentFactory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L52-L55>)

AgentFactory provides a centralized factory for creating different types of agents. It implements dependency injection and provides consistent configuration across agent types.

```go
type AgentFactory struct {
    // contains filtered or unexported fields
}
```

<a name="NewAgentFactory"></a>
### func [NewAgentFactory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L58>)

```go
func NewAgentFactory(config *Config) *AgentFactory
```

NewAgentFactory creates a new agent factory with the specified configuration.

<a name="NewAgentFactoryWithMetrics"></a>
### func [NewAgentFactoryWithMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L66>)

```go
func NewAgentFactoryWithMetrics(config *Config, metrics *Metrics) *AgentFactory
```

NewAgentFactoryWithMetrics creates a new agent factory with custom metrics.

<a name="AgentFactory.CreateBaseAgent"></a>
### func (*AgentFactory) [CreateBaseAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L115>)

```go
func (f *AgentFactory) CreateBaseAgent(ctx context.Context, name string, llm llmsiface.LLM, agentTools []iface.Tool, opts ...iface.Option) (iface.CompositeAgent, error)
```

CreateBaseAgent creates a base agent using the factory's configuration.

<a name="AgentFactory.CreateReActAgent"></a>
### func (*AgentFactory) [CreateReActAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L158>)

```go
func (f *AgentFactory) CreateReActAgent(ctx context.Context, name string, llm llmsiface.ChatModel, agentTools []iface.Tool, prompt any, opts ...iface.Option) (iface.CompositeAgent, error)
```

CreateReActAgent creates a ReAct agent using the factory's configuration.

<a name="AgentRegistry"></a>
## type [AgentRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L27-L30>)

AgentRegistry is the global registry for creating agent instances. It maintains a registry of available agent types and their creation functions.

```go
type AgentRegistry struct {
    // contains filtered or unexported fields
}
```

<a name="GetGlobalAgentRegistry"></a>
### func [GetGlobalAgentRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L193>)

```go
func GetGlobalAgentRegistry() *AgentRegistry
```

GetGlobalAgentRegistry returns the global registry instance for advanced usage. Deprecated: Use GetRegistry() instead for consistency.

<a name="GetRegistry"></a>
### func [GetRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L205>)

```go
func GetRegistry() *AgentRegistry
```

GetRegistry returns the global registry instance. This follows the standard pattern used across all Beluga AI packages.

Example:

```
registry := agents.GetRegistry()
agentTypes := registry.ListAgentTypes()
agent, err := registry.CreateAgent(ctx, "my-agent", "base", llm, tools, config)
```

<a name="NewAgentRegistry"></a>
### func [NewAgentRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L44>)

```go
func NewAgentRegistry() *AgentRegistry
```

NewAgentRegistry creates a new AgentRegistry instance. The registry manages agent type registration and creation following the factory pattern.

Returns:

- *AgentRegistry: A new agent registry instance

Example:

```
registry := agents.NewAgentRegistry()
registry.Register("base", baseAgentCreator)
```

Example usage can be found in examples/agents/basic/main.go

<a name="AgentRegistry.Create"></a>
### func (*AgentRegistry) [Create](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L93>)

```go
func (r *AgentRegistry) Create(ctx context.Context, agentType, name string, llm any, agentTools []iface.Tool, config Config) (iface.CompositeAgent, error)
```

Create creates a new agent instance using the registered agent type. This method is thread-safe and returns an error if the agent type is not registered.

Parameters:

- ctx: Context for cancellation and timeout control
- agentType: Type of agent to create (must be registered)
- name: Unique name for the agent instance
- llm: Language model instance (LLM or ChatModel)
- agentTools: Slice of tools available to the agent
- config: Agent configuration

Returns:

- iface.CompositeAgent: A new agent instance
- error: ErrCodeInitialization if agent type is not registered, or agent creation errors

Example:

```
agent, err := registry.Create(ctx, "base", "my-agent", llm, tools, config)
if err != nil {
    log.Fatal(err)
}
```

Example usage can be found in examples/agents/basic/main.go

<a name="AgentRegistry.ListAgentTypes"></a>
### func (*AgentRegistry) [ListAgentTypes](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L121>)

```go
func (r *AgentRegistry) ListAgentTypes() []string
```

ListAgentTypes returns a list of all registered agent type names. This method is thread-safe and returns an empty slice if no types are registered.

Returns:

- []string: Slice of registered agent type names

Example:

```
types := registry.ListAgentTypes()
fmt.Printf("Available agent types: %v\n", types)
```

Example usage can be found in examples/agents/basic/main.go

<a name="AgentRegistry.Register"></a>
### func (*AgentRegistry) [Register](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/registry.go#L64>)

```go
func (r *AgentRegistry) Register(agentType string, creator AgentCreatorFunc)
```

Register registers a new agent type with the registry. This method is thread-safe and allows extending the framework with custom agent types.

Parameters:

- agentType: Unique identifier for the agent type (e.g., "base", "react")
- creator: Function that creates agent instances of this type

Example:

```
registry.Register("custom", func(ctx context.Context, name string, llm any, tools []tools.Tool, config agents.Config) (iface.CompositeAgent, error) {
    return NewCustomAgent(name, llm, tools, config)
})
```

Example usage can be found in examples/agents/basic/main.go

<a name="AgentScenarioRunner"></a>
## type [AgentScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L817-L820>)

AgentScenarioRunner runs common agent scenarios.

```go
type AgentScenarioRunner struct {
    // contains filtered or unexported fields
}
```

<a name="NewAgentScenarioRunner"></a>
### func [NewAgentScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L822>)

```go
func NewAgentScenarioRunner(agent iface.CompositeAgent) *AgentScenarioRunner
```

<a name="AgentScenarioRunner.RunPlanningScenario"></a>
### func (*AgentScenarioRunner) [RunPlanningScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L844>)

```go
func (r *AgentScenarioRunner) RunPlanningScenario(ctx context.Context, problems []string) ([][]string, error)
```

<a name="AgentScenarioRunner.RunTaskExecutionScenario"></a>
### func (*AgentScenarioRunner) [RunTaskExecutionScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L829>)

```go
func (r *AgentScenarioRunner) RunTaskExecutionScenario(ctx context.Context, tasks []string) error
```

<a name="AgentScenarioRunner.RunToolUsageScenario"></a>
### func (*AgentScenarioRunner) [RunToolUsageScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L868>)

```go
func (r *AgentScenarioRunner) RunToolUsageScenario(ctx context.Context, toolTasks []string) error
```

<a name="ConcurrentStreamingTestRunner"></a>
## type [ConcurrentStreamingTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1310-L1314>)

ConcurrentStreamingTestRunner runs concurrent streaming operations for testing.

```go
type ConcurrentStreamingTestRunner struct {
    NumGoroutines int
    TestDuration  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewConcurrentStreamingTestRunner"></a>
### func [NewConcurrentStreamingTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1317>)

```go
func NewConcurrentStreamingTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentStreamingTestRunner
```

NewConcurrentStreamingTestRunner creates a new concurrent streaming test runner.

<a name="ConcurrentStreamingTestRunner.Run"></a>
### func (*ConcurrentStreamingTestRunner) [Run](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1326>)

```go
func (r *ConcurrentStreamingTestRunner) Run() error
```

Run executes the concurrent streaming test.

<a name="ConcurrentTestRunner"></a>
## type [ConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L555-L559>)

ConcurrentTestRunner runs agent tests concurrently for performance testing.

```go
type ConcurrentTestRunner struct {
    NumGoroutines int
    TestDuration  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewConcurrentTestRunner"></a>
### func [NewConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L561>)

```go
func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner
```

<a name="ConcurrentTestRunner.Run"></a>
### func (*ConcurrentTestRunner) [Run](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L569>)

```go
func (r *ConcurrentTestRunner) Run() error
```

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L12-L23>)

Config represents the configuration for the agents package. It includes settings for agent behavior, execution, and monitoring.

```go
type Config struct {
    AgentConfigs         map[string]schema.AgentConfig `mapstructure:"agents" yaml:"agents"`
    MetricsPrefix        string                        `mapstructure:"metrics_prefix" yaml:"metrics_prefix" validate:"required" default:"beluga_agents"`
    TracingServiceName   string                        `mapstructure:"tracing_service_name" yaml:"tracing_service_name" validate:"required" default:"beluga-agents"`
    ExecutorConfig       ExecutorConfig                `mapstructure:"executor" yaml:"executor"`
    DefaultMaxRetries    int                           `mapstructure:"default_max_retries" yaml:"default_max_retries" validate:"min=0" default:"3"`
    DefaultRetryDelay    time.Duration                 `mapstructure:"default_retry_delay" yaml:"default_retry_delay" validate:"min=0" default:"2s"`
    DefaultTimeout       time.Duration                 `mapstructure:"default_timeout" yaml:"default_timeout" validate:"gt=0" default:"30s"`
    DefaultMaxIterations int                           `mapstructure:"default_max_iterations" yaml:"default_max_iterations" validate:"gt=0" default:"15"`
    EnableMetrics        bool                          `mapstructure:"enable_metrics" yaml:"enable_metrics" default:"true"`
    EnableTracing        bool                          `mapstructure:"enable_tracing" yaml:"enable_tracing" default:"true"`
}
```

<a name="CreateTestAgentConfig"></a>
### func [CreateTestAgentConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L484>)

```go
func CreateTestAgentConfig(agentType string) Config
```

CreateTestAgentConfig creates a test agent configuration.

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L113>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration for the agents package.

<a name="NewDefaultConfig"></a>
### func [NewDefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/agents.go#L295>)

```go
func NewDefaultConfig() *Config
```

NewDefaultConfig creates a new configuration instance with default values. This provides sensible defaults for most use cases while allowing customization.

Returns:

- Configuration instance with defaults

Example:

```
config := agents.NewDefaultConfig()
config.DefaultMaxRetries = 5
agent, err := agents.NewBaseAgent("my-agent", llm, tools,
	agents.WithConfig(config),
)
```

<a name="Config.Validate"></a>
### func (*Config) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L135>)

```go
func (c *Config) Validate() error
```

Validate validates the configuration and returns an error if invalid.

<a name="ExecutionChunk"></a>
## type [ExecutionChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1230-L1237>)

ExecutionChunk represents a chunk of execution output. This type matches the contract definition for streaming executor chunks.

```go
type ExecutionChunk struct {
    Timestamp   time.Time
    Err         error
    ToolResult  *ToolExecutionResult
    FinalAnswer *schema.FinalAnswer
    Step        schema.Step
    Content     string
}
```

<a name="ExecutionError"></a>
## type [ExecutionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L136-L142>)

ExecutionError represents errors that occur during agent execution.

```go
type ExecutionError struct {
    Err       error
    Agent     string
    Action    string
    Step      int
    Retryable bool
}
```

<a name="NewExecutionError"></a>
### func [NewExecutionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L156>)

```go
func NewExecutionError(agent string, step int, action string, err error, retryable bool) *ExecutionError
```

NewExecutionError creates a new ExecutionError.

<a name="ExecutionError.Error"></a>
### func (*ExecutionError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L145>)

```go
func (e *ExecutionError) Error() string
```

Error implements the error interface.

<a name="ExecutionError.Unwrap"></a>
### func (*ExecutionError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L151>)

```go
func (e *ExecutionError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="ExecutionRecord"></a>
## type [ExecutionRecord](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L84-L90>)

ExecutionRecord tracks agent execution history for testing.

```go
type ExecutionRecord struct {
    Timestamp time.Time
    Input     any
    Output    any
    Error     error
    Duration  time.Duration
}
```

<a name="ExecutorConfig"></a>
## type [ExecutorConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L26-L37>)

ExecutorConfig defines configuration for agent execution.

```go
type ExecutorConfig struct {
    // Default execution settings
    DefaultMaxConcurrency int `mapstructure:"default_max_concurrency" yaml:"default_max_concurrency" validate:"gt=0" default:"10"`

    // Error handling
    HandleParsingErrors     bool `mapstructure:"handle_parsing_errors" yaml:"handle_parsing_errors" default:"true"`
    ReturnIntermediateSteps bool `mapstructure:"return_intermediate_steps" yaml:"return_intermediate_steps" default:"false"`

    // Resource limits
    MaxConcurrentExecutions int           `mapstructure:"max_concurrent_executions" yaml:"max_concurrent_executions" validate:"gt=0" default:"100"`
    ExecutionTimeout        time.Duration `mapstructure:"execution_timeout" yaml:"execution_timeout" validate:"gt=0" default:"5m"`
}
```

<a name="FactoryError"></a>
## type [FactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L110-L114>)

FactoryError represents errors that occur during agent creation.

```go
type FactoryError struct {
    Config    any
    Err       error
    AgentType string
}
```

<a name="NewFactoryError"></a>
### func [NewFactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L127>)

```go
func NewFactoryError(agentType string, config any, err error) *FactoryError
```

NewFactoryError creates a new FactoryError.

<a name="FactoryError.Error"></a>
### func (*FactoryError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L117>)

```go
func (e *FactoryError) Error() string
```

Error implements the error interface.

<a name="FactoryError.Unwrap"></a>
### func (*FactoryError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L122>)

```go
func (e *FactoryError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="IntegrationTestHelper"></a>
## type [IntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L697-L701>)

IntegrationTestHelper provides utilities for integration testing.

```go
type IntegrationTestHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewIntegrationTestHelper"></a>
### func [NewIntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L703>)

```go
func NewIntegrationTestHelper() *IntegrationTestHelper
```

<a name="IntegrationTestHelper.AddAgent"></a>
### func (*IntegrationTestHelper) [AddAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L711>)

```go
func (h *IntegrationTestHelper) AddAgent(name string, agent *AdvancedMockAgent)
```

<a name="IntegrationTestHelper.AddTool"></a>
### func (*IntegrationTestHelper) [AddTool](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L715>)

```go
func (h *IntegrationTestHelper) AddTool(name string, tool *MockTool)
```

<a name="IntegrationTestHelper.GetAgent"></a>
### func (*IntegrationTestHelper) [GetAgent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L719>)

```go
func (h *IntegrationTestHelper) GetAgent(name string) *AdvancedMockAgent
```

<a name="IntegrationTestHelper.GetExecutor"></a>
### func (*IntegrationTestHelper) [GetExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L727>)

```go
func (h *IntegrationTestHelper) GetExecutor() *MockExecutor
```

<a name="IntegrationTestHelper.GetTool"></a>
### func (*IntegrationTestHelper) [GetTool](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L723>)

```go
func (h *IntegrationTestHelper) GetTool(name string) *MockTool
```

<a name="IntegrationTestHelper.Reset"></a>
### func (*IntegrationTestHelper) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L731>)

```go
func (h *IntegrationTestHelper) Reset()
```

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L26-L56>)

Metrics holds the metrics for the agents package.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="DefaultMetrics"></a>
### func [DefaultMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L398>)

```go
func DefaultMetrics() *Metrics
```

DefaultMetrics creates a metrics instance with default meter and tracer. Deprecated: Use InitMetrics(meter) and GetMetrics() instead for consistency.

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L392>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L59>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)
```

NewMetrics creates a new Metrics instance with OpenTelemetry metrics.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L411>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.RecordAgentCreation"></a>
### func (*Metrics) [RecordAgentCreation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L217>)

```go
func (m *Metrics) RecordAgentCreation(ctx context.Context, agentType string)
```

Agent creation metrics.

<a name="Metrics.RecordAgentExecution"></a>
### func (*Metrics) [RecordAgentExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L227>)

```go
func (m *Metrics) RecordAgentExecution(ctx context.Context, agentName, agentType string, duration time.Duration, success bool)
```

Agent execution metrics.

<a name="Metrics.RecordExecutorRun"></a>
### func (*Metrics) [RecordExecutorRun](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L249>)

```go
func (m *Metrics) RecordExecutorRun(ctx context.Context, executorType string, duration time.Duration, steps int, success bool)
```

Executor metrics.

<a name="Metrics.RecordPlanningCall"></a>
### func (*Metrics) [RecordPlanningCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L294>)

```go
func (m *Metrics) RecordPlanningCall(ctx context.Context, agentName string, duration time.Duration, success bool)
```

Planning metrics.

<a name="Metrics.RecordStreamingChunk"></a>
### func (*Metrics) [RecordStreamingChunk](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L333>)

```go
func (m *Metrics) RecordStreamingChunk(ctx context.Context, agentName string)
```

RecordStreamingChunk records that a streaming chunk was produced.

<a name="Metrics.RecordStreamingOperation"></a>
### func (*Metrics) [RecordStreamingOperation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L316>)

```go
func (m *Metrics) RecordStreamingOperation(ctx context.Context, agentName string, latency, duration time.Duration)
```

Streaming metrics. RecordStreamingOperation records streaming operation metrics (latency and duration).

<a name="Metrics.RecordToolCall"></a>
### func (*Metrics) [RecordToolCall](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L273>)

```go
func (m *Metrics) RecordToolCall(ctx context.Context, toolName string, duration time.Duration, success bool)
```

Tool metrics.

<a name="Metrics.StartAgentSpan"></a>
### func (*Metrics) [StartAgentSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L346>)

```go
func (m *Metrics) StartAgentSpan(ctx context.Context, agentName, operation string) (context.Context, trace.Span)
```

Tracing helpers. Spans returned by these methods must be ended by the caller using span.End().

<a name="Metrics.StartExecutorSpan"></a>
### func (*Metrics) [StartExecutorSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L355>)

```go
func (m *Metrics) StartExecutorSpan(ctx context.Context, executorType, operation string) (context.Context, trace.Span)
```

<a name="Metrics.StartToolSpan"></a>
### func (*Metrics) [StartToolSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/metrics.go#L364>)

```go
func (m *Metrics) StartToolSpan(ctx context.Context, toolName, operation string) (context.Context, trace.Span)
```

<a name="MockAgentOption"></a>
## type [MockAgentOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L114>)

MockAgentOption defines functional options for mock configuration.

```go
type MockAgentOption func(*AdvancedMockAgent)
```

<a name="WithAgentState"></a>
### func [WithAgentState](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L210>)

```go
func WithAgentState(state map[string]any) MockAgentOption
```

WithAgentState sets initial state for the mock agent.

<a name="WithExecutionDelay"></a>
### func [WithExecutionDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L189>)

```go
func WithExecutionDelay(delay time.Duration) MockAgentOption
```

WithExecutionDelay adds artificial delay to mock operations.

<a name="WithMockAgentError"></a>
### func [WithMockAgentError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L125>)

```go
func WithMockAgentError(op, code string, underlyingErr error) MockAgentOption
```

WithMockAgentError configures the mock to return an AgentError with the specified code.

<a name="WithMockError"></a>
### func [WithMockError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L117>)

```go
func WithMockError(shouldError bool, err error) MockAgentOption
```

WithMockError configures the mock to return errors.

<a name="WithMockErrorCode"></a>
### func [WithMockErrorCode](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L174>)

```go
func WithMockErrorCode(code string, underlyingErr error) MockAgentOption
```

WithMockErrorCode configures the mock to return an AgentError with a specific error code. This is a convenience function for common error codes.

<a name="WithMockExecutionError"></a>
### func [WithMockExecutionError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L133>)

```go
func WithMockExecutionError(agent string, step int, action string, underlyingErr error, retryable bool) MockAgentOption
```

WithMockExecutionError configures the mock to return an ExecutionError.

<a name="WithMockFactoryError"></a>
### func [WithMockFactoryError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L165>)

```go
func WithMockFactoryError(agentType string, config any, underlyingErr error) MockAgentOption
```

WithMockFactoryError configures the mock to return a FactoryError.

<a name="WithMockPlanningError"></a>
### func [WithMockPlanningError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L141>)

```go
func WithMockPlanningError(agent string, inputKeys []string, underlyingErr error) MockAgentOption
```

WithMockPlanningError configures the mock to return a PlanningError.

<a name="WithMockResponses"></a>
### func [WithMockResponses](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L182>)

```go
func WithMockResponses(responses []any) MockAgentOption
```

WithMockResponses sets predefined responses for the mock.

<a name="WithMockStreamingError"></a>
### func [WithMockStreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L149>)

```go
func WithMockStreamingError(op, agent, code string, underlyingErr error) MockAgentOption
```

WithMockStreamingError configures the mock to return a StreamingError.

<a name="WithMockTools"></a>
### func [WithMockTools](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L196>)

```go
func WithMockTools(agentTools []iface.Tool) MockAgentOption
```

WithMockTools sets the tools available to the agent.

<a name="WithMockValidationError"></a>
### func [WithMockValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L157>)

```go
func WithMockValidationError(field, message string) MockAgentOption
```

WithMockValidationError configures the mock to return a ValidationError.

<a name="WithPlanningSteps"></a>
### func [WithPlanningSteps](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L203>)

```go
func WithPlanningSteps(steps []string) MockAgentOption
```

WithPlanningSteps sets planning steps for the mock agent.

<a name="MockExecutor"></a>
## type [MockExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L746-L752>)

MockExecutor provides a mock executor for testing.

```go
type MockExecutor struct {
    // contains filtered or unexported fields
}
```

<a name="NewMockExecutor"></a>
### func [NewMockExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L754>)

```go
func NewMockExecutor() *MockExecutor
```

<a name="MockExecutor.Execute"></a>
### func (*MockExecutor) [Execute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L760>)

```go
func (e *MockExecutor) Execute(ctx context.Context, agent iface.CompositeAgent, input any) (any, error)
```

<a name="MockExecutor.GetCallCount"></a>
### func (*MockExecutor) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L796>)

```go
func (e *MockExecutor) GetCallCount() int
```

<a name="MockExecutor.GetExecutions"></a>
### func (*MockExecutor) [GetExecutions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L788>)

```go
func (e *MockExecutor) GetExecutions() []ExecutionRecord
```

<a name="MockExecutor.Reset"></a>
### func (*MockExecutor) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L802>)

```go
func (e *MockExecutor) Reset()
```

<a name="MockExecutor.WithError"></a>
### func (*MockExecutor) [WithError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L809>)

```go
func (e *MockExecutor) WithError(err error)
```

<a name="MockStreamingAgentOption"></a>
## type [MockStreamingAgentOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L999>)

MockStreamingAgentOption defines functional options for configuring streaming agent mocks.

```go
type MockStreamingAgentOption func(*AdvancedMockStreamingAgent)
```

<a name="WithChunkGenerator"></a>
### func [WithChunkGenerator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1024>)

```go
func WithChunkGenerator(generator func() iface.AgentStreamChunk) MockStreamingAgentOption
```

WithChunkGenerator sets a custom function to generate chunks dynamically.

<a name="WithMockStreamingChunks"></a>
### func [WithMockStreamingChunks](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1002>)

```go
func WithMockStreamingChunks(chunks []iface.AgentStreamChunk) MockStreamingAgentOption
```

WithMockStreamingChunks sets predefined chunks to stream.

<a name="WithStreamingDelay"></a>
### func [WithStreamingDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1009>)

```go
func WithStreamingDelay(delay time.Duration) MockStreamingAgentOption
```

WithStreamingDelay adds artificial delay between streaming chunks.

<a name="WithStreamingError"></a>
### func [WithStreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1016>)

```go
func WithStreamingError(shouldError bool, err error) MockStreamingAgentOption
```

WithStreamingError configures the mock to return an error during streaming.

<a name="MockStreamingExecutor"></a>
## type [MockStreamingExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1219-L1226>)

MockStreamingExecutor provides a mock executor with streaming capabilities.

```go
type MockStreamingExecutor struct {
    *MockExecutor
    // contains filtered or unexported fields
}
```

<a name="NewMockStreamingExecutor"></a>
### func [NewMockStreamingExecutor](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1249>)

```go
func NewMockStreamingExecutor(baseExecutor *MockExecutor) *MockStreamingExecutor
```

NewMockStreamingExecutor creates a new mock streaming executor.

<a name="MockStreamingExecutor.ExecuteStreamingPlan"></a>
### func (*MockStreamingExecutor) [ExecuteStreamingPlan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1258>)

```go
func (e *MockStreamingExecutor) ExecuteStreamingPlan(ctx context.Context, agent iface.Agent, plan []schema.Step) (<-chan ExecutionChunk, error)
```

ExecuteStreamingPlan implements the StreamingExecutor interface (to be defined in Phase 3.4).

<a name="MockTool"></a>
## type [MockTool](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L448-L452>)

MockTool provides a simple mock tool for testing.

```go
type MockTool struct {
    tools.BaseTool
    // contains filtered or unexported fields
}
```

<a name="NewMockTool"></a>
### func [NewMockTool](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L454>)

```go
func NewMockTool(name, description string) *MockTool
```

<a name="MockTool.Execute"></a>
### func (*MockTool) [Execute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L467>)

```go
func (t *MockTool) Execute(ctx context.Context, input any) (any, error)
```

<a name="MockTool.GetCallCount"></a>
### func (*MockTool) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L475>)

```go
func (t *MockTool) GetCallCount() int
```

<a name="Option"></a>
## type [Option](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/config.go#L40>)

Option represents a functional option for configuring agents.

```go
type Option func(*options)
```

<a name="PlanningError"></a>
## type [PlanningError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L167-L172>)

PlanningError represents errors that occur during the planning phase.

```go
type PlanningError struct {
    Err        error
    Agent      string
    Suggestion string
    InputKeys  []string
}
```

<a name="NewPlanningError"></a>
### func [NewPlanningError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L192>)

```go
func NewPlanningError(agent string, inputKeys []string, err error) *PlanningError
```

NewPlanningError creates a new PlanningError.

<a name="PlanningError.Error"></a>
### func (*PlanningError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L175>)

```go
func (e *PlanningError) Error() string
```

Error implements the error interface.

<a name="PlanningError.Unwrap"></a>
### func (*PlanningError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L187>)

```go
func (e *PlanningError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="PlanningError.WithSuggestion"></a>
### func (*PlanningError) [WithSuggestion](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L201>)

```go
func (e *PlanningError) WithSuggestion(suggestion string) *PlanningError
```

WithSuggestion adds a suggestion to help resolve the planning error.

<a name="SafetyChecker"></a>
## type [SafetyChecker](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/safety.go#L17-L21>)

SafetyChecker provides comprehensive safety validation for AI operations.

```go
type SafetyChecker struct {
    // contains filtered or unexported fields
}
```

<a name="NewSafetyChecker"></a>
### func [NewSafetyChecker](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/safety.go#L42>)

```go
func NewSafetyChecker() *SafetyChecker
```

NewSafetyChecker creates a new safety checker with default patterns.

<a name="SafetyChecker.CheckContent"></a>
### func (*SafetyChecker) [CheckContent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/safety.go#L49>)

```go
func (sc *SafetyChecker) CheckContent(ctx context.Context, content string) (SafetyResult, error)
```

CheckContent performs safety validation on the given content.

<a name="SafetyIssue"></a>
## type [SafetyIssue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/safety.go#L32-L36>)

SafetyIssue represents a specific safety concern found during validation.

```go
type SafetyIssue struct {
    Type        string `json:"type"`
    Description string `json:"description"`
    Severity    string `json:"severity"`
}
```

<a name="SafetyResult"></a>
## type [SafetyResult](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/safety.go#L24-L29>)

SafetyResult represents the result of a safety check.

```go
type SafetyResult struct {
    Safe      bool          `json:"safe"`
    RiskScore float64       `json:"risk_score"`
    Issues    []SafetyIssue `json:"issues,omitempty"`
    Timestamp time.Time     `json:"timestamp"`
}
```

<a name="StreamingError"></a>
## type [StreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L265-L271>)

StreamingError represents errors that occur during streaming operations.

```go
type StreamingError struct {
    Err    error
    Fields map[string]any
    Op     string
    Agent  string
    Code   string
}
```

<a name="NewStreamingError"></a>
### func [NewStreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L296>)

```go
func NewStreamingError(op, agent, code string, err error) *StreamingError
```

NewStreamingError creates a new StreamingError following Op/Err/Code pattern.

<a name="WrapStreamingError"></a>
### func [WrapStreamingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L307>)

```go
func WrapStreamingError(op, agent, code string, err error) *StreamingError
```

WrapStreamingError wraps an existing error as a StreamingError.

<a name="StreamingError.Error"></a>
### func (*StreamingError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L274>)

```go
func (e *StreamingError) Error() string
```

Error implements the error interface.

<a name="StreamingError.Unwrap"></a>
### func (*StreamingError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L282>)

```go
func (e *StreamingError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="StreamingError.WithField"></a>
### func (*StreamingError) [WithField](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L287>)

```go
func (e *StreamingError) WithField(key string, value any) *StreamingError
```

WithField adds a context field to the error.

<a name="ToolExecutionResult"></a>
## type [ToolExecutionResult](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/test_utils.go#L1240-L1246>)

ToolExecutionResult represents the result of tool execution.

```go
type ToolExecutionResult struct {
    Err      error
    Input    map[string]any
    Output   map[string]any
    ToolName string
    Duration time.Duration
}
```

<a name="ValidationError"></a>
## type [ValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L91-L94>)

ValidationError represents configuration validation errors.

```go
type ValidationError struct {
    Field   string
    Message string
}
```

<a name="NewValidationError"></a>
### func [NewValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L102>)

```go
func NewValidationError(field, message string) *ValidationError
```

NewValidationError creates a new ValidationError.

<a name="ValidationError.Error"></a>
### func (*ValidationError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/agents/errors.go#L97>)

```go
func (e *ValidationError) Error() string
```

Error implements the error interface.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
