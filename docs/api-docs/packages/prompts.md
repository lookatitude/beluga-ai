---
title: prompts
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# prompts

```go
import "github.com/lookatitude/beluga-ai/pkg/prompts"
```

Package prompts provides a wrapper to make OTEL metrics compatible with the prompts interface

Package prompts provides interfaces and implementations for creating and formatting prompts to be sent to language models. It follows the Beluga AI Framework design patterns with proper separation of concerns, dependency injection, observability, and error handling.

The package supports multiple prompt formats including string templates and chat message sequences, with built-in validation, caching, and metrics collection.

Package prompts provides advanced test utilities and comprehensive mocks for testing prompt implementations. This file contains utilities designed to support both unit tests and integration tests.

Test Coverage Exclusions:

1. Internal Package Implementation:

- File: internal/*.go (all internal implementation files)
- Reason: Internal packages are tested indirectly through public API
- Coverage Impact: Internal code is covered via integration tests
- Workaround: Test public interfaces (PromptManager, Template, PromptFormatter)

2. Interface Package:

- File: iface/*.go (interface definitions and error constructors)
- Reason: Interface definitions and error constructors are tested through implementations
- Coverage Impact: \~5% of code (interface definitions)
- Workaround: Test error creation functions in errors.go (which re-export iface functions)

3. Provider Implementations:

- File: providers/*/provider.go (all provider implementations)
- Reason: Provider implementations require actual API credentials and network access
- Coverage Impact: Provider-specific code is tested via integration tests with mocks
- Workaround: Use AdvancedMockTemplate for unit tests, integration tests for real providers

4. Error Recovery Paths in Check Method:

- File: prompts.go:185-199 (Check method error paths)
- Reason: Difficult to simulate template/adapter creation failures without modifying internal code
- Coverage Impact: \~2% of Check method (error paths)
- Workaround: Test Check success path, error paths tested via integration tests

5. Convenience Function Error Paths:

- File: prompts.go:210-236 (NewStringPromptTemplate, NewDefaultPromptAdapter, NewChatPromptAdapter error paths)
- Reason: Error paths occur when manager creation fails, which is hard to simulate
- Coverage Impact: \~1% of convenience functions (error paths)
- Workaround: Test success paths, error paths are edge cases

All exclusions are documented here to maintain transparency about coverage goals. Target: 100% coverage of testable code paths (excluding the above).

## Index

- [Constants](<#constants>)
- [`func AssertErrorType(t *testing.T, err error, expectedCode string)`](<#AssertErrorType>)
- [`func AssertPromptValue(t *testing.T, value iface.PromptValue, expectedStringPattern string, expectedMessageCount int)`](<#AssertPromptValue>)
- [`func AssertTemplateFormat(t *testing.T, result any, expectedPattern string)`](<#AssertTemplateFormat>)
- [`func AssertTemplateHealth(t *testing.T, health map[string]any, expectedStatus string)`](<#AssertTemplateHealth>)
- [`func AssertTemplateVariables(t *testing.T, variables []string, expectedCount int)`](<#AssertTemplateVariables>)
- [`func CreateTestInputs(variableNames []string) map[string]any`](<#CreateTestInputs>)
- [`func CreateTestPromptConfig() iface.Config`](<#CreateTestPromptConfig>)
- [`func CreateTestPromptMessages(count int) []schema.Message`](<#CreateTestPromptMessages>)
- [`func CreateTestTemplate(name string, variableCount int) string`](<#CreateTestTemplate>)
- [`func InitMetrics(meter metric.Meter, tracer trace.Tracer)`](<#InitMetrics>)
- [`func NewChatPromptAdapter(name, systemTemplate, userTemplate string, variables []string, opts ...Option) (iface.PromptFormatter, error)`](<#NewChatPromptAdapter>)
- [`func NewDefaultPromptAdapter(name, template string, variables []string, opts ...Option) (iface.PromptFormatter, error)`](<#NewDefaultPromptAdapter>)
- [`func NewStringPromptTemplate(name, template string, opts ...Option) (iface.Template, error)`](<#NewStringPromptTemplate>)
- [`func RunLoadTest(t *testing.T, template *AdvancedMockTemplate, numOperations, concurrency int)`](<#RunLoadTest>)
- [type AdvancedMockPromptValue](<#AdvancedMockPromptValue>)
  - [`func NewAdvancedMockPromptValue(str string, messages []schema.Message) *AdvancedMockPromptValue`](<#NewAdvancedMockPromptValue>)
  - [`func (p *AdvancedMockPromptValue) ToMessages() []schema.Message`](<#AdvancedMockPromptValue.ToMessages>)
  - [`func (p *AdvancedMockPromptValue) ToString() string`](<#AdvancedMockPromptValue.ToString>)
- [type AdvancedMockTemplate](<#AdvancedMockTemplate>)
  - [`func NewAdvancedMockTemplate(name, templateStr string, options ...MockTemplateOption) *AdvancedMockTemplate`](<#NewAdvancedMockTemplate>)
  - [`func (t *AdvancedMockTemplate) CheckHealth() map[string]any`](<#AdvancedMockTemplate.CheckHealth>)
  - [`func (t *AdvancedMockTemplate) Format(ctx context.Context, inputs map[string]any) (any, error)`](<#AdvancedMockTemplate.Format>)
  - [`func (t *AdvancedMockTemplate) GetCallCount() int`](<#AdvancedMockTemplate.GetCallCount>)
  - [`func (t *AdvancedMockTemplate) GetInputVariables() []string`](<#AdvancedMockTemplate.GetInputVariables>)
  - [`func (t *AdvancedMockTemplate) GetTemplate() string`](<#AdvancedMockTemplate.GetTemplate>)
  - [`func (t *AdvancedMockTemplate) Name() string`](<#AdvancedMockTemplate.Name>)
  - [`func (t *AdvancedMockTemplate) Validate() error`](<#AdvancedMockTemplate.Validate>)
- [type AdvancedMockTemplateManager](<#AdvancedMockTemplateManager>)
  - [`func NewAdvancedMockTemplateManager() *AdvancedMockTemplateManager`](<#NewAdvancedMockTemplateManager>)
  - [`func (m *AdvancedMockTemplateManager) CreateTemplate(name, templateStr string) (iface.Template, error)`](<#AdvancedMockTemplateManager.CreateTemplate>)
  - [`func (m *AdvancedMockTemplateManager) DeleteTemplate(name string) error`](<#AdvancedMockTemplateManager.DeleteTemplate>)
  - [`func (m *AdvancedMockTemplateManager) GetTemplate(name string) (iface.Template, bool)`](<#AdvancedMockTemplateManager.GetTemplate>)
  - [`func (m *AdvancedMockTemplateManager) GetTemplateCount() int`](<#AdvancedMockTemplateManager.GetTemplateCount>)
  - [`func (m *AdvancedMockTemplateManager) ListTemplates() []string`](<#AdvancedMockTemplateManager.ListTemplates>)
- [type AdvancedMockcomponent](<#AdvancedMockcomponent>)
  - [`func NewAdvancedMockcomponent() *AdvancedMockcomponent`](<#NewAdvancedMockcomponent>)
- [type BenchmarkHelper](<#BenchmarkHelper>)
  - [`func NewBenchmarkHelper(template iface.Template, inputCount int) *BenchmarkHelper`](<#NewBenchmarkHelper>)
  - [`func (b *BenchmarkHelper) BenchmarkFormatting(iterations int) (time.Duration, error)`](<#BenchmarkHelper.BenchmarkFormatting>)
  - [`func (b *BenchmarkHelper) BenchmarkValidation(iterations int) (time.Duration, error)`](<#BenchmarkHelper.BenchmarkValidation>)
- [type ConcurrentTestRunner](<#ConcurrentTestRunner>)
  - [`func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner`](<#NewConcurrentTestRunner>)
  - [`func (r *ConcurrentTestRunner) Run() error`](<#ConcurrentTestRunner.Run>)
- [type Config](<#Config>)
  - [`func DefaultConfig() *Config`](<#DefaultConfig>)
- [type IntegrationTestHelper](<#IntegrationTestHelper>)
  - [`func NewIntegrationTestHelper() *IntegrationTestHelper`](<#NewIntegrationTestHelper>)
  - [`func (h *IntegrationTestHelper) AddPromptValue(name string, value *AdvancedMockPromptValue)`](<#IntegrationTestHelper.AddPromptValue>)
  - [`func (h *IntegrationTestHelper) AddTemplate(name string, template *AdvancedMockTemplate)`](<#IntegrationTestHelper.AddTemplate>)
  - [`func (h *IntegrationTestHelper) GetPromptValue(name string) *AdvancedMockPromptValue`](<#IntegrationTestHelper.GetPromptValue>)
  - [`func (h *IntegrationTestHelper) GetTemplate(name string) *AdvancedMockTemplate`](<#IntegrationTestHelper.GetTemplate>)
  - [`func (h *IntegrationTestHelper) GetTemplateManager() *AdvancedMockTemplateManager`](<#IntegrationTestHelper.GetTemplateManager>)
  - [`func (h *IntegrationTestHelper) Reset()`](<#IntegrationTestHelper.Reset>)
- [type Metrics](<#Metrics>)
  - [`func GetMetrics() *Metrics`](<#GetMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) RecordAdapterError(ctx context.Context, adapterType, errorType string)`](<#Metrics.RecordAdapterError>)
  - [`func (m *Metrics) RecordAdapterRequest(ctx context.Context, adapterType string, success bool)`](<#Metrics.RecordAdapterRequest>)
  - [`func (m *Metrics) RecordCacheHit(ctx context.Context, cacheType string)`](<#Metrics.RecordCacheHit>)
  - [`func (m *Metrics) RecordCacheMiss(ctx context.Context, cacheType string)`](<#Metrics.RecordCacheMiss>)
  - [`func (m *Metrics) RecordCacheSize(ctx context.Context, size int64, cacheType string)`](<#Metrics.RecordCacheSize>)
  - [`func (m *Metrics) RecordFormattingError(ctx context.Context, adapterType, errorType string)`](<#Metrics.RecordFormattingError>)
  - [`func (m *Metrics) RecordFormattingRequest(ctx context.Context, adapterType string, duration time.Duration, success bool)`](<#Metrics.RecordFormattingRequest>)
  - [`func (m *Metrics) RecordTemplateCreated(ctx context.Context, templateType string)`](<#Metrics.RecordTemplateCreated>)
  - [`func (m *Metrics) RecordTemplateError(ctx context.Context, templateName, errorType string)`](<#Metrics.RecordTemplateError>)
  - [`func (m *Metrics) RecordTemplateExecuted(ctx context.Context, templateName string, duration time.Duration, success bool)`](<#Metrics.RecordTemplateExecuted>)
  - [`func (m *Metrics) RecordValidationError(ctx context.Context, errorType string)`](<#Metrics.RecordValidationError>)
  - [`func (m *Metrics) RecordValidationRequest(ctx context.Context, validationType string, success bool)`](<#Metrics.RecordValidationRequest>)
  - [`func (m *Metrics) StartFormattingSpan(ctx context.Context, adapterType, operation string) (context.Context, trace.Span)`](<#Metrics.StartFormattingSpan>)
  - [`func (m *Metrics) StartTemplateSpan(ctx context.Context, templateName, operation string) (context.Context, trace.Span)`](<#Metrics.StartTemplateSpan>)
- [type MetricsWrapper](<#MetricsWrapper>)
  - [`func (m *MetricsWrapper) RecordAdapterError(adapterType, errorType string)`](<#MetricsWrapper.RecordAdapterError>)
  - [`func (m *MetricsWrapper) RecordAdapterRequest(adapterType string)`](<#MetricsWrapper.RecordAdapterRequest>)
  - [`func (m *MetricsWrapper) RecordCacheHit()`](<#MetricsWrapper.RecordCacheHit>)
  - [`func (m *MetricsWrapper) RecordCacheMiss()`](<#MetricsWrapper.RecordCacheMiss>)
  - [`func (m *MetricsWrapper) RecordCacheSize(size int64)`](<#MetricsWrapper.RecordCacheSize>)
  - [`func (m *MetricsWrapper) RecordFormattingError(adapterType, errorType string)`](<#MetricsWrapper.RecordFormattingError>)
  - [`func (m *MetricsWrapper) RecordFormattingRequest(adapterType string, duration float64)`](<#MetricsWrapper.RecordFormattingRequest>)
  - [`func (m *MetricsWrapper) RecordTemplateCreated(templateType string)`](<#MetricsWrapper.RecordTemplateCreated>)
  - [`func (m *MetricsWrapper) RecordTemplateError(templateName, errorType string)`](<#MetricsWrapper.RecordTemplateError>)
  - [`func (m *MetricsWrapper) RecordTemplateExecuted(templateName string, duration float64)`](<#MetricsWrapper.RecordTemplateExecuted>)
  - [`func (m *MetricsWrapper) RecordValidationError(errorType string)`](<#MetricsWrapper.RecordValidationError>)
  - [`func (m *MetricsWrapper) RecordValidationRequest()`](<#MetricsWrapper.RecordValidationRequest>)
- [type MockTemplateOption](<#MockTemplateOption>)
  - [`func WithMockDelay(delay time.Duration) MockTemplateOption`](<#WithMockDelay>)
  - [`func WithMockError(shouldError bool, err error) MockTemplateOption`](<#WithMockError>)
  - [`func WithMockResults(results []any) MockTemplateOption`](<#WithMockResults>)
  - [`func WithMockVariables(variables []string) MockTemplateOption`](<#WithMockVariables>)
  - [`func WithValidationRules(rules map[string]string) MockTemplateOption`](<#WithValidationRules>)
- [type Option](<#Option>)
  - [`func WithConfig(config *Config) Option`](<#WithConfig>)
  - [`func WithHealthChecker(checker iface.HealthChecker) Option`](<#WithHealthChecker>)
  - [`func WithLogger(logger iface.Logger) Option`](<#WithLogger>)
  - [`func WithMetrics(metrics iface.Metrics) Option`](<#WithMetrics>)
  - [`func WithTemplateEngine(engine iface.TemplateEngine) Option`](<#WithTemplateEngine>)
  - [`func WithTracer(tracer iface.Tracer) Option`](<#WithTracer>)
  - [`func WithValidator(validator iface.VariableValidator) Option`](<#WithValidator>)
- [type PromptError](<#PromptError>)
  - [`func NewAdapterError(op, adapterType string, err error) *PromptError`](<#NewAdapterError>)
  - [`func NewCacheError(op, details string, err error) *PromptError`](<#NewCacheError>)
  - [`func NewConfigurationError(op, details string, err error) *PromptError`](<#NewConfigurationError>)
  - [`func NewTemplateExecuteError(op, templateName string, err error) *PromptError`](<#NewTemplateExecuteError>)
  - [`func NewTemplateParseError(op, templateName string, err error) *PromptError`](<#NewTemplateParseError>)
  - [`func NewTimeoutError(op, timeout string) *PromptError`](<#NewTimeoutError>)
  - [`func NewValidationError(op, details string, err error) *PromptError`](<#NewValidationError>)
  - [`func NewVariableInvalidError(op, variableName, expectedType, actualType string) *PromptError`](<#NewVariableInvalidError>)
  - [`func NewVariableMissingError(op, variableName, templateName string) *PromptError`](<#NewVariableMissingError>)
- [type PromptManager](<#PromptManager>)
  - [`func NewPromptManager(opts ...Option) (*PromptManager, error)`](<#NewPromptManager>)
  - [`func (pm *PromptManager) Check(ctx context.Context) error`](<#PromptManager.Check>)
  - [`func (pm *PromptManager) GetConfig() *Config`](<#PromptManager.GetConfig>)
  - [`func (pm *PromptManager) GetMetrics() iface.Metrics`](<#PromptManager.GetMetrics>)
  - [`func (pm *PromptManager) HealthCheck(ctx context.Context) error`](<#PromptManager.HealthCheck>)
  - [`func (pm *PromptManager) NewChatAdapter(name, systemTemplate, userTemplate string, variables []string) (iface.PromptFormatter, error)`](<#PromptManager.NewChatAdapter>)
  - [`func (pm *PromptManager) NewDefaultAdapter(name, template string, variables []string) (iface.PromptFormatter, error)`](<#PromptManager.NewDefaultAdapter>)
  - [`func (pm *PromptManager) NewStringTemplate(name, template string) (iface.Template, error)`](<#PromptManager.NewStringTemplate>)
- [type PromptScenarioRunner](<#PromptScenarioRunner>)
  - [`func NewPromptScenarioRunner(template iface.Template, manager iface.TemplateManager) *PromptScenarioRunner`](<#NewPromptScenarioRunner>)
  - [`func (r *PromptScenarioRunner) RunTemplateFormattingScenario(ctx context.Context, inputSets []map[string]any) ([]any, error)`](<#PromptScenarioRunner.RunTemplateFormattingScenario>)
  - [`func (r *PromptScenarioRunner) RunTemplateManagementScenario(ctx context.Context, templateNames, templateStrings []string) error`](<#PromptScenarioRunner.RunTemplateManagementScenario>)
- [type PromptsMockcomponent](<#PromptsMockcomponent>)
  - [`func NewPromptsMockcomponent() *PromptsMockcomponent`](<#NewPromptsMockcomponent>)
- [type TemplateQualityTester](<#TemplateQualityTester>)
  - [`func NewTemplateQualityTester(template iface.Template) *TemplateQualityTester`](<#NewTemplateQualityTester>)
  - [`func (q *TemplateQualityTester) TestConsistency(ctx context.Context, inputs map[string]any, iterations int) (bool, error)`](<#TemplateQualityTester.TestConsistency>)
  - [`func (q *TemplateQualityTester) TestVariableHandling(ctx context.Context, testCases []VariableTestCase) error`](<#TemplateQualityTester.TestVariableHandling>)
- [type VariableTestCase](<#VariableTestCase>)

## Constants

<a name="ErrCodeTemplateParse"></a>Error codes for the prompts package.

```go
const (
    ErrCodeTemplateParse      = iface.ErrCodeTemplateParse
    ErrCodeTemplateExecute    = iface.ErrCodeTemplateExecute
    ErrCodeVariableMissing    = iface.ErrCodeVariableMissing
    ErrCodeVariableInvalid    = iface.ErrCodeVariableInvalid
    ErrCodeValidationFailed   = iface.ErrCodeValidationFailed
    ErrCodeCacheError         = iface.ErrCodeCacheError
    ErrCodeAdapterError       = iface.ErrCodeAdapterError
    ErrCodeConfigurationError = iface.ErrCodeConfigurationError
    ErrCodeTimeout            = iface.ErrCodeTimeout
)
```

<a name="AssertErrorType"></a>
## func [AssertErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L460>)

```go
func AssertErrorType(t *testing.T, err error, expectedCode string)
```

AssertErrorType validates error types and codes.

<a name="AssertPromptValue"></a>
## func [AssertPromptValue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L418>)

```go
func AssertPromptValue(t *testing.T, value iface.PromptValue, expectedStringPattern string, expectedMessageCount int)
```

AssertPromptValue validates prompt value results.

<a name="AssertTemplateFormat"></a>
## func [AssertTemplateFormat](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L410>)

```go
func AssertTemplateFormat(t *testing.T, result any, expectedPattern string)
```

AssertTemplateFormat validates template formatting results.

<a name="AssertTemplateHealth"></a>
## func [AssertTemplateHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L451>)

```go
func AssertTemplateHealth(t *testing.T, health map[string]any, expectedStatus string)
```

AssertTemplateHealth validates template health check results.

<a name="AssertTemplateVariables"></a>
## func [AssertTemplateVariables](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L441>)

```go
func AssertTemplateVariables(t *testing.T, variables []string, expectedCount int)
```

AssertTemplateVariables validates template input variables.

<a name="CreateTestInputs"></a>
## func [CreateTestInputs](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L335>)

```go
func CreateTestInputs(variableNames []string) map[string]any
```

CreateTestInputs creates test input variables for templates.

<a name="CreateTestPromptConfig"></a>
## func [CreateTestPromptConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L351>)

```go
func CreateTestPromptConfig() iface.Config
```

CreateTestPromptConfig creates a test prompt configuration.

<a name="CreateTestPromptMessages"></a>
## func [CreateTestPromptMessages](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L367>)

```go
func CreateTestPromptMessages(count int) []schema.Message
```

CreateTestMessages creates test chat messages for prompt value testing.

<a name="CreateTestTemplate"></a>
## func [CreateTestTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L321>)

```go
func CreateTestTemplate(name string, variableCount int) string
```

CreateTestTemplate creates a test template string.

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L413>)

```go
func InitMetrics(meter metric.Meter, tracer trace.Tracer)
```

InitMetrics initializes the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="NewChatPromptAdapter"></a>
## func [NewChatPromptAdapter](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L230>)

```go
func NewChatPromptAdapter(name, systemTemplate, userTemplate string, variables []string, opts ...Option) (iface.PromptFormatter, error)
```

NewChatPromptAdapter creates a chat prompt adapter with default configuration. This is a convenience function for simple use cases.

<a name="NewDefaultPromptAdapter"></a>
## func [NewDefaultPromptAdapter](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L220>)

```go
func NewDefaultPromptAdapter(name, template string, variables []string, opts ...Option) (iface.PromptFormatter, error)
```

NewDefaultPromptAdapter creates a default prompt adapter with default configuration. This is a convenience function for simple use cases.

<a name="NewStringPromptTemplate"></a>
## func [NewStringPromptTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L210>)

```go
func NewStringPromptTemplate(name, template string, opts ...Option) (iface.Template, error)
```

NewStringPromptTemplate creates a string prompt template with default configuration. This is a convenience function for simple use cases.

<a name="RunLoadTest"></a>
## func [RunLoadTest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L531>)

```go
func RunLoadTest(t *testing.T, template *AdvancedMockTemplate, numOperations, concurrency int)
```

RunLoadTest executes a load test scenario on templates.

<a name="AdvancedMockPromptValue"></a>
## type [AdvancedMockPromptValue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L241-L244>)

AdvancedMockPromptValue provides a mock implementation of PromptValue.

```go
type AdvancedMockPromptValue struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockPromptValue"></a>
### func [NewAdvancedMockPromptValue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L246>)

```go
func NewAdvancedMockPromptValue(str string, messages []schema.Message) *AdvancedMockPromptValue
```

<a name="AdvancedMockPromptValue.ToMessages"></a>
### func (*AdvancedMockPromptValue) [ToMessages](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L257>)

```go
func (p *AdvancedMockPromptValue) ToMessages() []schema.Message
```

<a name="AdvancedMockPromptValue.ToString"></a>
### func (*AdvancedMockPromptValue) [ToString](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L253>)

```go
func (p *AdvancedMockPromptValue) ToString() string
```

<a name="AdvancedMockTemplate"></a>
## type [AdvancedMockTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L58-L74>)

AdvancedMockTemplate provides a comprehensive mock implementation for testing.

```go
type AdvancedMockTemplate struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockTemplate"></a>
### func [NewAdvancedMockTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L77>)

```go
func NewAdvancedMockTemplate(name, templateStr string, options ...MockTemplateOption) *AdvancedMockTemplate
```

NewAdvancedMockTemplate creates a new advanced mock with configurable behavior.

<a name="AdvancedMockTemplate.CheckHealth"></a>
### func (*AdvancedMockTemplate) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L227>)

```go
func (t *AdvancedMockTemplate) CheckHealth() map[string]any
```

<a name="AdvancedMockTemplate.Format"></a>
### func (*AdvancedMockTemplate) [Format](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L146>)

```go
func (t *AdvancedMockTemplate) Format(ctx context.Context, inputs map[string]any) (any, error)
```

Mock implementation methods for PromptFormatter interface.

<a name="AdvancedMockTemplate.GetCallCount"></a>
### func (*AdvancedMockTemplate) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L217>)

```go
func (t *AdvancedMockTemplate) GetCallCount() int
```

Additional helper methods for testing.

<a name="AdvancedMockTemplate.GetInputVariables"></a>
### func (*AdvancedMockTemplate) [GetInputVariables](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L184>)

```go
func (t *AdvancedMockTemplate) GetInputVariables() []string
```

<a name="AdvancedMockTemplate.GetTemplate"></a>
### func (*AdvancedMockTemplate) [GetTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L223>)

```go
func (t *AdvancedMockTemplate) GetTemplate() string
```

<a name="AdvancedMockTemplate.Name"></a>
### func (*AdvancedMockTemplate) [Name](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L193>)

```go
func (t *AdvancedMockTemplate) Name() string
```

Mock implementation methods for Template interface.

<a name="AdvancedMockTemplate.Validate"></a>
### func (*AdvancedMockTemplate) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L197>)

```go
func (t *AdvancedMockTemplate) Validate() error
```

<a name="AdvancedMockTemplateManager"></a>
## type [AdvancedMockTemplateManager](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L264-L267>)

AdvancedMockTemplateManager provides a mock template manager.

```go
type AdvancedMockTemplateManager struct {
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockTemplateManager"></a>
### func [NewAdvancedMockTemplateManager](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L269>)

```go
func NewAdvancedMockTemplateManager() *AdvancedMockTemplateManager
```

<a name="AdvancedMockTemplateManager.CreateTemplate"></a>
### func (*AdvancedMockTemplateManager) [CreateTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L275>)

```go
func (m *AdvancedMockTemplateManager) CreateTemplate(name, templateStr string) (iface.Template, error)
```

<a name="AdvancedMockTemplateManager.DeleteTemplate"></a>
### func (*AdvancedMockTemplateManager) [DeleteTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L304>)

```go
func (m *AdvancedMockTemplateManager) DeleteTemplate(name string) error
```

<a name="AdvancedMockTemplateManager.GetTemplate"></a>
### func (*AdvancedMockTemplateManager) [GetTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L285>)

```go
func (m *AdvancedMockTemplateManager) GetTemplate(name string) (iface.Template, bool)
```

<a name="AdvancedMockTemplateManager.GetTemplateCount"></a>
### func (*AdvancedMockTemplateManager) [GetTemplateCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L312>)

```go
func (m *AdvancedMockTemplateManager) GetTemplateCount() int
```

<a name="AdvancedMockTemplateManager.ListTemplates"></a>
### func (*AdvancedMockTemplateManager) [ListTemplates](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L293>)

```go
func (m *AdvancedMockTemplateManager) ListTemplates() []string
```

<a name="AdvancedMockcomponent"></a>
## type [AdvancedMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/advanced_mock.go#L8-L10>)

AdvancedMockcomponent is a mock implementation of Interface.

```go
type AdvancedMockcomponent struct {
    mock.Mock
}
```

<a name="NewAdvancedMockcomponent"></a>
### func [NewAdvancedMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/advanced_mock.go#L13>)

```go
func NewAdvancedMockcomponent() *AdvancedMockcomponent
```

NewAdvancedMockcomponent creates a new AdvancedMockcomponent.

<a name="BenchmarkHelper"></a>
## type [BenchmarkHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L695-L698>)

BenchmarkHelper provides benchmarking utilities for prompts.

```go
type BenchmarkHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewBenchmarkHelper"></a>
### func [NewBenchmarkHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L700>)

```go
func NewBenchmarkHelper(template iface.Template, inputCount int) *BenchmarkHelper
```

<a name="BenchmarkHelper.BenchmarkFormatting"></a>
### func (*BenchmarkHelper) [BenchmarkFormatting](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L716>)

```go
func (b *BenchmarkHelper) BenchmarkFormatting(iterations int) (time.Duration, error)
```

<a name="BenchmarkHelper.BenchmarkValidation"></a>
### func (*BenchmarkHelper) [BenchmarkValidation](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L731>)

```go
func (b *BenchmarkHelper) BenchmarkValidation(iterations int) (time.Duration, error)
```

<a name="ConcurrentTestRunner"></a>
## type [ConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L472-L476>)

ConcurrentTestRunner runs prompt tests concurrently for performance testing.

```go
type ConcurrentTestRunner struct {
    NumGoroutines int
    TestDuration  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewConcurrentTestRunner"></a>
### func [NewConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L478>)

```go
func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner
```

<a name="ConcurrentTestRunner.Run"></a>
### func (*ConcurrentTestRunner) [Run](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L486>)

```go
func (r *ConcurrentTestRunner) Run() error
```

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L10>)

Config is an alias for iface.Config.

```go
type Config = iface.Config
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L68>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration.

<a name="IntegrationTestHelper"></a>
## type [IntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L577-L581>)

IntegrationTestHelper provides utilities for integration testing.

```go
type IntegrationTestHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewIntegrationTestHelper"></a>
### func [NewIntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L583>)

```go
func NewIntegrationTestHelper() *IntegrationTestHelper
```

<a name="IntegrationTestHelper.AddPromptValue"></a>
### func (*IntegrationTestHelper) [AddPromptValue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L595>)

```go
func (h *IntegrationTestHelper) AddPromptValue(name string, value *AdvancedMockPromptValue)
```

<a name="IntegrationTestHelper.AddTemplate"></a>
### func (*IntegrationTestHelper) [AddTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L591>)

```go
func (h *IntegrationTestHelper) AddTemplate(name string, template *AdvancedMockTemplate)
```

<a name="IntegrationTestHelper.GetPromptValue"></a>
### func (*IntegrationTestHelper) [GetPromptValue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L607>)

```go
func (h *IntegrationTestHelper) GetPromptValue(name string) *AdvancedMockPromptValue
```

<a name="IntegrationTestHelper.GetTemplate"></a>
### func (*IntegrationTestHelper) [GetTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L599>)

```go
func (h *IntegrationTestHelper) GetTemplate(name string) *AdvancedMockTemplate
```

<a name="IntegrationTestHelper.GetTemplateManager"></a>
### func (*IntegrationTestHelper) [GetTemplateManager](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L603>)

```go
func (h *IntegrationTestHelper) GetTemplateManager() *AdvancedMockTemplateManager
```

<a name="IntegrationTestHelper.Reset"></a>
### func (*IntegrationTestHelper) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L611>)

```go
func (h *IntegrationTestHelper) Reset()
```

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L15-L42>)

Metrics provides metrics collection for the prompts package.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L430>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L45>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)
```

NewMetrics creates a new metrics collector with OTEL instrumentation.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L436>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.RecordAdapterError"></a>
### func (*Metrics) [RecordAdapterError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L364>)

```go
func (m *Metrics) RecordAdapterError(ctx context.Context, adapterType, errorType string)
```

RecordAdapterError records an adapter error.

<a name="Metrics.RecordAdapterRequest"></a>
### func (*Metrics) [RecordAdapterRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L344>)

```go
func (m *Metrics) RecordAdapterRequest(ctx context.Context, adapterType string, success bool)
```

RecordAdapterRequest records an adapter request.

<a name="Metrics.RecordCacheHit"></a>
### func (*Metrics) [RecordCacheHit](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L305>)

```go
func (m *Metrics) RecordCacheHit(ctx context.Context, cacheType string)
```

RecordCacheHit records a cache hit.

<a name="Metrics.RecordCacheMiss"></a>
### func (*Metrics) [RecordCacheMiss](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L318>)

```go
func (m *Metrics) RecordCacheMiss(ctx context.Context, cacheType string)
```

RecordCacheMiss records a cache miss.

<a name="Metrics.RecordCacheSize"></a>
### func (*Metrics) [RecordCacheSize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L331>)

```go
func (m *Metrics) RecordCacheSize(ctx context.Context, size int64, cacheType string)
```

RecordCacheSize records the current cache size.

<a name="Metrics.RecordFormattingError"></a>
### func (*Metrics) [RecordFormattingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L258>)

```go
func (m *Metrics) RecordFormattingError(ctx context.Context, adapterType, errorType string)
```

RecordFormattingError records a formatting error.

<a name="Metrics.RecordFormattingRequest"></a>
### func (*Metrics) [RecordFormattingRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L235>)

```go
func (m *Metrics) RecordFormattingRequest(ctx context.Context, adapterType string, duration time.Duration, success bool)
```

RecordFormattingRequest records a formatting request.

<a name="Metrics.RecordTemplateCreated"></a>
### func (*Metrics) [RecordTemplateCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L185>)

```go
func (m *Metrics) RecordTemplateCreated(ctx context.Context, templateType string)
```

RecordTemplateCreated records a template creation.

<a name="Metrics.RecordTemplateError"></a>
### func (*Metrics) [RecordTemplateError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L221>)

```go
func (m *Metrics) RecordTemplateError(ctx context.Context, templateName, errorType string)
```

RecordTemplateError records a template execution error.

<a name="Metrics.RecordTemplateExecuted"></a>
### func (*Metrics) [RecordTemplateExecuted](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L198>)

```go
func (m *Metrics) RecordTemplateExecuted(ctx context.Context, templateName string, duration time.Duration, success bool)
```

RecordTemplateExecuted records a template execution.

<a name="Metrics.RecordValidationError"></a>
### func (*Metrics) [RecordValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L292>)

```go
func (m *Metrics) RecordValidationError(ctx context.Context, errorType string)
```

RecordValidationError records a validation error.

<a name="Metrics.RecordValidationRequest"></a>
### func (*Metrics) [RecordValidationRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L272>)

```go
func (m *Metrics) RecordValidationRequest(ctx context.Context, validationType string, success bool)
```

RecordValidationRequest records a validation request.

<a name="Metrics.StartFormattingSpan"></a>
### func (*Metrics) [StartFormattingSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L392>)

```go
func (m *Metrics) StartFormattingSpan(ctx context.Context, adapterType, operation string) (context.Context, trace.Span)
```

StartFormattingSpan starts a new span for formatting operations.

<a name="Metrics.StartTemplateSpan"></a>
### func (*Metrics) [StartTemplateSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics.go#L378>)

```go
func (m *Metrics) StartTemplateSpan(ctx context.Context, templateName, operation string) (context.Context, trace.Span)
```

StartTemplateSpan starts a new span for template operations.

<a name="MetricsWrapper"></a>
## type [MetricsWrapper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L12-L14>)

MetricsWrapper wraps the OTEL Metrics to implement the iface.Metrics interface.

```go
type MetricsWrapper struct {
    // contains filtered or unexported fields
}
```

<a name="MetricsWrapper.RecordAdapterError"></a>
### func (*MetricsWrapper) [RecordAdapterError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L89>)

```go
func (m *MetricsWrapper) RecordAdapterError(adapterType, errorType string)
```

<a name="MetricsWrapper.RecordAdapterRequest"></a>
### func (*MetricsWrapper) [RecordAdapterRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L83>)

```go
func (m *MetricsWrapper) RecordAdapterRequest(adapterType string)
```

Adapter metrics implementation.

<a name="MetricsWrapper.RecordCacheHit"></a>
### func (*MetricsWrapper) [RecordCacheHit](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L64>)

```go
func (m *MetricsWrapper) RecordCacheHit()
```

Cache metrics implementation.

<a name="MetricsWrapper.RecordCacheMiss"></a>
### func (*MetricsWrapper) [RecordCacheMiss](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L70>)

```go
func (m *MetricsWrapper) RecordCacheMiss()
```

<a name="MetricsWrapper.RecordCacheSize"></a>
### func (*MetricsWrapper) [RecordCacheSize](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L76>)

```go
func (m *MetricsWrapper) RecordCacheSize(size int64)
```

<a name="MetricsWrapper.RecordFormattingError"></a>
### func (*MetricsWrapper) [RecordFormattingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L44>)

```go
func (m *MetricsWrapper) RecordFormattingError(adapterType, errorType string)
```

<a name="MetricsWrapper.RecordFormattingRequest"></a>
### func (*MetricsWrapper) [RecordFormattingRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L37>)

```go
func (m *MetricsWrapper) RecordFormattingRequest(adapterType string, duration float64)
```

Formatting metrics implementation.

<a name="MetricsWrapper.RecordTemplateCreated"></a>
### func (*MetricsWrapper) [RecordTemplateCreated](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L17>)

```go
func (m *MetricsWrapper) RecordTemplateCreated(templateType string)
```

Template metrics implementation.

<a name="MetricsWrapper.RecordTemplateError"></a>
### func (*MetricsWrapper) [RecordTemplateError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L30>)

```go
func (m *MetricsWrapper) RecordTemplateError(templateName, errorType string)
```

<a name="MetricsWrapper.RecordTemplateExecuted"></a>
### func (*MetricsWrapper) [RecordTemplateExecuted](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L23>)

```go
func (m *MetricsWrapper) RecordTemplateExecuted(templateName string, duration float64)
```

<a name="MetricsWrapper.RecordValidationError"></a>
### func (*MetricsWrapper) [RecordValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L57>)

```go
func (m *MetricsWrapper) RecordValidationError(errorType string)
```

<a name="MetricsWrapper.RecordValidationRequest"></a>
### func (*MetricsWrapper) [RecordValidationRequest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/metrics_wrapper.go#L51>)

```go
func (m *MetricsWrapper) RecordValidationRequest()
```

Variable validation metrics implementation.

<a name="MockTemplateOption"></a>
## type [MockTemplateOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L102>)

MockTemplateOption defines functional options for mock configuration.

```go
type MockTemplateOption func(*AdvancedMockTemplate)
```

<a name="WithMockDelay"></a>
### func [WithMockDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L129>)

```go
func WithMockDelay(delay time.Duration) MockTemplateOption
```

WithMockDelay adds artificial delay to mock operations.

<a name="WithMockError"></a>
### func [WithMockError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L105>)

```go
func WithMockError(shouldError bool, err error) MockTemplateOption
```

WithMockError configures the mock to return errors.

<a name="WithMockResults"></a>
### func [WithMockResults](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L121>)

```go
func WithMockResults(results []any) MockTemplateOption
```

WithMockResults sets predefined format results.

<a name="WithMockVariables"></a>
### func [WithMockVariables](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L113>)

```go
func WithMockVariables(variables []string) MockTemplateOption
```

WithMockVariables sets the input variables for the template.

<a name="WithValidationRules"></a>
### func [WithValidationRules](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L136>)

```go
func WithValidationRules(rules map[string]string) MockTemplateOption
```

WithValidationRules sets validation rules for template variables.

<a name="Option"></a>
## type [Option](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L13>)

Option represents a functional option for configuring prompt components.

```go
type Option = iface.Option
```

<a name="WithConfig"></a>
### func [WithConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L19>)

```go
func WithConfig(config *Config) Option
```

WithConfig sets the configuration.

<a name="WithHealthChecker"></a>
### func [WithHealthChecker](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L61>)

```go
func WithHealthChecker(checker iface.HealthChecker) Option
```

WithHealthChecker sets the health checker.

<a name="WithLogger"></a>
### func [WithLogger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L54>)

```go
func WithLogger(logger iface.Logger) Option
```

WithLogger sets the logger.

<a name="WithMetrics"></a>
### func [WithMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L40>)

```go
func WithMetrics(metrics iface.Metrics) Option
```

WithMetrics sets the metrics collector.

<a name="WithTemplateEngine"></a>
### func [WithTemplateEngine](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L33>)

```go
func WithTemplateEngine(engine iface.TemplateEngine) Option
```

WithTemplateEngine sets a custom template engine.

<a name="WithTracer"></a>
### func [WithTracer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L47>)

```go
func WithTracer(tracer iface.Tracer) Option
```

WithTracer sets the tracer.

<a name="WithValidator"></a>
### func [WithValidator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/config.go#L26>)

```go
func WithValidator(validator iface.VariableValidator) Option
```

WithValidator sets a custom variable validator.

<a name="PromptError"></a>
## type [PromptError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L21>)

PromptError represents a custom error type for the prompts package.

```go
type PromptError = iface.PromptError
```

<a name="NewAdapterError"></a>
### func [NewAdapterError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L54>)

```go
func NewAdapterError(op, adapterType string, err error) *PromptError
```

NewAdapterError creates a new adapter error.

<a name="NewCacheError"></a>
### func [NewCacheError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L49>)

```go
func NewCacheError(op, details string, err error) *PromptError
```

NewCacheError creates a new cache error.

<a name="NewConfigurationError"></a>
### func [NewConfigurationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L59>)

```go
func NewConfigurationError(op, details string, err error) *PromptError
```

NewConfigurationError creates a new configuration error.

<a name="NewTemplateExecuteError"></a>
### func [NewTemplateExecuteError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L29>)

```go
func NewTemplateExecuteError(op, templateName string, err error) *PromptError
```

NewTemplateExecuteError creates a new template execution error.

<a name="NewTemplateParseError"></a>
### func [NewTemplateParseError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L24>)

```go
func NewTemplateParseError(op, templateName string, err error) *PromptError
```

NewTemplateParseError creates a new template parse error.

<a name="NewTimeoutError"></a>
### func [NewTimeoutError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L64>)

```go
func NewTimeoutError(op, timeout string) *PromptError
```

NewTimeoutError creates a new timeout error.

<a name="NewValidationError"></a>
### func [NewValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L44>)

```go
func NewValidationError(op, details string, err error) *PromptError
```

NewValidationError creates a new validation error.

<a name="NewVariableInvalidError"></a>
### func [NewVariableInvalidError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L39>)

```go
func NewVariableInvalidError(op, variableName, expectedType, actualType string) *PromptError
```

NewVariableInvalidError creates a new variable invalid error.

<a name="NewVariableMissingError"></a>
### func [NewVariableMissingError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/errors.go#L34>)

```go
func NewVariableMissingError(op, variableName, templateName string) *PromptError
```

NewVariableMissingError creates a new variable missing error.

<a name="PromptManager"></a>
## type [PromptManager](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L20-L26>)

PromptManager is the main entry point for the prompts package. It provides factory methods for creating templates and adapters with proper dependency injection.

```go
type PromptManager struct {
    // contains filtered or unexported fields
}
```

<a name="NewPromptManager"></a>
### func [NewPromptManager](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L50>)

```go
func NewPromptManager(opts ...Option) (*PromptManager, error)
```

NewPromptManager creates a new PromptManager with the given configuration and dependencies. This follows the factory pattern and dependency injection principles. The manager provides factory methods for creating templates and adapters.

Parameters:

- opts: Optional configuration functions (WithConfig, WithMetrics, WithTracer, etc.)

Returns:

- *PromptManager: A new prompt manager instance
- error: Configuration or initialization errors

Example:

```
manager, err := prompts.NewPromptManager(
    prompts.WithConfig(prompts.DefaultConfig()),
    prompts.WithMetrics(metrics),
)
if err != nil {
    log.Fatal(err)
}
```

Example usage can be found in examples/prompts/basic/main.go

<a name="PromptManager.Check"></a>
### func (*PromptManager) [Check](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L185>)

```go
func (pm *PromptManager) Check(ctx context.Context) error
```

Check implements the HealthChecker interface.

<a name="PromptManager.GetConfig"></a>
### func (*PromptManager) [GetConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L175>)

```go
func (pm *PromptManager) GetConfig() *Config
```

GetConfig returns the current configuration.

<a name="PromptManager.GetMetrics"></a>
### func (*PromptManager) [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L180>)

```go
func (pm *PromptManager) GetMetrics() iface.Metrics
```

GetMetrics returns the metrics collector.

<a name="PromptManager.HealthCheck"></a>
### func (*PromptManager) [HealthCheck](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L202>)

```go
func (pm *PromptManager) HealthCheck(ctx context.Context) error
```

HealthCheck performs a health check on the prompt manager.

<a name="PromptManager.NewChatAdapter"></a>
### func (*PromptManager) [NewChatAdapter](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L161>)

```go
func (pm *PromptManager) NewChatAdapter(name, systemTemplate, userTemplate string, variables []string) (iface.PromptFormatter, error)
```

NewChatAdapter creates a new chat prompt adapter. This is a factory method that properly injects dependencies.

<a name="PromptManager.NewDefaultAdapter"></a>
### func (*PromptManager) [NewDefaultAdapter](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L146>)

```go
func (pm *PromptManager) NewDefaultAdapter(name, template string, variables []string) (iface.PromptFormatter, error)
```

NewDefaultAdapter creates a new default prompt adapter. This is a factory method that properly injects dependencies.

<a name="PromptManager.NewStringTemplate"></a>
### func (*PromptManager) [NewStringTemplate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts.go#L131>)

```go
func (pm *PromptManager) NewStringTemplate(name, template string) (iface.Template, error)
```

NewStringTemplate creates a new string prompt template. This is a factory method that properly injects dependencies. String templates support variable substitution using \{\{variable\}\} syntax.

Parameters:

- name: Unique name for the template (used for caching and metrics)
- template: Template string with \{\{variable\}\} placeholders

Returns:

- iface.Template: A new template instance
- error: Validation errors if name is empty or template is invalid

Example:

```
template, err := manager.NewStringTemplate(
    "greeting",
    "Hello, {{name}}! Welcome to {{company}}.",
)
result, err := template.Format(map[string]any{"name": "Alice", "company": "Beluga"})
```

Example usage can be found in examples/prompts/basic/main.go

<a name="PromptScenarioRunner"></a>
## type [PromptScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L621-L624>)

PromptScenarioRunner runs common prompt scenarios.

```go
type PromptScenarioRunner struct {
    // contains filtered or unexported fields
}
```

<a name="NewPromptScenarioRunner"></a>
### func [NewPromptScenarioRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L626>)

```go
func NewPromptScenarioRunner(template iface.Template, manager iface.TemplateManager) *PromptScenarioRunner
```

<a name="PromptScenarioRunner.RunTemplateFormattingScenario"></a>
### func (*PromptScenarioRunner) [RunTemplateFormattingScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L633>)

```go
func (r *PromptScenarioRunner) RunTemplateFormattingScenario(ctx context.Context, inputSets []map[string]any) ([]any, error)
```

<a name="PromptScenarioRunner.RunTemplateManagementScenario"></a>
### func (*PromptScenarioRunner) [RunTemplateManagementScenario](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L647>)

```go
func (r *PromptScenarioRunner) RunTemplateManagementScenario(ctx context.Context, templateNames, templateStrings []string) error
```

<a name="PromptsMockcomponent"></a>
## type [PromptsMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts_mock.go#L8-L10>)

PromptsMockcomponent is a mock implementation of Interface.

```go
type PromptsMockcomponent struct {
    mock.Mock
}
```

<a name="NewPromptsMockcomponent"></a>
### func [NewPromptsMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/prompts_mock.go#L13>)

```go
func NewPromptsMockcomponent() *PromptsMockcomponent
```

NewPromptsMockcomponent creates a new PromptsMockcomponent.

<a name="TemplateQualityTester"></a>
## type [TemplateQualityTester](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L744-L746>)

TemplateQualityTester provides utilities for testing template quality.

```go
type TemplateQualityTester struct {
    // contains filtered or unexported fields
}
```

<a name="NewTemplateQualityTester"></a>
### func [NewTemplateQualityTester](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L748>)

```go
func NewTemplateQualityTester(template iface.Template) *TemplateQualityTester
```

<a name="TemplateQualityTester.TestConsistency"></a>
### func (*TemplateQualityTester) [TestConsistency](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L752>)

```go
func (q *TemplateQualityTester) TestConsistency(ctx context.Context, inputs map[string]any, iterations int) (bool, error)
```

<a name="TemplateQualityTester.TestVariableHandling"></a>
### func (*TemplateQualityTester) [TestVariableHandling](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L778>)

```go
func (q *TemplateQualityTester) TestVariableHandling(ctx context.Context, testCases []VariableTestCase) error
```

<a name="VariableTestCase"></a>
## type [VariableTestCase](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/prompts/test_utils.go#L800-L805>)

VariableTestCase represents a test case for template variable handling.

```go
type VariableTestCase struct {
    Inputs      map[string]any
    Name        string
    Description string
    ShouldError bool
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
