---
title: orchestration
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# orchestration

```go
import "github.com/lookatitude/beluga-ai/pkg/orchestration"
```

Package orchestration provides custom error types for the orchestration package.

Package orchestration provides comprehensive orchestration capabilities for Beluga AI. It supports chains, graphs, and workflows with full observability and configuration management.

This package follows the Beluga AI Framework design patterns with: - Interface segregation for focused, single-responsibility interfaces - Dependency inversion through constructor injection - Factory pattern with functional options for configuration - Comprehensive error handling and observability integration

Key Features:

- Chain orchestration: Sequential execution of runnable components
- Graph orchestration: Complex workflows with nodes and edges
- Workflow orchestration: Long-running distributed workflows (Temporal integration)
- Full observability: OpenTelemetry tracing and metrics
- Configurable execution: Timeouts, retries, and error handling

Basic Usage:

```
import "github.com/lookatitude/beluga-ai/pkg/orchestration"

// Create an orchestrator
config := orchestration.DefaultConfig()
orchestrator, err := orchestration.NewOrchestrator(config)
if err != nil {
	log.Fatal(err)
}

// Create a chain
chain, err := orchestrator.CreateChain(steps,
	orchestration.WithChainName("my-chain"),
	orchestration.WithChainTimeout(30*time.Second),
)

// Execute the chain
result, err := chain.Invoke(ctx, input)
```

Advanced Usage:

```
// Create a graph with multiple nodes
graph, err := orchestrator.CreateGraph(
	orchestration.WithGraphName("my-graph"),
	orchestration.WithGraphNode("node1", runnable1),
	orchestration.WithGraphNode("node2", runnable2),
	orchestration.WithGraphEdge("node1", "node2"),
)

// Execute the graph
result, err := graph.Invoke(ctx, input)
```

Package orchestration defines interfaces and components for managing complex flows involving multiple steps, agents, or tools. This includes concepts like chains and graphs.

Package orchestration provides advanced test utilities and comprehensive mocks for testing orchestration implementations. This file contains utilities designed to support both unit tests and integration tests.

Test Coverage Exclusions:

The following code paths are intentionally excluded from 100% coverage requirements:

1. Panic Recovery Paths:

- Panic handlers in concurrent test runners (ConcurrentTestRunner)
- These paths are difficult to test without causing actual panics in test code

2. Context Cancellation Edge Cases:

- Some context cancellation paths in workflow operations are difficult to reliably test
- Race conditions between context cancellation and graph/chain execution
- logWithOTELContext function paths that require valid OTEL context

3. Error Paths Requiring System Conditions:

- Network errors that require actual network failures (provider implementations)
- Memory exhaustion scenarios during large batch operations
- Workflow implementation errors requiring Temporal client (createWorkflowImplementation)

4. Provider-Specific Untestable Paths:

- Provider implementations in pkg/orchestration/providers/* require external service failures
- Temporal workflow creation requires actual Temporal client (currently returns error)
- These are tested through integration tests rather than unit tests

5. Test Utility Functions:

- Helper functions in test\_utils.go that are used by tests but not directly tested
- CreateTestChain, CreateTestGraph, CreateTestWorkflow helpers
- These are validated through their usage in actual test cases

6. Initialization Code:

- Package init() functions and global variable initialization
- Registry registration code that executes automatically

7. OTEL Context Logging:

- logWithOTELContext function has paths that require valid OTEL context
- Some edge cases in trace/span ID extraction are difficult to test in isolation

8. Factory Functions:

- NewChain, NewGraph, NewWorkflow convenience functions that delegate to orchestrator
- These are tested through orchestrator tests, not in isolation

All exclusions are documented here to maintain transparency about coverage goals. The target is 100% coverage of testable code paths, excluding the above categories.

## Index

- [Constants](<#constants>)
- [`func AssertErrorType(t *testing.T, err error, expectedCode string)`](<#AssertErrorType>)
- [`func AssertExecutionResult(t *testing.T, result any, expectedPattern string)`](<#AssertExecutionResult>)
- [`func AssertHealthCheck(t *testing.T, health map[string]any, expectedStatus string)`](<#AssertHealthCheck>)
- [`func CreateTestChain(name string, steps []string) iface.Chain`](<#CreateTestChain>)
- [`func CreateTestGraph(name string, nodes []string, edges map[string][]string) iface.Graph`](<#CreateTestGraph>)
- [`func CreateTestWorkflow(name string, tasks []string) iface.Workflow`](<#CreateTestWorkflow>)
- [`func DefaultWorkflowConfig() *iface.WorkflowConfig`](<#DefaultWorkflowConfig>)
- [`func InitMetrics(meter metric.Meter, tracer trace.Tracer)`](<#InitMetrics>)
- [`func IsOrchestrationError(err error) bool`](<#IsOrchestrationError>)
- [`func NewChain(steps []core.Runnable, opts ...iface.ChainOption) (iface.Chain, error)`](<#NewChain>)
- [`func NewGraph(opts ...iface.GraphOption) (iface.Graph, error)`](<#NewGraph>)
- [`func NewWorkflow(workflowFn any, opts ...iface.WorkflowOption) (iface.Workflow, error)`](<#NewWorkflow>)
- [`func RunLoadTest(t *testing.T, orchestrator *AdvancedMockOrchestrator, numRequests, concurrency int)`](<#RunLoadTest>)
- [type Activity](<#Activity>)
- [type AdvancedMockOrchestrator](<#AdvancedMockOrchestrator>)
  - [`func NewAdvancedMockOrchestrator(name, orchType string, options ...MockOrchestratorOption) *AdvancedMockOrchestrator`](<#NewAdvancedMockOrchestrator>)
  - [`func (m *AdvancedMockOrchestrator) CheckHealth() map[string]any`](<#AdvancedMockOrchestrator.CheckHealth>)
  - [`func (m *AdvancedMockOrchestrator) Execute(ctx context.Context, input any) (any, error)`](<#AdvancedMockOrchestrator.Execute>)
  - [`func (m *AdvancedMockOrchestrator) ExecuteChain(ctx context.Context, chain iface.Chain) (any, error)`](<#AdvancedMockOrchestrator.ExecuteChain>)
  - [`func (m *AdvancedMockOrchestrator) ExecuteGraph(ctx context.Context, graph iface.Graph) (any, error)`](<#AdvancedMockOrchestrator.ExecuteGraph>)
  - [`func (m *AdvancedMockOrchestrator) ExecuteWorkflow(ctx context.Context, workflow iface.Workflow) (any, error)`](<#AdvancedMockOrchestrator.ExecuteWorkflow>)
  - [`func (m *AdvancedMockOrchestrator) GetCallCount() int`](<#AdvancedMockOrchestrator.GetCallCount>)
  - [`func (m *AdvancedMockOrchestrator) GetName() string`](<#AdvancedMockOrchestrator.GetName>)
  - [`func (m *AdvancedMockOrchestrator) GetType() string`](<#AdvancedMockOrchestrator.GetType>)
- [type AdvancedMockcomponent](<#AdvancedMockcomponent>)
  - [`func NewAdvancedMockcomponent() *AdvancedMockcomponent`](<#NewAdvancedMockcomponent>)
- [type Chain](<#Chain>)
- [type ChainBuilder](<#ChainBuilder>)
  - [`func NewChainBuilder() *ChainBuilder`](<#NewChainBuilder>)
  - [`func (b *ChainBuilder) AddStep(step core.Runnable) *ChainBuilder`](<#ChainBuilder.AddStep>)
  - [`func (b *ChainBuilder) Build() *SimpleChain`](<#ChainBuilder.Build>)
  - [`func (b *ChainBuilder) WithMemory(memory memory.Memory) *ChainBuilder`](<#ChainBuilder.WithMemory>)
- [type ChainConfig](<#ChainConfig>)
- [type ConcurrentTestRunner](<#ConcurrentTestRunner>)
  - [`func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner`](<#NewConcurrentTestRunner>)
  - [`func (r *ConcurrentTestRunner) Run() error`](<#ConcurrentTestRunner.Run>)
- [type Config](<#Config>)
  - [`func DefaultConfig() *Config`](<#DefaultConfig>)
  - [`func NewConfig(opts ...Option) (*Config, error)`](<#NewConfig>)
  - [`func (c *Config) Validate() error`](<#Config.Validate>)
- [type EnabledFeatures](<#EnabledFeatures>)
- [type Graph](<#Graph>)
- [type GraphConfig](<#GraphConfig>)
- [type IntegrationTestHelper](<#IntegrationTestHelper>)
  - [`func NewIntegrationTestHelper() *IntegrationTestHelper`](<#NewIntegrationTestHelper>)
  - [`func (h *IntegrationTestHelper) AddOrchestrator(name string, orch *AdvancedMockOrchestrator)`](<#IntegrationTestHelper.AddOrchestrator>)
  - [`func (h *IntegrationTestHelper) GetMetrics() *MockMetricsRecorder`](<#IntegrationTestHelper.GetMetrics>)
  - [`func (h *IntegrationTestHelper) GetOrchestrator(name string) *AdvancedMockOrchestrator`](<#IntegrationTestHelper.GetOrchestrator>)
  - [`func (h *IntegrationTestHelper) Reset()`](<#IntegrationTestHelper.Reset>)
- [type MetricRecord](<#MetricRecord>)
- [type Metrics](<#Metrics>)
  - [`func GetMetrics() *Metrics`](<#GetMetrics>)
  - [`func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)`](<#NewMetrics>)
  - [`func NoOpMetrics() *Metrics`](<#NoOpMetrics>)
  - [`func (m *Metrics) RecordChainActive(ctx context.Context, delta int64, chainName string)`](<#Metrics.RecordChainActive>)
  - [`func (m *Metrics) RecordChainExecution(ctx context.Context, duration time.Duration, success bool, chainName string)`](<#Metrics.RecordChainExecution>)
  - [`func (m *Metrics) RecordGraphActive(ctx context.Context, delta int64, graphName string)`](<#Metrics.RecordGraphActive>)
  - [`func (m *Metrics) RecordGraphExecution(ctx context.Context, duration time.Duration, success bool, graphName string, nodeCount int)`](<#Metrics.RecordGraphExecution>)
  - [`func (m *Metrics) RecordWorkflowActive(ctx context.Context, delta int64, workflowName string)`](<#Metrics.RecordWorkflowActive>)
  - [`func (m *Metrics) RecordWorkflowExecution(ctx context.Context, duration time.Duration, success bool, workflowName string)`](<#Metrics.RecordWorkflowExecution>)
  - [`func (m *Metrics) StartChainSpan(ctx context.Context, chainName, operation string) (context.Context, trace.Span)`](<#Metrics.StartChainSpan>)
  - [`func (m *Metrics) StartGraphSpan(ctx context.Context, graphName, operation string) (context.Context, trace.Span)`](<#Metrics.StartGraphSpan>)
  - [`func (m *Metrics) StartWorkflowSpan(ctx context.Context, workflowName, operation string) (context.Context, trace.Span)`](<#Metrics.StartWorkflowSpan>)
- [type MockMetricsRecorder](<#MockMetricsRecorder>)
  - [`func NewMockMetricsRecorder() *MockMetricsRecorder`](<#NewMockMetricsRecorder>)
  - [`func (m *MockMetricsRecorder) Clear()`](<#MockMetricsRecorder.Clear>)
  - [`func (m *MockMetricsRecorder) GetRecordings() []MetricRecord`](<#MockMetricsRecorder.GetRecordings>)
  - [`func (m *MockMetricsRecorder) RecordChainExecution(ctx context.Context, duration time.Duration, success bool, chainName string)`](<#MockMetricsRecorder.RecordChainExecution>)
  - [`func (m *MockMetricsRecorder) RecordGraphExecution(ctx context.Context, duration time.Duration, success bool, graphName string, nodeCount int)`](<#MockMetricsRecorder.RecordGraphExecution>)
  - [`func (m *MockMetricsRecorder) RecordWorkflowExecution(ctx context.Context, duration time.Duration, success bool, workflowName string)`](<#MockMetricsRecorder.RecordWorkflowExecution>)
- [type MockOrchestratorOption](<#MockOrchestratorOption>)
  - [`func WithEdges(edges map[string][]string) MockOrchestratorOption`](<#WithEdges>)
  - [`func WithExecutionDelay(delay time.Duration) MockOrchestratorOption`](<#WithExecutionDelay>)
  - [`func WithMockContextCanceledError(op string) MockOrchestratorOption`](<#WithMockContextCanceledError>)
  - [`func WithMockContextTimeoutError(op string) MockOrchestratorOption`](<#WithMockContextTimeoutError>)
  - [`func WithMockDependencyError(op string) MockOrchestratorOption`](<#WithMockDependencyError>)
  - [`func WithMockError(shouldError bool, err error) MockOrchestratorOption`](<#WithMockError>)
  - [`func WithMockErrorCode(op, code string) MockOrchestratorOption`](<#WithMockErrorCode>)
  - [`func WithMockExecutionFailedError(op string) MockOrchestratorOption`](<#WithMockExecutionFailedError>)
  - [`func WithMockInvalidConfigError(op string) MockOrchestratorOption`](<#WithMockInvalidConfigError>)
  - [`func WithMockInvalidInputError(op string) MockOrchestratorOption`](<#WithMockInvalidInputError>)
  - [`func WithMockInvalidStateError(op string) MockOrchestratorOption`](<#WithMockInvalidStateError>)
  - [`func WithMockOrchestratorError(op, code string, underlyingErr error) MockOrchestratorOption`](<#WithMockOrchestratorError>)
  - [`func WithMockResourceExhaustedError(op string) MockOrchestratorOption`](<#WithMockResourceExhaustedError>)
  - [`func WithMockResponses(responses []any) MockOrchestratorOption`](<#WithMockResponses>)
  - [`func WithMockSchedulingFailedError(op string) MockOrchestratorOption`](<#WithMockSchedulingFailedError>)
  - [`func WithMockTaskNotFoundError(op string) MockOrchestratorOption`](<#WithMockTaskNotFoundError>)
  - [`func WithMockTimeoutError(op string) MockOrchestratorOption`](<#WithMockTimeoutError>)
  - [`func WithMockWorkflowNotFoundError(op string) MockOrchestratorOption`](<#WithMockWorkflowNotFoundError>)
  - [`func WithNodes(nodes []string) MockOrchestratorOption`](<#WithNodes>)
- [type ObservabilityConfig](<#ObservabilityConfig>)
- [type Option](<#Option>)
  - [`func WithChainTimeout(timeout time.Duration) Option`](<#WithChainTimeout>)
  - [`func WithFeatures(features EnabledFeatures) Option`](<#WithFeatures>)
  - [`func WithGraphMaxWorkers(workers int) Option`](<#WithGraphMaxWorkers>)
  - [`func WithMetricsPrefix(prefix string) Option`](<#WithMetricsPrefix>)
  - [`func WithWorkflowTaskQueue(queue string) Option`](<#WithWorkflowTaskQueue>)
- [type OrchestrationContainer](<#OrchestrationContainer>)
  - [`func NewOrchestrationContainer() *OrchestrationContainer`](<#NewOrchestrationContainer>)
  - [`func (oc *OrchestrationContainer) BuildChain(steps []core.Runnable, memory memory.Memory) (*SimpleChain, error)`](<#OrchestrationContainer.BuildChain>)
  - [`func (oc *OrchestrationContainer) GetContainer() core.Container`](<#OrchestrationContainer.GetContainer>)
  - [`func (oc *OrchestrationContainer) RegisterComponent(factoryFunc any) error`](<#OrchestrationContainer.RegisterComponent>)
- [type OrchestrationError](<#OrchestrationError>)
  - [`func AsOrchestrationError(err error) (*OrchestrationError, bool)`](<#AsOrchestrationError>)
  - [`func NewOrchestrationError(op, code string, err error) *OrchestrationError`](<#NewOrchestrationError>)
  - [`func NewOrchestrationErrorWithMessage(op, code, message string, err error) *OrchestrationError`](<#NewOrchestrationErrorWithMessage>)
  - [`func (e *OrchestrationError) Error() string`](<#OrchestrationError.Error>)
  - [`func (e *OrchestrationError) Unwrap() error`](<#OrchestrationError.Unwrap>)
- [type Orchestrator](<#Orchestrator>)
  - [`func NewDefaultOrchestrator() (*Orchestrator, error)`](<#NewDefaultOrchestrator>)
  - [`func NewOrchestrator(config *Config) (*Orchestrator, error)`](<#NewOrchestrator>)
  - [`func NewOrchestratorWithOptions(opts ...Option) (*Orchestrator, error)`](<#NewOrchestratorWithOptions>)
  - [`func (o *Orchestrator) Check(ctx context.Context) error`](<#Orchestrator.Check>)
  - [`func (o *Orchestrator) CreateChain(steps []core.Runnable, opts ...iface.ChainOption) (iface.Chain, error)`](<#Orchestrator.CreateChain>)
  - [`func (o *Orchestrator) CreateGraph(opts ...iface.GraphOption) (iface.Graph, error)`](<#Orchestrator.CreateGraph>)
  - [`func (o *Orchestrator) CreateWorkflow(workflowFn any, opts ...iface.WorkflowOption) (iface.Workflow, error)`](<#Orchestrator.CreateWorkflow>)
  - [`func (o *Orchestrator) GetMetrics() iface.OrchestratorMetrics`](<#Orchestrator.GetMetrics>)
- [type SimpleChain](<#SimpleChain>)
  - [`func NewSimpleChain(steps []core.Runnable, mem memory.Memory) *SimpleChain`](<#NewSimpleChain>)
  - [`func NewSimpleChainWithOptions(options ...SimpleChainOption) *SimpleChain`](<#NewSimpleChainWithOptions>)
  - [`func (c *SimpleChain) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#SimpleChain.Batch>)
  - [`func (c *SimpleChain) GetInputKeys() []string`](<#SimpleChain.GetInputKeys>)
  - [`func (c *SimpleChain) GetMemory() memory.Memory`](<#SimpleChain.GetMemory>)
  - [`func (c *SimpleChain) GetOutputKeys() []string`](<#SimpleChain.GetOutputKeys>)
  - [`func (c *SimpleChain) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#SimpleChain.Invoke>)
  - [`func (c *SimpleChain) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#SimpleChain.Stream>)
- [type SimpleChainConfig](<#SimpleChainConfig>)
  - [`func DefaultSimpleChainConfig() *SimpleChainConfig`](<#DefaultSimpleChainConfig>)
- [type SimpleChainOption](<#SimpleChainOption>)
  - [`func WithMemory(mem memory.Memory) SimpleChainOption`](<#WithMemory>)
  - [`func WithSteps(steps ...core.Runnable) SimpleChainOption`](<#WithSteps>)
- [type SimpleMockcomponent](<#SimpleMockcomponent>)
  - [`func NewSimpleMockcomponent() *SimpleMockcomponent`](<#NewSimpleMockcomponent>)
- [type TestChain](<#TestChain>)
  - [`func (c *TestChain) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#TestChain.Batch>)
  - [`func (c *TestChain) GetInputKeys() []string`](<#TestChain.GetInputKeys>)
  - [`func (c *TestChain) GetMemory() memoryiface.Memory`](<#TestChain.GetMemory>)
  - [`func (c *TestChain) GetName() string`](<#TestChain.GetName>)
  - [`func (c *TestChain) GetOutputKeys() []string`](<#TestChain.GetOutputKeys>)
  - [`func (c *TestChain) GetSteps() []string`](<#TestChain.GetSteps>)
  - [`func (c *TestChain) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#TestChain.Invoke>)
  - [`func (c *TestChain) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#TestChain.Stream>)
- [type TestGraph](<#TestGraph>)
  - [`func (g *TestGraph) AddEdge(sourceNode, targetNode string) error`](<#TestGraph.AddEdge>)
  - [`func (g *TestGraph) AddNode(name string, runnable core.Runnable) error`](<#TestGraph.AddNode>)
  - [`func (g *TestGraph) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)`](<#TestGraph.Batch>)
  - [`func (g *TestGraph) GetEdges() map[string][]string`](<#TestGraph.GetEdges>)
  - [`func (g *TestGraph) GetName() string`](<#TestGraph.GetName>)
  - [`func (g *TestGraph) GetNodes() []string`](<#TestGraph.GetNodes>)
  - [`func (g *TestGraph) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)`](<#TestGraph.Invoke>)
  - [`func (g *TestGraph) SetEntryPoint(nodeNames []string) error`](<#TestGraph.SetEntryPoint>)
  - [`func (g *TestGraph) SetFinishPoint(nodeNames []string) error`](<#TestGraph.SetFinishPoint>)
  - [`func (g *TestGraph) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)`](<#TestGraph.Stream>)
- [type TestWorkflow](<#TestWorkflow>)
  - [`func (w *TestWorkflow) Cancel(ctx context.Context, workflowID, runID string) error`](<#TestWorkflow.Cancel>)
  - [`func (w *TestWorkflow) Execute(ctx context.Context, input any) (string, string, error)`](<#TestWorkflow.Execute>)
  - [`func (w *TestWorkflow) GetName() string`](<#TestWorkflow.GetName>)
  - [`func (w *TestWorkflow) GetResult(ctx context.Context, workflowID, runID string) (any, error)`](<#TestWorkflow.GetResult>)
  - [`func (w *TestWorkflow) GetTasks() []string`](<#TestWorkflow.GetTasks>)
  - [`func (w *TestWorkflow) Query(ctx context.Context, workflowID, runID, queryType string, args ...any) (any, error)`](<#TestWorkflow.Query>)
  - [`func (w *TestWorkflow) Signal(ctx context.Context, workflowID, runID, signalName string, data any) error`](<#TestWorkflow.Signal>)
  - [`func (w *TestWorkflow) Terminate(ctx context.Context, workflowID, runID, reason string, details ...any) error`](<#TestWorkflow.Terminate>)
- [type Workflow](<#Workflow>)
- [type WorkflowBuilder](<#WorkflowBuilder>)
  - [`func NewWorkflowBuilder() *WorkflowBuilder`](<#NewWorkflowBuilder>)
  - [`func (b *WorkflowBuilder) Build() *iface.WorkflowConfig`](<#WorkflowBuilder.Build>)
  - [`func (b *WorkflowBuilder) WithContainer(container core.Container) *WorkflowBuilder`](<#WorkflowBuilder.WithContainer>)
  - [`func (b *WorkflowBuilder) WithDescription(description string) *WorkflowBuilder`](<#WorkflowBuilder.WithDescription>)
  - [`func (b *WorkflowBuilder) WithName(name string) *WorkflowBuilder`](<#WorkflowBuilder.WithName>)
  - [`func (b *WorkflowBuilder) WithRetries(retries int) *WorkflowBuilder`](<#WorkflowBuilder.WithRetries>)
  - [`func (b *WorkflowBuilder) WithTimeout(timeout int) *WorkflowBuilder`](<#WorkflowBuilder.WithTimeout>)
- [type WorkflowConfig](<#WorkflowConfig>)
- [type WorkflowOption](<#WorkflowOption>)
  - [`func WithWorkflowContainer(container core.Container) WorkflowOption`](<#WithWorkflowContainer>)
  - [`func WithWorkflowDescription(description string) WorkflowOption`](<#WithWorkflowDescription>)
  - [`func WithWorkflowName(name string) WorkflowOption`](<#WithWorkflowName>)
  - [`func WithWorkflowRetries(retries int) WorkflowOption`](<#WithWorkflowRetries>)
  - [`func WithWorkflowTimeout(timeout int) WorkflowOption`](<#WithWorkflowTimeout>)

## Constants

<a name="ErrCodeInvalidConfig"></a>Error codes for orchestration operations.

```go
const (
    ErrCodeInvalidConfig     = "invalid_config"
    ErrCodeInvalidInput      = "invalid_input"
    ErrCodeSchedulingFailed  = "scheduling_failed"
    ErrCodeExecutionFailed   = "execution_failed"
    ErrCodeWorkflowNotFound  = "workflow_not_found"
    ErrCodeWorkflowError     = "workflow_error"
    ErrCodeTaskNotFound      = "task_not_found"
    ErrCodeTaskError         = "task_error"
    ErrCodeDependencyError   = "dependency_error"
    ErrCodeTimeout           = "timeout"
    ErrCodeContextCanceled   = "context_canceled"
    ErrCodeContextTimeout    = "context_timeout"
    ErrCodeResourceExhausted = "resource_exhausted"
    ErrCodeInvalidState      = "invalid_state"
    ErrCodeStateTransition   = "state_transition_error"
)
```

<a name="AssertErrorType"></a>
## func [AssertErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L554>)

```go
func AssertErrorType(t *testing.T, err error, expectedCode string)
```

AssertErrorType validates error types and codes.

<a name="AssertExecutionResult"></a>
## func [AssertExecutionResult](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L545>)

```go
func AssertExecutionResult(t *testing.T, result any, expectedPattern string)
```

AssertExecutionResult validates execution results.

<a name="AssertHealthCheck"></a>
## func [AssertHealthCheck](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L537>)

```go
func AssertHealthCheck(t *testing.T, health map[string]any, expectedStatus string)
```

AssertHealthCheck validates health check results.

<a name="CreateTestChain"></a>
## func [CreateTestChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L401>)

```go
func CreateTestChain(name string, steps []string) iface.Chain
```

CreateTestChain creates a test chain configuration.

<a name="CreateTestGraph"></a>
## func [CreateTestGraph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L440>)

```go
func CreateTestGraph(name string, nodes []string, edges map[string][]string) iface.Graph
```

CreateTestGraph creates a test graph configuration.

<a name="CreateTestWorkflow"></a>
## func [CreateTestWorkflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L494>)

```go
func CreateTestWorkflow(name string, tasks []string) iface.Workflow
```

CreateTestWorkflow creates a test workflow configuration.

<a name="DefaultWorkflowConfig"></a>
## func [DefaultWorkflowConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L155>)

```go
func DefaultWorkflowConfig() *iface.WorkflowConfig
```

DefaultWorkflowConfig returns default workflow configuration.

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L376>)

```go
func InitMetrics(meter metric.Meter, tracer trace.Tracer)
```

InitMetrics initializes the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="IsOrchestrationError"></a>
## func [IsOrchestrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L72>)

```go
func IsOrchestrationError(err error) bool
```

IsOrchestrationError checks if an error is an OrchestrationError.

<a name="NewChain"></a>
## func [NewChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L431>)

```go
func NewChain(steps []core.Runnable, opts ...iface.ChainOption) (iface.Chain, error)
```

NewChain creates a new chain with default orchestrator. This is a convenience function for simple use cases where you don't need full orchestrator capabilities.

Parameters:

- steps: Slice of runnable components to execute in sequence
- opts: Optional chain configuration (WithChainName, WithChainTimeout, etc.)

Returns:

- iface.Chain: A new chain instance ready to execute
- error: Configuration errors

Example:

```
steps := []core.Runnable{retriever, llm}
chain, err := orchestration.NewChain(steps,
    orchestration.WithChainName("simple-chain"),
)
result, err := chain.Invoke(ctx, input)
```

Example usage can be found in examples/orchestration/chain/main.go

<a name="NewGraph"></a>
## func [NewGraph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L459>)

```go
func NewGraph(opts ...iface.GraphOption) (iface.Graph, error)
```

NewGraph creates a new graph with default orchestrator. This is a convenience function for simple use cases where you don't need full orchestrator capabilities.

Parameters:

- opts: Graph configuration options (WithGraphName, WithGraphNode, WithGraphEdge, etc.)

Returns:

- iface.Graph: A new graph instance ready to execute
- error: Configuration errors

Example:

```
graph, err := orchestration.NewGraph(
    orchestration.WithGraphName("simple-graph"),
    orchestration.WithGraphNode("node1", runnable1),
)
result, err := graph.Invoke(ctx, input)
```

Example usage can be found in examples/orchestration/workflow/main.go

<a name="NewWorkflow"></a>
## func [NewWorkflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L489>)

```go
func NewWorkflow(workflowFn any, opts ...iface.WorkflowOption) (iface.Workflow, error)
```

NewWorkflow creates a new workflow with default orchestrator. This is a convenience function for simple use cases where you don't need full orchestrator capabilities. Note: Temporal client must be configured.

Parameters:

- workflowFn: Workflow function that defines the workflow logic
- opts: Workflow configuration options (WithWorkflowName, WithWorkflowID, etc.)

Returns:

- iface.Workflow: A new workflow instance
- error: Configuration errors or if Temporal client is not configured

Example:

```
workflowFn := func(ctx context.Context, input string) (string, error) {
    return "result", nil
}
workflow, err := orchestration.NewWorkflow(workflowFn,
    orchestration.WithWorkflowName("simple-workflow"),
)
```

Example usage can be found in examples/orchestration/workflow/main.go

<a name="RunLoadTest"></a>
## func [RunLoadTest](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L622>)

```go
func RunLoadTest(t *testing.T, orchestrator *AdvancedMockOrchestrator, numRequests, concurrency int)
```

RunLoadTest executes a load test scenario.

<a name="Activity"></a>
## type [Activity](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L73-L77>)

Activity represents a unit of work within a workflow, often corresponding to a Beluga Runnable. This interface helps bridge Beluga components with workflow systems.

```go
type Activity interface {
    // Execute performs the activity's logic.
    // Input/output types depend on the specific activity.
    Execute(ctx context.Context, input any) (any, error)
}
```

<a name="AdvancedMockOrchestrator"></a>
## type [AdvancedMockOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L65-L83>)

AdvancedMockOrchestrator provides a comprehensive mock implementation for testing.

```go
type AdvancedMockOrchestrator struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockOrchestrator"></a>
### func [NewAdvancedMockOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L86>)

```go
func NewAdvancedMockOrchestrator(name, orchType string, options ...MockOrchestratorOption) *AdvancedMockOrchestrator
```

NewAdvancedMockOrchestrator creates a new advanced mock with configurable behavior.

<a name="AdvancedMockOrchestrator.CheckHealth"></a>
### func (*AdvancedMockOrchestrator) [CheckHealth](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L311>)

```go
func (m *AdvancedMockOrchestrator) CheckHealth() map[string]any
```

<a name="AdvancedMockOrchestrator.Execute"></a>
### func (*AdvancedMockOrchestrator) [Execute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L223>)

```go
func (m *AdvancedMockOrchestrator) Execute(ctx context.Context, input any) (any, error)
```

Mock implementation methods.

<a name="AdvancedMockOrchestrator.ExecuteChain"></a>
### func (*AdvancedMockOrchestrator) [ExecuteChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L249>)

```go
func (m *AdvancedMockOrchestrator) ExecuteChain(ctx context.Context, chain iface.Chain) (any, error)
```

<a name="AdvancedMockOrchestrator.ExecuteGraph"></a>
### func (*AdvancedMockOrchestrator) [ExecuteGraph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L265>)

```go
func (m *AdvancedMockOrchestrator) ExecuteGraph(ctx context.Context, graph iface.Graph) (any, error)
```

<a name="AdvancedMockOrchestrator.ExecuteWorkflow"></a>
### func (*AdvancedMockOrchestrator) [ExecuteWorkflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L281>)

```go
func (m *AdvancedMockOrchestrator) ExecuteWorkflow(ctx context.Context, workflow iface.Workflow) (any, error)
```

<a name="AdvancedMockOrchestrator.GetCallCount"></a>
### func (*AdvancedMockOrchestrator) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L305>)

```go
func (m *AdvancedMockOrchestrator) GetCallCount() int
```

<a name="AdvancedMockOrchestrator.GetName"></a>
### func (*AdvancedMockOrchestrator) [GetName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L297>)

```go
func (m *AdvancedMockOrchestrator) GetName() string
```

<a name="AdvancedMockOrchestrator.GetType"></a>
### func (*AdvancedMockOrchestrator) [GetType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L301>)

```go
func (m *AdvancedMockOrchestrator) GetType() string
```

<a name="AdvancedMockcomponent"></a>
## type [AdvancedMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/advanced_mock.go#L8-L10>)

AdvancedMockcomponent is a mock implementation of Interface.

```go
type AdvancedMockcomponent struct {
    mock.Mock
}
```

<a name="NewAdvancedMockcomponent"></a>
### func [NewAdvancedMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/advanced_mock.go#L13>)

```go
func NewAdvancedMockcomponent() *AdvancedMockcomponent
```

NewAdvancedMockcomponent creates a new AdvancedMockcomponent.

<a name="Chain"></a>
## type [Chain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L19-L28>)

Chain represents a sequence of components (Runnables) executed one after another. The output of one step is typically the input to the next.

```go
type Chain interface {
    core.Runnable // Chains themselves are Runnable

    // GetInputKeys returns the expected input keys for the chain.
    GetInputKeys() []string
    // GetOutputKeys returns the keys produced by the chain.
    GetOutputKeys() []string
    // GetMemory returns the memory associated with the chain, if any.
    GetMemory() memory.Memory
}
```

<a name="ChainBuilder"></a>
## type [ChainBuilder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L52-L54>)

ChainBuilder provides a fluent interface for building chains.

```go
type ChainBuilder struct {
    // contains filtered or unexported fields
}
```

<a name="NewChainBuilder"></a>
### func [NewChainBuilder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L57>)

```go
func NewChainBuilder() *ChainBuilder
```

NewChainBuilder creates a new chain builder.

<a name="ChainBuilder.AddStep"></a>
### func (*ChainBuilder) [AddStep](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L64>)

```go
func (b *ChainBuilder) AddStep(step core.Runnable) *ChainBuilder
```

AddStep adds a step to the chain.

<a name="ChainBuilder.Build"></a>
### func (*ChainBuilder) [Build](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L76>)

```go
func (b *ChainBuilder) Build() *SimpleChain
```

Build creates the chain.

<a name="ChainBuilder.WithMemory"></a>
### func (*ChainBuilder) [WithMemory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L70>)

```go
func (b *ChainBuilder) WithMemory(memory memory.Memory) *ChainBuilder
```

WithMemory sets the memory for the chain.

<a name="ChainConfig"></a>
## type [ChainConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L21-L26>)

ChainConfig holds configuration specific to chain orchestration.

```go
type ChainConfig struct {
    DefaultTimeout      time.Duration `mapstructure:"default_timeout" yaml:"default_timeout" validate:"min=1ns,max=24h" default:"5m"`
    DefaultRetries      int           `mapstructure:"default_retries" yaml:"default_retries" validate:"min=0,max=20" default:"3"`
    MaxConcurrentChains int           `mapstructure:"max_concurrent_chains" yaml:"max_concurrent_chains" validate:"min=1,max=10000" default:"10"`
    EnableMemoryPooling bool          `mapstructure:"enable_memory_pooling" yaml:"enable_memory_pooling" default:"true"`
}
```

<a name="ConcurrentTestRunner"></a>
## type [ConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L563-L567>)

ConcurrentTestRunner runs tests concurrently for performance testing.

```go
type ConcurrentTestRunner struct {
    NumGoroutines int
    TestDuration  time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewConcurrentTestRunner"></a>
### func [NewConcurrentTestRunner](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L569>)

```go
func NewConcurrentTestRunner(numGoroutines int, duration time.Duration, testFunc func() error) *ConcurrentTestRunner
```

<a name="ConcurrentTestRunner.Run"></a>
### func (*ConcurrentTestRunner) [Run](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L577>)

```go
func (r *ConcurrentTestRunner) Run() error
```

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L12-L18>)

Config holds the main configuration for the orchestration package.

```go
type Config struct {
    Observability ObservabilityConfig `mapstructure:"observability" yaml:"observability"`
    Workflow      WorkflowConfig      `mapstructure:"workflow" yaml:"workflow"`
    Graph         GraphConfig         `mapstructure:"graph" yaml:"graph"`
    Chain         ChainConfig         `mapstructure:"chain" yaml:"chain"`
    Enabled       EnabledFeatures     `mapstructure:"enabled" yaml:"enabled"`
}
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L88>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration.

<a name="NewConfig"></a>
### func [NewConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L182>)

```go
func NewConfig(opts ...Option) (*Config, error)
```

NewConfig creates a new configuration with the given options.

<a name="Config.Validate"></a>
### func (*Config) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L64>)

```go
func (c *Config) Validate() error
```

Validate validates the configuration.

<a name="EnabledFeatures"></a>
## type [EnabledFeatures](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L55-L61>)

EnabledFeatures holds configuration for enabling/disabling features.

```go
type EnabledFeatures struct {
    Chains     bool `mapstructure:"chains" yaml:"chains" default:"true"`
    Graphs     bool `mapstructure:"graphs" yaml:"graphs" default:"true"`
    Workflows  bool `mapstructure:"workflows" yaml:"workflows" default:"false"`
    Scheduler  bool `mapstructure:"scheduler" yaml:"scheduler" default:"true"`
    MessageBus bool `mapstructure:"message_bus" yaml:"message_bus" default:"true"`
}
```

<a name="Graph"></a>
## type [Graph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L32-L44>)

Graph represents a more complex orchestration where components can be executed based on dependencies or conditions, forming a directed acyclic graph (DAG).

```go
type Graph interface {
    core.Runnable // Graphs are also Runnable

    // AddNode adds a Runnable component as a node in the graph.
    AddNode(name string, runnable core.Runnable) error
    // AddEdge defines a dependency between two nodes.
    // The output of the source node might be used as input for the target node.
    AddEdge(sourceNode, targetNode string) error
    // SetEntryPoint defines the starting node(s) of the graph.
    SetEntryPoint(nodeNames []string) error
    // SetFinishPoint defines the final node(s) whose output is the graph's output.
    SetFinishPoint(nodeNames []string) error
}
```

<a name="GraphConfig"></a>
## type [GraphConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L29-L35>)

GraphConfig holds configuration specific to graph orchestration.

```go
type GraphConfig struct {
    DefaultTimeout          time.Duration `mapstructure:"default_timeout" yaml:"default_timeout" validate:"min=1ns,max=24h" default:"10m"`
    DefaultRetries          int           `mapstructure:"default_retries" yaml:"default_retries" validate:"min=0,max=20" default:"3"`
    MaxWorkers              int           `mapstructure:"max_workers" yaml:"max_workers" validate:"min=1,max=1000" default:"5"`
    EnableParallelExecution bool          `mapstructure:"enable_parallel_execution" yaml:"enable_parallel_execution" default:"true"`
    QueueSize               int           `mapstructure:"queue_size" yaml:"queue_size" validate:"min=1,max=100000" default:"100"`
}
```

<a name="IntegrationTestHelper"></a>
## type [IntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L660-L663>)

IntegrationTestHelper provides utilities for integration testing.

```go
type IntegrationTestHelper struct {
    // contains filtered or unexported fields
}
```

<a name="NewIntegrationTestHelper"></a>
### func [NewIntegrationTestHelper](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L665>)

```go
func NewIntegrationTestHelper() *IntegrationTestHelper
```

<a name="IntegrationTestHelper.AddOrchestrator"></a>
### func (*IntegrationTestHelper) [AddOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L672>)

```go
func (h *IntegrationTestHelper) AddOrchestrator(name string, orch *AdvancedMockOrchestrator)
```

<a name="IntegrationTestHelper.GetMetrics"></a>
### func (*IntegrationTestHelper) [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L680>)

```go
func (h *IntegrationTestHelper) GetMetrics() *MockMetricsRecorder
```

<a name="IntegrationTestHelper.GetOrchestrator"></a>
### func (*IntegrationTestHelper) [GetOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L676>)

```go
func (h *IntegrationTestHelper) GetOrchestrator(name string) *AdvancedMockOrchestrator
```

<a name="IntegrationTestHelper.Reset"></a>
### func (*IntegrationTestHelper) [Reset](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L684>)

```go
func (h *IntegrationTestHelper) Reset()
```

<a name="MetricRecord"></a>
## type [MetricRecord](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L331-L337>)

```go
type MetricRecord struct {
    Timestamp time.Time
    Value     any
    Labels    map[string]string
    Operation string
    Type      string
}
```

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L15-L41>)

Metrics holds all orchestration-related metrics.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L393>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance. This follows the standard pattern used across all Beluga AI packages.

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L44>)

```go
func NewMetrics(meter metric.Meter, tracer trace.Tracer) (*Metrics, error)
```

NewMetrics creates a new metrics instance with OTEL instrumentation.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L399>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.RecordChainActive"></a>
### func (*Metrics) [RecordChainActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L223>)

```go
func (m *Metrics) RecordChainActive(ctx context.Context, delta int64, chainName string)
```

RecordChainActive records active chain count changes.

<a name="Metrics.RecordChainExecution"></a>
### func (*Metrics) [RecordChainExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L192>)

```go
func (m *Metrics) RecordChainExecution(ctx context.Context, duration time.Duration, success bool, chainName string)
```

RecordChainExecution records a chain execution.

<a name="Metrics.RecordGraphActive"></a>
### func (*Metrics) [RecordGraphActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L270>)

```go
func (m *Metrics) RecordGraphActive(ctx context.Context, delta int64, graphName string)
```

RecordGraphActive records active graph count changes.

<a name="Metrics.RecordGraphExecution"></a>
### func (*Metrics) [RecordGraphExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L236>)

```go
func (m *Metrics) RecordGraphExecution(ctx context.Context, duration time.Duration, success bool, graphName string, nodeCount int)
```

RecordGraphExecution records a graph execution.

<a name="Metrics.RecordWorkflowActive"></a>
### func (*Metrics) [RecordWorkflowActive](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L314>)

```go
func (m *Metrics) RecordWorkflowActive(ctx context.Context, delta int64, workflowName string)
```

RecordWorkflowActive records active workflow count changes.

<a name="Metrics.RecordWorkflowExecution"></a>
### func (*Metrics) [RecordWorkflowExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L283>)

```go
func (m *Metrics) RecordWorkflowExecution(ctx context.Context, duration time.Duration, success bool, workflowName string)
```

RecordWorkflowExecution records a workflow execution.

<a name="Metrics.StartChainSpan"></a>
### func (*Metrics) [StartChainSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L327>)

```go
func (m *Metrics) StartChainSpan(ctx context.Context, chainName, operation string) (context.Context, trace.Span)
```

StartChainSpan starts a new span for chain execution.

<a name="Metrics.StartGraphSpan"></a>
### func (*Metrics) [StartGraphSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L341>)

```go
func (m *Metrics) StartGraphSpan(ctx context.Context, graphName, operation string) (context.Context, trace.Span)
```

StartGraphSpan starts a new span for graph execution.

<a name="Metrics.StartWorkflowSpan"></a>
### func (*Metrics) [StartWorkflowSpan](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/metrics.go#L355>)

```go
func (m *Metrics) StartWorkflowSpan(ctx context.Context, workflowName, operation string) (context.Context, trace.Span)
```

StartWorkflowSpan starts a new span for workflow execution.

<a name="MockMetricsRecorder"></a>
## type [MockMetricsRecorder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L325-L329>)

MockMetricsRecorder provides a mock metrics collector for testing.

```go
type MockMetricsRecorder struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewMockMetricsRecorder"></a>
### func [NewMockMetricsRecorder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L339>)

```go
func NewMockMetricsRecorder() *MockMetricsRecorder
```

<a name="MockMetricsRecorder.Clear"></a>
### func (*MockMetricsRecorder) [Clear](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L392>)

```go
func (m *MockMetricsRecorder) Clear()
```

<a name="MockMetricsRecorder.GetRecordings"></a>
### func (*MockMetricsRecorder) [GetRecordings](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L384>)

```go
func (m *MockMetricsRecorder) GetRecordings() []MetricRecord
```

<a name="MockMetricsRecorder.RecordChainExecution"></a>
### func (*MockMetricsRecorder) [RecordChainExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L345>)

```go
func (m *MockMetricsRecorder) RecordChainExecution(ctx context.Context, duration time.Duration, success bool, chainName string)
```

<a name="MockMetricsRecorder.RecordGraphExecution"></a>
### func (*MockMetricsRecorder) [RecordGraphExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L358>)

```go
func (m *MockMetricsRecorder) RecordGraphExecution(ctx context.Context, duration time.Duration, success bool, graphName string, nodeCount int)
```

<a name="MockMetricsRecorder.RecordWorkflowExecution"></a>
### func (*MockMetricsRecorder) [RecordWorkflowExecution](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L371>)

```go
func (m *MockMetricsRecorder) RecordWorkflowExecution(ctx context.Context, duration time.Duration, success bool, workflowName string)
```

<a name="MockOrchestratorOption"></a>
## type [MockOrchestratorOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L106>)

MockOrchestratorOption defines functional options for mock configuration.

```go
type MockOrchestratorOption func(*AdvancedMockOrchestrator)
```

<a name="WithEdges"></a>
### func [WithEdges](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L138>)

```go
func WithEdges(edges map[string][]string) MockOrchestratorOption
```

WithEdges sets the edges for the mock orchestrator.

<a name="WithExecutionDelay"></a>
### func [WithExecutionDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L124>)

```go
func WithExecutionDelay(delay time.Duration) MockOrchestratorOption
```

WithExecutionDelay adds artificial delay to mock operations.

<a name="WithMockContextCanceledError"></a>
### func [WithMockContextCanceledError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L188>)

```go
func WithMockContextCanceledError(op string) MockOrchestratorOption
```

WithMockContextCanceledError configures the mock to return a context canceled error.

<a name="WithMockContextTimeoutError"></a>
### func [WithMockContextTimeoutError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L193>)

```go
func WithMockContextTimeoutError(op string) MockOrchestratorOption
```

WithMockContextTimeoutError configures the mock to return a context timeout error.

<a name="WithMockDependencyError"></a>
### func [WithMockDependencyError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L198>)

```go
func WithMockDependencyError(op string) MockOrchestratorOption
```

WithMockDependencyError configures the mock to return a dependency error.

<a name="WithMockError"></a>
### func [WithMockError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L116>)

```go
func WithMockError(shouldError bool, err error) MockOrchestratorOption
```

WithMockError configures the mock to return errors.

<a name="WithMockErrorCode"></a>
### func [WithMockErrorCode](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L146>)

```go
func WithMockErrorCode(op, code string) MockOrchestratorOption
```

WithMockErrorCode configures the mock to return an OrchestrationError with a specific error code. This is a convenience function for creating common error scenarios.

<a name="WithMockExecutionFailedError"></a>
### func [WithMockExecutionFailedError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L178>)

```go
func WithMockExecutionFailedError(op string) MockOrchestratorOption
```

WithMockExecutionFailedError configures the mock to return an execution failed error.

<a name="WithMockInvalidConfigError"></a>
### func [WithMockInvalidConfigError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L163>)

```go
func WithMockInvalidConfigError(op string) MockOrchestratorOption
```

WithMockInvalidConfigError configures the mock to return an invalid config error.

<a name="WithMockInvalidInputError"></a>
### func [WithMockInvalidInputError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L168>)

```go
func WithMockInvalidInputError(op string) MockOrchestratorOption
```

WithMockInvalidInputError configures the mock to return an invalid input error.

<a name="WithMockInvalidStateError"></a>
### func [WithMockInvalidStateError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L208>)

```go
func WithMockInvalidStateError(op string) MockOrchestratorOption
```

WithMockInvalidStateError configures the mock to return an invalid state error.

<a name="WithMockOrchestratorError"></a>
### func [WithMockOrchestratorError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L155>)

```go
func WithMockOrchestratorError(op, code string, underlyingErr error) MockOrchestratorOption
```

WithMockOrchestratorError configures the mock to return an iface.OrchestratorError with a specific error code. This supports both orchestration package errors and iface errors.

<a name="WithMockResourceExhaustedError"></a>
### func [WithMockResourceExhaustedError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L203>)

```go
func WithMockResourceExhaustedError(op string) MockOrchestratorOption
```

WithMockResourceExhaustedError configures the mock to return a resource exhausted error.

<a name="WithMockResponses"></a>
### func [WithMockResponses](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L109>)

```go
func WithMockResponses(responses []any) MockOrchestratorOption
```

WithMockResponses sets predefined responses for the mock.

<a name="WithMockSchedulingFailedError"></a>
### func [WithMockSchedulingFailedError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L173>)

```go
func WithMockSchedulingFailedError(op string) MockOrchestratorOption
```

WithMockSchedulingFailedError configures the mock to return a scheduling failed error.

<a name="WithMockTaskNotFoundError"></a>
### func [WithMockTaskNotFoundError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L218>)

```go
func WithMockTaskNotFoundError(op string) MockOrchestratorOption
```

WithMockTaskNotFoundError configures the mock to return a task not found error.

<a name="WithMockTimeoutError"></a>
### func [WithMockTimeoutError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L183>)

```go
func WithMockTimeoutError(op string) MockOrchestratorOption
```

WithMockTimeoutError configures the mock to return a timeout error.

<a name="WithMockWorkflowNotFoundError"></a>
### func [WithMockWorkflowNotFoundError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L213>)

```go
func WithMockWorkflowNotFoundError(op string) MockOrchestratorOption
```

WithMockWorkflowNotFoundError configures the mock to return a workflow not found error.

<a name="WithNodes"></a>
### func [WithNodes](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L131>)

```go
func WithNodes(nodes []string) MockOrchestratorOption
```

WithNodes sets the nodes for the mock orchestrator.

<a name="ObservabilityConfig"></a>
## type [ObservabilityConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L38-L43>)

ObservabilityConfig holds observability-related configuration.

```go
type ObservabilityConfig struct {
    MetricsPrefix       string        `mapstructure:"metrics_prefix" yaml:"metrics_prefix" default:"beluga_orchestration"`
    HealthCheckInterval time.Duration `mapstructure:"health_check_interval" yaml:"health_check_interval" default:"30s"`
    EnableMetrics       bool          `mapstructure:"enable_metrics" yaml:"enable_metrics" default:"true"`
    EnableTracing       bool          `mapstructure:"enable_tracing" yaml:"enable_tracing" default:"true"`
}
```

<a name="Option"></a>
## type [Option](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L127>)

Option represents a functional option for configuring the orchestrator.

```go
type Option func(*Config) error
```

<a name="WithChainTimeout"></a>
### func [WithChainTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L130>)

```go
func WithChainTimeout(timeout time.Duration) Option
```

WithChainTimeout sets the default chain timeout.

<a name="WithFeatures"></a>
### func [WithFeatures](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L174>)

```go
func WithFeatures(features EnabledFeatures) Option
```

WithFeatures enables/disables specific features.

<a name="WithGraphMaxWorkers"></a>
### func [WithGraphMaxWorkers](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L141>)

```go
func WithGraphMaxWorkers(workers int) Option
```

WithGraphMaxWorkers sets the maximum number of workers for graph execution.

<a name="WithMetricsPrefix"></a>
### func [WithMetricsPrefix](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L163>)

```go
func WithMetricsPrefix(prefix string) Option
```

WithMetricsPrefix sets the metrics prefix.

<a name="WithWorkflowTaskQueue"></a>
### func [WithWorkflowTaskQueue](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L152>)

```go
func WithWorkflowTaskQueue(queue string) Option
```

WithWorkflowTaskQueue sets the workflow task queue.

<a name="OrchestrationContainer"></a>
## type [OrchestrationContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L81-L83>)

OrchestrationContainer provides DI for orchestration components.

```go
type OrchestrationContainer struct {
    // contains filtered or unexported fields
}
```

<a name="NewOrchestrationContainer"></a>
### func [NewOrchestrationContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L86>)

```go
func NewOrchestrationContainer() *OrchestrationContainer
```

NewOrchestrationContainer creates a new orchestration DI container.

<a name="OrchestrationContainer.BuildChain"></a>
### func (*OrchestrationContainer) [BuildChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L100>)

```go
func (oc *OrchestrationContainer) BuildChain(steps []core.Runnable, memory memory.Memory) (*SimpleChain, error)
```

BuildChain builds a chain using DI.

<a name="OrchestrationContainer.GetContainer"></a>
### func (*OrchestrationContainer) [GetContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L112>)

```go
func (oc *OrchestrationContainer) GetContainer() core.Container
```

GetContainer returns the underlying DI container.

<a name="OrchestrationContainer.RegisterComponent"></a>
### func (*OrchestrationContainer) [RegisterComponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L107>)

```go
func (oc *OrchestrationContainer) RegisterComponent(factoryFunc any) error
```

RegisterComponent registers a custom component factory.

<a name="OrchestrationError"></a>
## type [OrchestrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L29-L34>)

OrchestrationError represents an error that occurred during orchestration operations.

```go
type OrchestrationError struct {
    Op      string // operation that failed
    Err     error  // underlying error
    Code    string // error code for programmatic handling
    Message string // human-readable message
}
```

<a name="AsOrchestrationError"></a>
### func [AsOrchestrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L78>)

```go
func AsOrchestrationError(err error) (*OrchestrationError, bool)
```

AsOrchestrationError attempts to convert an error to an OrchestrationError.

<a name="NewOrchestrationError"></a>
### func [NewOrchestrationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L53>)

```go
func NewOrchestrationError(op, code string, err error) *OrchestrationError
```

NewOrchestrationError creates a new OrchestrationError.

<a name="NewOrchestrationErrorWithMessage"></a>
### func [NewOrchestrationErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L62>)

```go
func NewOrchestrationErrorWithMessage(op, code, message string, err error) *OrchestrationError
```

NewOrchestrationErrorWithMessage creates a new OrchestrationError with a custom message.

<a name="OrchestrationError.Error"></a>
### func (*OrchestrationError) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L37>)

```go
func (e *OrchestrationError) Error() string
```

Error implements the error interface.

<a name="OrchestrationError.Unwrap"></a>
### func (*OrchestrationError) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/errors.go#L48>)

```go
func (e *OrchestrationError) Unwrap() error
```

Unwrap returns the underlying error.

<a name="Orchestrator"></a>
## type [Orchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L70-L78>)

Orchestrator implements the main orchestration interface.

```go
type Orchestrator struct {
    // contains filtered or unexported fields
}
```

<a name="NewDefaultOrchestrator"></a>
### func [NewDefaultOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L174>)

```go
func NewDefaultOrchestrator() (*Orchestrator, error)
```

NewDefaultOrchestrator creates a new orchestrator with default configuration. This provides sensible defaults for most use cases while allowing customization.

Returns:

- *Orchestrator: A new orchestrator instance with default settings
- error: Initialization errors

Example:

```
orchestrator, err := orchestration.NewDefaultOrchestrator()
if err != nil {
    log.Fatal(err)
}
```

Example usage can be found in examples/orchestration/chain/main.go

<a name="NewOrchestrator"></a>
### func [NewOrchestrator](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L100>)

```go
func NewOrchestrator(config *Config) (*Orchestrator, error)
```

NewOrchestrator creates a new orchestrator with the given configuration. The orchestrator manages chains, graphs, and workflows with full observability.

Parameters:

- config: Orchestration configuration (timeouts, retries, observability settings)

Returns:

- *Orchestrator: A new orchestrator instance
- error: Configuration validation errors or initialization errors

Example:

```
config := orchestration.DefaultConfig()
orchestrator, err := orchestration.NewOrchestrator(config)
if err != nil {
    log.Fatal(err)
}
chain, err := orchestrator.CreateChain(steps)
```

Example usage can be found in examples/orchestration/chain/main.go

<a name="NewOrchestratorWithOptions"></a>
### func [NewOrchestratorWithOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L150>)

```go
func NewOrchestratorWithOptions(opts ...Option) (*Orchestrator, error)
```

NewOrchestratorWithOptions creates a new orchestrator with functional options. This is a convenience function that builds configuration from options.

Parameters:

- opts: Optional configuration functions (WithTimeout, WithRetries, etc.)

Returns:

- *Orchestrator: A new orchestrator instance
- error: Configuration or initialization errors

Example:

```
orchestrator, err := orchestration.NewOrchestratorWithOptions(
    orchestration.WithTimeout(30*time.Second),
    orchestration.WithRetries(3),
)
```

Example usage can be found in examples/orchestration/chain/main.go

<a name="Orchestrator.Check"></a>
### func (*Orchestrator) [Check](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L339>)

```go
func (o *Orchestrator) Check(ctx context.Context) error
```

Health check implementation.

<a name="Orchestrator.CreateChain"></a>
### func (*Orchestrator) [CreateChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L180>)

```go
func (o *Orchestrator) CreateChain(steps []core.Runnable, opts ...iface.ChainOption) (iface.Chain, error)
```

CreateChain creates a new chain orchestration.

<a name="Orchestrator.CreateGraph"></a>
### func (*Orchestrator) [CreateGraph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L246>)

```go
func (o *Orchestrator) CreateGraph(opts ...iface.GraphOption) (iface.Graph, error)
```

CreateGraph creates a new graph orchestration. Graphs execute runnable components in a directed acyclic graph (DAG) structure, allowing for parallel execution and complex workflows.

Parameters:

- opts: Graph configuration options (WithGraphName, WithGraphNode, WithGraphEdge, etc.)

Returns:

- iface.Graph: A new graph instance ready to execute
- error: Configuration errors or if graphs are disabled

Example:

```
graph, err := orchestrator.CreateGraph(
    orchestration.WithGraphName("my-graph"),
    orchestration.WithGraphNode("node1", runnable1),
    orchestration.WithGraphNode("node2", runnable2),
    orchestration.WithGraphEdge("node1", "node2"),
)
result, err := graph.Invoke(ctx, input)
```

Example usage can be found in examples/orchestration/workflow/main.go

<a name="Orchestrator.CreateWorkflow"></a>
### func (*Orchestrator) [CreateWorkflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L288>)

```go
func (o *Orchestrator) CreateWorkflow(workflowFn any, opts ...iface.WorkflowOption) (iface.Workflow, error)
```

CreateWorkflow creates a new workflow orchestration.

<a name="Orchestrator.GetMetrics"></a>
### func (*Orchestrator) [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator.go#L330>)

```go
func (o *Orchestrator) GetMetrics() iface.OrchestratorMetrics
```

GetMetrics returns orchestration metrics.

<a name="SimpleChain"></a>
## type [SimpleChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L82-L85>)

SimpleChain provides a basic implementation of the Chain interface.

```go
type SimpleChain struct {
    Mem   memory.Memory
    Steps []core.Runnable
}
```

<a name="NewSimpleChain"></a>
### func [NewSimpleChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L88>)

```go
func NewSimpleChain(steps []core.Runnable, mem memory.Memory) *SimpleChain
```

NewSimpleChain creates a new SimpleChain.

<a name="NewSimpleChainWithOptions"></a>
### func [NewSimpleChainWithOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L41>)

```go
func NewSimpleChainWithOptions(options ...SimpleChainOption) *SimpleChain
```

NewSimpleChainWithOptions creates a new SimpleChain with functional options.

<a name="SimpleChain.Batch"></a>
### func (*SimpleChain) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L193>)

```go
func (c *SimpleChain) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

<a name="SimpleChain.GetInputKeys"></a>
### func (*SimpleChain) [GetInputKeys](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L95>)

```go
func (c *SimpleChain) GetInputKeys() []string
```

<a name="SimpleChain.GetMemory"></a>
### func (*SimpleChain) [GetMemory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L105>)

```go
func (c *SimpleChain) GetMemory() memory.Memory
```

<a name="SimpleChain.GetOutputKeys"></a>
### func (*SimpleChain) [GetOutputKeys](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L100>)

```go
func (c *SimpleChain) GetOutputKeys() []string
```

<a name="SimpleChain.Invoke"></a>
### func (*SimpleChain) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L109>)

```go
func (c *SimpleChain) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

<a name="SimpleChain.Stream"></a>
### func (*SimpleChain) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L206>)

```go
func (c *SimpleChain) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

<a name="SimpleChainConfig"></a>
## type [SimpleChainConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L13-L16>)

SimpleChainConfig holds configuration for SimpleChain.

```go
type SimpleChainConfig struct {
    Memory memory.Memory
    Steps  []core.Runnable
}
```

<a name="DefaultSimpleChainConfig"></a>
### func [DefaultSimpleChainConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L33>)

```go
func DefaultSimpleChainConfig() *SimpleChainConfig
```

DefaultSimpleChainConfig returns default configuration.

<a name="SimpleChainOption"></a>
## type [SimpleChainOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L10>)

SimpleChainOption represents a functional option for configuring SimpleChain.

```go
type SimpleChainOption func(*SimpleChainConfig)
```

<a name="WithMemory"></a>
### func [WithMemory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L26>)

```go
func WithMemory(mem memory.Memory) SimpleChainOption
```

WithMemory sets the memory component.

<a name="WithSteps"></a>
### func [WithSteps](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L19>)

```go
func WithSteps(steps ...core.Runnable) SimpleChainOption
```

WithSteps sets the chain steps.

<a name="SimpleMockcomponent"></a>
## type [SimpleMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/simple_mock.go#L8-L10>)

SimpleMockcomponent is a mock implementation of Interface.

```go
type SimpleMockcomponent struct {
    mock.Mock
}
```

<a name="NewSimpleMockcomponent"></a>
### func [NewSimpleMockcomponent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/simple_mock.go#L13>)

```go
func NewSimpleMockcomponent() *SimpleMockcomponent
```

NewSimpleMockcomponent creates a new SimpleMockcomponent.

<a name="TestChain"></a>
## type [TestChain](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L408-L411>)

```go
type TestChain struct {
    // contains filtered or unexported fields
}
```

<a name="TestChain.Batch"></a>
### func (*TestChain) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L419>)

```go
func (c *TestChain) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

<a name="TestChain.GetInputKeys"></a>
### func (*TestChain) [GetInputKeys](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L435>)

```go
func (c *TestChain) GetInputKeys() []string
```

<a name="TestChain.GetMemory"></a>
### func (*TestChain) [GetMemory](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L437>)

```go
func (c *TestChain) GetMemory() memoryiface.Memory
```

<a name="TestChain.GetName"></a>
### func (*TestChain) [GetName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L413>)

```go
func (c *TestChain) GetName() string
```

<a name="TestChain.GetOutputKeys"></a>
### func (*TestChain) [GetOutputKeys](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L436>)

```go
func (c *TestChain) GetOutputKeys() []string
```

<a name="TestChain.GetSteps"></a>
### func (*TestChain) [GetSteps](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L414>)

```go
func (c *TestChain) GetSteps() []string
```

<a name="TestChain.Invoke"></a>
### func (*TestChain) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L415>)

```go
func (c *TestChain) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

<a name="TestChain.Stream"></a>
### func (*TestChain) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L427>)

```go
func (c *TestChain) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

<a name="TestGraph"></a>
## type [TestGraph](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L448-L452>)

```go
type TestGraph struct {
    // contains filtered or unexported fields
}
```

<a name="TestGraph.AddEdge"></a>
### func (*TestGraph) [AddEdge](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L483>)

```go
func (g *TestGraph) AddEdge(sourceNode, targetNode string) error
```

<a name="TestGraph.AddNode"></a>
### func (*TestGraph) [AddNode](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L478>)

```go
func (g *TestGraph) AddNode(name string, runnable core.Runnable) error
```

<a name="TestGraph.Batch"></a>
### func (*TestGraph) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L461>)

```go
func (g *TestGraph) Batch(ctx context.Context, inputs []any, options ...core.Option) ([]any, error)
```

<a name="TestGraph.GetEdges"></a>
### func (*TestGraph) [GetEdges](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L456>)

```go
func (g *TestGraph) GetEdges() map[string][]string
```

<a name="TestGraph.GetName"></a>
### func (*TestGraph) [GetName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L454>)

```go
func (g *TestGraph) GetName() string
```

<a name="TestGraph.GetNodes"></a>
### func (*TestGraph) [GetNodes](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L455>)

```go
func (g *TestGraph) GetNodes() []string
```

<a name="TestGraph.Invoke"></a>
### func (*TestGraph) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L457>)

```go
func (g *TestGraph) Invoke(ctx context.Context, input any, options ...core.Option) (any, error)
```

<a name="TestGraph.SetEntryPoint"></a>
### func (*TestGraph) [SetEntryPoint](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L490>)

```go
func (g *TestGraph) SetEntryPoint(nodeNames []string) error
```

<a name="TestGraph.SetFinishPoint"></a>
### func (*TestGraph) [SetFinishPoint](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L491>)

```go
func (g *TestGraph) SetFinishPoint(nodeNames []string) error
```

<a name="TestGraph.Stream"></a>
### func (*TestGraph) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L469>)

```go
func (g *TestGraph) Stream(ctx context.Context, input any, options ...core.Option) (<-chan any, error)
```

<a name="TestWorkflow"></a>
## type [TestWorkflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L501-L504>)

```go
type TestWorkflow struct {
    // contains filtered or unexported fields
}
```

<a name="TestWorkflow.Cancel"></a>
### func (*TestWorkflow) [Cancel](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L526>)

```go
func (w *TestWorkflow) Cancel(ctx context.Context, workflowID, runID string) error
```

<a name="TestWorkflow.Execute"></a>
### func (*TestWorkflow) [Execute](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L508>)

```go
func (w *TestWorkflow) Execute(ctx context.Context, input any) (string, string, error)
```

<a name="TestWorkflow.GetName"></a>
### func (*TestWorkflow) [GetName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L506>)

```go
func (w *TestWorkflow) GetName() string
```

<a name="TestWorkflow.GetResult"></a>
### func (*TestWorkflow) [GetResult](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L514>)

```go
func (w *TestWorkflow) GetResult(ctx context.Context, workflowID, runID string) (any, error)
```

<a name="TestWorkflow.GetTasks"></a>
### func (*TestWorkflow) [GetTasks](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L507>)

```go
func (w *TestWorkflow) GetTasks() []string
```

<a name="TestWorkflow.Query"></a>
### func (*TestWorkflow) [Query](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L522>)

```go
func (w *TestWorkflow) Query(ctx context.Context, workflowID, runID, queryType string, args ...any) (any, error)
```

<a name="TestWorkflow.Signal"></a>
### func (*TestWorkflow) [Signal](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L518>)

```go
func (w *TestWorkflow) Signal(ctx context.Context, workflowID, runID, signalName string, data any) error
```

<a name="TestWorkflow.Terminate"></a>
### func (*TestWorkflow) [Terminate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/test_utils.go#L530>)

```go
func (w *TestWorkflow) Terminate(ctx context.Context, workflowID, runID, reason string, details ...any) error
```

<a name="Workflow"></a>
## type [Workflow](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/orchestrator_base.go#L48-L69>)

Workflow represents a long-running, potentially distributed orchestration. This interface can be implemented using systems like Temporal.

```go
type Workflow interface {
    // Execute starts the workflow execution.
    // Input can be specific to the workflow definition.
    // Returns a unique ID for the workflow instance and an error.
    Execute(ctx context.Context, input any) (workflowID, runID string, err error)

    // GetResult retrieves the final result of a completed workflow instance.
    // Blocks until the workflow completes or the context times out.
    GetResult(ctx context.Context, workflowID, runID string) (any, error)

    // Signal sends a signal to a running workflow instance.
    Signal(ctx context.Context, workflowID, runID, signalName string, data any) error

    // Query queries the state of a running workflow instance.
    Query(ctx context.Context, workflowID, runID, queryType string, args ...any) (any, error)

    // Cancel requests cancellation of a running workflow instance.
    Cancel(ctx context.Context, workflowID, runID string) error

    // Terminate forcefully stops a running workflow instance.
    Terminate(ctx context.Context, workflowID, runID, reason string, details ...any) error
}
```

<a name="WorkflowBuilder"></a>
## type [WorkflowBuilder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L165-L167>)

WorkflowBuilder provides a fluent interface for building workflows.

```go
type WorkflowBuilder struct {
    // contains filtered or unexported fields
}
```

<a name="NewWorkflowBuilder"></a>
### func [NewWorkflowBuilder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L170>)

```go
func NewWorkflowBuilder() *WorkflowBuilder
```

NewWorkflowBuilder creates a new workflow builder.

<a name="WorkflowBuilder.Build"></a>
### func (*WorkflowBuilder) [Build](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L207>)

```go
func (b *WorkflowBuilder) Build() *iface.WorkflowConfig
```

Build creates a workflow configuration (placeholder for future workflow implementation).

<a name="WorkflowBuilder.WithContainer"></a>
### func (*WorkflowBuilder) [WithContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L201>)

```go
func (b *WorkflowBuilder) WithContainer(container core.Container) *WorkflowBuilder
```

WithContainer sets the DI container.

<a name="WorkflowBuilder.WithDescription"></a>
### func (*WorkflowBuilder) [WithDescription](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L183>)

```go
func (b *WorkflowBuilder) WithDescription(description string) *WorkflowBuilder
```

WithDescription sets the workflow description.

<a name="WorkflowBuilder.WithName"></a>
### func (*WorkflowBuilder) [WithName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L177>)

```go
func (b *WorkflowBuilder) WithName(name string) *WorkflowBuilder
```

WithName sets the workflow name.

<a name="WorkflowBuilder.WithRetries"></a>
### func (*WorkflowBuilder) [WithRetries](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L195>)

```go
func (b *WorkflowBuilder) WithRetries(retries int) *WorkflowBuilder
```

WithRetries sets the retry count.

<a name="WorkflowBuilder.WithTimeout"></a>
### func (*WorkflowBuilder) [WithTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L189>)

```go
func (b *WorkflowBuilder) WithTimeout(timeout int) *WorkflowBuilder
```

WithTimeout sets the workflow timeout.

<a name="WorkflowConfig"></a>
## type [WorkflowConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/config.go#L46-L52>)

WorkflowConfig holds configuration specific to workflow orchestration.

```go
type WorkflowConfig struct {
    TaskQueue              string        `mapstructure:"task_queue" yaml:"task_queue" validate:"required,min=1,max=255" default:"beluga-workflows"`
    DefaultTimeout         time.Duration `mapstructure:"default_timeout" yaml:"default_timeout" validate:"min=1ns,max=24h" default:"30m"`
    DefaultRetries         int           `mapstructure:"default_retries" yaml:"default_retries" validate:"min=0,max=20" default:"5"`
    MaxConcurrentWorkflows int           `mapstructure:"max_concurrent_workflows" yaml:"max_concurrent_workflows" validate:"min=1,max=1000" default:"50"`
    EnablePersistence      bool          `mapstructure:"enable_persistence" yaml:"enable_persistence" default:"false"`
}
```

<a name="WorkflowOption"></a>
## type [WorkflowOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L117>)

WorkflowOption represents a functional option for workflow configuration.

```go
type WorkflowOption func(*iface.WorkflowConfig)
```

<a name="WithWorkflowContainer"></a>
### func [WithWorkflowContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L148>)

```go
func WithWorkflowContainer(container core.Container) WorkflowOption
```

WithWorkflowContainer sets the DI container.

<a name="WithWorkflowDescription"></a>
### func [WithWorkflowDescription](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L127>)

```go
func WithWorkflowDescription(description string) WorkflowOption
```

WithWorkflowDescription sets the workflow description.

<a name="WithWorkflowName"></a>
### func [WithWorkflowName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L120>)

```go
func WithWorkflowName(name string) WorkflowOption
```

WithWorkflowName sets the workflow name.

<a name="WithWorkflowRetries"></a>
### func [WithWorkflowRetries](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L141>)

```go
func WithWorkflowRetries(retries int) WorkflowOption
```

WithWorkflowRetries sets the workflow retry count.

<a name="WithWorkflowTimeout"></a>
### func [WithWorkflowTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/orchestration/options.go#L134>)

```go
func WithWorkflowTimeout(timeout int) WorkflowOption
```

WithWorkflowTimeout sets the workflow timeout.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
