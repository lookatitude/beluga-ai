---
title: transport
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# transport

```go
import "github.com/lookatitude/beluga-ai/pkg/voice/transport"
```

Package transport provides advanced test utilities and comprehensive mocks for testing Transport implementations.

Package transport provides interfaces and implementations for audio transport. This package follows the Beluga AI Framework's design patterns for consistency, extensibility, configuration management, and observability.

## Index

- [Constants](<#constants>)
- [func AssertTransportInterface\(t \*testing.T, transport iface.Transport\)](<#AssertTransportInterface>)
- [func InitMetrics\(meter metric.Meter\)](<#InitMetrics>)
- [func IsRetryableError\(err error\) bool](<#IsRetryableError>)
- [func NewProvider\(ctx context.Context, providerName string, config \*Config, opts ...ConfigOption\) \(iface.Transport, error\)](<#NewProvider>)
- [type AdvancedMockTransport](<#AdvancedMockTransport>)
  - [func NewAdvancedMockTransport\(transportName string, opts ...MockOption\) \*AdvancedMockTransport](<#NewAdvancedMockTransport>)
  - [func \(m \*AdvancedMockTransport\) Close\(\) error](<#AdvancedMockTransport.Close>)
  - [func \(m \*AdvancedMockTransport\) Connect\(ctx context.Context\) error](<#AdvancedMockTransport.Connect>)
  - [func \(m \*AdvancedMockTransport\) Disconnect\(ctx context.Context\) error](<#AdvancedMockTransport.Disconnect>)
  - [func \(m \*AdvancedMockTransport\) GetCallCount\(\) int](<#AdvancedMockTransport.GetCallCount>)
  - [func \(m \*AdvancedMockTransport\) IsConnected\(\) bool](<#AdvancedMockTransport.IsConnected>)
  - [func \(m \*AdvancedMockTransport\) OnAudioReceived\(callback func\(audio \[\]byte\)\)](<#AdvancedMockTransport.OnAudioReceived>)
  - [func \(m \*AdvancedMockTransport\) ReceiveAudio\(\) \<\-chan \[\]byte](<#AdvancedMockTransport.ReceiveAudio>)
  - [func \(m \*AdvancedMockTransport\) SendAudio\(ctx context.Context, audio \[\]byte\) error](<#AdvancedMockTransport.SendAudio>)
- [type Config](<#Config>)
  - [func DefaultConfig\(\) \*Config](<#DefaultConfig>)
  - [func \(c \*Config\) Validate\(\) error](<#Config.Validate>)
- [type ConfigOption](<#ConfigOption>)
  - [func WithChannels\(channels int\) ConfigOption](<#WithChannels>)
  - [func WithCodec\(codec string\) ConfigOption](<#WithCodec>)
  - [func WithConnectTimeout\(timeout time.Duration\) ConfigOption](<#WithConnectTimeout>)
  - [func WithProvider\(provider string\) ConfigOption](<#WithProvider>)
  - [func WithSampleRate\(sampleRate int\) ConfigOption](<#WithSampleRate>)
  - [func WithURL\(url string\) ConfigOption](<#WithURL>)
- [type Metrics](<#Metrics>)
  - [func GetMetrics\(\) \*Metrics](<#GetMetrics>)
  - [func NewMetrics\(meter metric.Meter\) \*Metrics](<#NewMetrics>)
  - [func \(m \*Metrics\) DecrementConnections\(ctx context.Context, provider string\)](<#Metrics.DecrementConnections>)
  - [func \(m \*Metrics\) IncrementConnections\(ctx context.Context, provider string\)](<#Metrics.IncrementConnections>)
  - [func \(m \*Metrics\) RecordAudioReceived\(ctx context.Context, provider string, bytes int64\)](<#Metrics.RecordAudioReceived>)
  - [func \(m \*Metrics\) RecordAudioSent\(ctx context.Context, provider string, bytes int64\)](<#Metrics.RecordAudioSent>)
  - [func \(m \*Metrics\) RecordConnection\(ctx context.Context, provider string, duration time.Duration, success bool\)](<#Metrics.RecordConnection>)
  - [func \(m \*Metrics\) RecordDisconnection\(ctx context.Context, provider string, duration time.Duration\)](<#Metrics.RecordDisconnection>)
  - [func \(m \*Metrics\) RecordError\(ctx context.Context, provider, errorCode string, duration time.Duration\)](<#Metrics.RecordError>)
- [type MetricsRecorder](<#MetricsRecorder>)
- [type MockOption](<#MockOption>)
  - [func WithAudioData\(data ...\[\]byte\) MockOption](<#WithAudioData>)
  - [func WithConnected\(connected bool\) MockOption](<#WithConnected>)
  - [func WithError\(err error\) MockOption](<#WithError>)
  - [func WithNetworkDelay\(enabled bool\) MockOption](<#WithNetworkDelay>)
  - [func WithProcessingDelay\(delay time.Duration\) MockOption](<#WithProcessingDelay>)
  - [func WithTransportName\(name string\) MockOption](<#WithTransportName>)
- [type NoOpMetrics](<#NoOpMetrics>)
  - [func NewNoOpMetrics\(\) \*NoOpMetrics](<#NewNoOpMetrics>)
  - [func \(n \*NoOpMetrics\) DecrementConnections\(ctx context.Context, provider string\)](<#NoOpMetrics.DecrementConnections>)
  - [func \(n \*NoOpMetrics\) IncrementConnections\(ctx context.Context, provider string\)](<#NoOpMetrics.IncrementConnections>)
  - [func \(n \*NoOpMetrics\) RecordAudioReceived\(ctx context.Context, provider string, bytes int64\)](<#NoOpMetrics.RecordAudioReceived>)
  - [func \(n \*NoOpMetrics\) RecordAudioSent\(ctx context.Context, provider string, bytes int64\)](<#NoOpMetrics.RecordAudioSent>)
  - [func \(n \*NoOpMetrics\) RecordConnection\(ctx context.Context, provider string, duration time.Duration, success bool\)](<#NoOpMetrics.RecordConnection>)
  - [func \(n \*NoOpMetrics\) RecordDisconnection\(ctx context.Context, provider string, duration time.Duration\)](<#NoOpMetrics.RecordDisconnection>)
  - [func \(n \*NoOpMetrics\) RecordError\(ctx context.Context, provider, errorCode string, duration time.Duration\)](<#NoOpMetrics.RecordError>)
- [type Registry](<#Registry>)
  - [func GetRegistry\(\) \*Registry](<#GetRegistry>)
  - [func \(r \*Registry\) GetProvider\(name string, config \*Config\) \(iface.Transport, error\)](<#Registry.GetProvider>)
  - [func \(r \*Registry\) IsRegistered\(name string\) bool](<#Registry.IsRegistered>)
  - [func \(r \*Registry\) ListProviders\(\) \[\]string](<#Registry.ListProviders>)
  - [func \(r \*Registry\) Register\(name string, factory func\(\*Config\) \(iface.Transport, error\)\)](<#Registry.Register>)
- [type TransportError](<#TransportError>)
  - [func NewTransportError\(op, code string, err error\) \*TransportError](<#NewTransportError>)
  - [func NewTransportErrorWithDetails\(op, code, message string, err error, details map\[string\]interface\{\}\) \*TransportError](<#NewTransportErrorWithDetails>)
  - [func NewTransportErrorWithMessage\(op, code, message string, err error\) \*TransportError](<#NewTransportErrorWithMessage>)
  - [func \(e \*TransportError\) Error\(\) string](<#TransportError.Error>)
  - [func \(e \*TransportError\) Unwrap\(\) error](<#TransportError.Unwrap>)


## Constants

<a name="ErrCodeInvalidConfig"></a>Error codes for Transport operations

```go
const (
    // General errors
    ErrCodeInvalidConfig = "invalid_config"
    ErrCodeInternalError = "internal_error"
    ErrCodeInvalidInput  = "invalid_input"
    ErrCodeTimeout       = "timeout"

    // Connection errors
    ErrCodeNotConnected      = "not_connected"
    ErrCodeConnectionFailed  = "connection_failed"
    ErrCodeConnectionTimeout = "connection_timeout"
    ErrCodeDisconnected      = "disconnected"

    // Provider-specific errors
    ErrCodeUnsupportedProvider = "unsupported_provider"

    // Network errors
    ErrCodeNetworkError  = "network_error"
    ErrCodeProtocolError = "protocol_error"

    // Context errors
    ErrCodeContextCanceled = "context_canceled"
    ErrCodeContextTimeout  = "context_timeout"
)
```

<a name="AssertTransportInterface"></a>
## func [AssertTransportInterface](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L252>)

```go
func AssertTransportInterface(t *testing.T, transport iface.Transport)
```

AssertTransportInterface ensures that a type implements the Transport interface

<a name="InitMetrics"></a>
## func [InitMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/transport.go#L22>)

```go
func InitMetrics(meter metric.Meter)
```

InitMetrics initializes the global metrics instance

<a name="IsRetryableError"></a>
## func [IsRetryableError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L91>)

```go
func IsRetryableError(err error) bool
```

IsRetryableError checks if an error is retryable

<a name="NewProvider"></a>
## func [NewProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/transport.go#L35>)

```go
func NewProvider(ctx context.Context, providerName string, config *Config, opts ...ConfigOption) (iface.Transport, error)
```

NewProvider creates a new Transport provider instance based on the configuration. It uses the global registry to find and instantiate the appropriate provider.

<a name="AdvancedMockTransport"></a>
## type [AdvancedMockTransport](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L16-L33>)

AdvancedMockTransport provides a comprehensive mock implementation for testing

```go
type AdvancedMockTransport struct {
    mock.Mock
    // contains filtered or unexported fields
}
```

<a name="NewAdvancedMockTransport"></a>
### func [NewAdvancedMockTransport](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L36>)

```go
func NewAdvancedMockTransport(transportName string, opts ...MockOption) *AdvancedMockTransport
```

NewAdvancedMockTransport creates a new advanced mock with configurable behavior

<a name="AdvancedMockTransport.Close"></a>
### func \(\*AdvancedMockTransport\) [Close](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L218>)

```go
func (m *AdvancedMockTransport) Close() error
```

Close implements the Transport interface

<a name="AdvancedMockTransport.Connect"></a>
### func \(\*AdvancedMockTransport\) [Connect](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L99>)

```go
func (m *AdvancedMockTransport) Connect(ctx context.Context) error
```

Connect is a helper method for testing \(not part of the interface\)

<a name="AdvancedMockTransport.Disconnect"></a>
### func \(\*AdvancedMockTransport\) [Disconnect](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L129>)

```go
func (m *AdvancedMockTransport) Disconnect(ctx context.Context) error
```

Disconnect is a helper method for testing \(not part of the interface\)

<a name="AdvancedMockTransport.GetCallCount"></a>
### func \(\*AdvancedMockTransport\) [GetCallCount](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L245>)

```go
func (m *AdvancedMockTransport) GetCallCount() int
```

GetCallCount returns the number of times methods have been called

<a name="AdvancedMockTransport.IsConnected"></a>
### func \(\*AdvancedMockTransport\) [IsConnected](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L238>)

```go
func (m *AdvancedMockTransport) IsConnected() bool
```

IsConnected is a helper method for testing

<a name="AdvancedMockTransport.OnAudioReceived"></a>
### func \(\*AdvancedMockTransport\) [OnAudioReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L211>)

```go
func (m *AdvancedMockTransport) OnAudioReceived(callback func(audio []byte))
```

OnAudioReceived implements the Transport interface

<a name="AdvancedMockTransport.ReceiveAudio"></a>
### func \(\*AdvancedMockTransport\) [ReceiveAudio](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L186>)

```go
func (m *AdvancedMockTransport) ReceiveAudio() <-chan []byte
```

ReceiveAudio implements the Transport interface

<a name="AdvancedMockTransport.SendAudio"></a>
### func \(\*AdvancedMockTransport\) [SendAudio](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L149>)

```go
func (m *AdvancedMockTransport) SendAudio(ctx context.Context, audio []byte) error
```

SendAudio implements the Transport interface

<a name="Config"></a>
## type [Config](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L11-L45>)

Config represents the configuration for Transport providers. It includes common settings that apply to all Transport providers.

```go
type Config struct {
    // Provider specifies the Transport provider (e.g., "webrtc", "websocket", "sip")
    Provider string `mapstructure:"provider" yaml:"provider" validate:"required,oneof=webrtc websocket sip"`

    // URL specifies the connection URL
    URL string `mapstructure:"url" yaml:"url" validate:"required"`

    // AudioFormat specifies the audio format
    SampleRate int `mapstructure:"sample_rate" yaml:"sample_rate" default:"16000" validate:"oneof=8000 16000 22050 24000 32000 44100 48000"`
    Channels   int `mapstructure:"channels" yaml:"channels" default:"1" validate:"oneof=1 2"`
    BitDepth   int `mapstructure:"bit_depth" yaml:"bit_depth" default:"16" validate:"oneof=16 24 32"`

    // Codec specifies the audio codec (e.g., "pcm", "opus", "g711")
    Codec string `mapstructure:"codec" yaml:"codec" default:"pcm" validate:"oneof=pcm opus g711"`

    // Connection settings
    ConnectTimeout    time.Duration `mapstructure:"connect_timeout" yaml:"connect_timeout" default:"10s" validate:"min=1s,max=60s"`
    ReconnectAttempts int           `mapstructure:"reconnect_attempts" yaml:"reconnect_attempts" default:"3" validate:"gte=0,lte=10"`
    ReconnectDelay    time.Duration `mapstructure:"reconnect_delay" yaml:"reconnect_delay" default:"1s" validate:"min=100ms,max=30s"`

    // Buffer settings
    SendBufferSize    int `mapstructure:"send_buffer_size" yaml:"send_buffer_size" default:"4096" validate:"min=1024,max=65536"`
    ReceiveBufferSize int `mapstructure:"receive_buffer_size" yaml:"receive_buffer_size" default:"4096" validate:"min=1024,max=65536"`

    // Timeout for operations
    Timeout time.Duration `mapstructure:"timeout" yaml:"timeout" default:"30s" validate:"min=1s,max=5m"`

    // Provider-specific configuration
    ProviderSpecific map[string]interface{} `mapstructure:"provider_specific" yaml:"provider_specific"`

    // Observability settings
    EnableTracing           bool `mapstructure:"enable_tracing" yaml:"enable_tracing" default:"true"`
    EnableMetrics           bool `mapstructure:"enable_metrics" yaml:"enable_metrics" default:"true"`
    EnableStructuredLogging bool `mapstructure:"enable_structured_logging" yaml:"enable_structured_logging" default:"true"`
}
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L99>)

```go
func DefaultConfig() *Config
```

DefaultConfig returns a default configuration

<a name="Config.Validate"></a>
### func \(\*Config\) [Validate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L93>)

```go
func (c *Config) Validate() error
```

Validate validates the configuration

<a name="ConfigOption"></a>
## type [ConfigOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L48>)

ConfigOption is a functional option for configuring Transport instances

```go
type ConfigOption func(*Config)
```

<a name="WithChannels"></a>
### func [WithChannels](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L72>)

```go
func WithChannels(channels int) ConfigOption
```

WithChannels sets the number of channels

<a name="WithCodec"></a>
### func [WithCodec](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L79>)

```go
func WithCodec(codec string) ConfigOption
```

WithCodec sets the audio codec

<a name="WithConnectTimeout"></a>
### func [WithConnectTimeout](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L86>)

```go
func WithConnectTimeout(timeout time.Duration) ConfigOption
```

WithConnectTimeout sets the connection timeout

<a name="WithProvider"></a>
### func [WithProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L51>)

```go
func WithProvider(provider string) ConfigOption
```

WithProvider sets the Transport provider

<a name="WithSampleRate"></a>
### func [WithSampleRate](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L65>)

```go
func WithSampleRate(sampleRate int) ConfigOption
```

WithSampleRate sets the sample rate

<a name="WithURL"></a>
### func [WithURL](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/config.go#L58>)

```go
func WithURL(url string) ConfigOption
```

WithURL sets the connection URL

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L56-L66>)

Metrics contains all the metrics for Transport operations

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="GetMetrics"></a>
### func [GetMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/transport.go#L29>)

```go
func GetMetrics() *Metrics
```

GetMetrics returns the global metrics instance

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L69>)

```go
func NewMetrics(meter metric.Meter) *Metrics
```

NewMetrics creates a new Metrics instance

<a name="Metrics.DecrementConnections"></a>
### func \(\*Metrics\) [DecrementConnections](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L144>)

```go
func (m *Metrics) DecrementConnections(ctx context.Context, provider string)
```

DecrementConnections decrements the active connections counter

<a name="Metrics.IncrementConnections"></a>
### func \(\*Metrics\) [IncrementConnections](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L136>)

```go
func (m *Metrics) IncrementConnections(ctx context.Context, provider string)
```

IncrementConnections increments the active connections counter

<a name="Metrics.RecordAudioReceived"></a>
### func \(\*Metrics\) [RecordAudioReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L117>)

```go
func (m *Metrics) RecordAudioReceived(ctx context.Context, provider string, bytes int64)
```

RecordAudioReceived records audio received

<a name="Metrics.RecordAudioSent"></a>
### func \(\*Metrics\) [RecordAudioSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L108>)

```go
func (m *Metrics) RecordAudioSent(ctx context.Context, provider string, bytes int64)
```

RecordAudioSent records audio sent

<a name="Metrics.RecordConnection"></a>
### func \(\*Metrics\) [RecordConnection](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L86>)

```go
func (m *Metrics) RecordConnection(ctx context.Context, provider string, duration time.Duration, success bool)
```

RecordConnection records a connection operation

<a name="Metrics.RecordDisconnection"></a>
### func \(\*Metrics\) [RecordDisconnection](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L99>)

```go
func (m *Metrics) RecordDisconnection(ctx context.Context, provider string, duration time.Duration)
```

RecordDisconnection records a disconnection operation

<a name="Metrics.RecordError"></a>
### func \(\*Metrics\) [RecordError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L126>)

```go
func (m *Metrics) RecordError(ctx context.Context, provider, errorCode string, duration time.Duration)
```

RecordError records an error

<a name="MetricsRecorder"></a>
## type [MetricsRecorder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L11-L19>)

MetricsRecorder defines the interface for recording metrics

```go
type MetricsRecorder interface {
    RecordConnection(ctx context.Context, provider string, duration time.Duration, success bool)
    RecordDisconnection(ctx context.Context, provider string, duration time.Duration)
    RecordAudioSent(ctx context.Context, provider string, bytes int64)
    RecordAudioReceived(ctx context.Context, provider string, bytes int64)
    RecordError(ctx context.Context, provider, errorCode string, duration time.Duration)
    IncrementConnections(ctx context.Context, provider string)
    DecrementConnections(ctx context.Context, provider string)
}
```

<a name="MockOption"></a>
## type [MockOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L53>)

MockOption configures the behavior of AdvancedMockTransport

```go
type MockOption func(*AdvancedMockTransport)
```

<a name="WithAudioData"></a>
### func [WithAudioData](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L63>)

```go
func WithAudioData(data ...[]byte) MockOption
```

WithAudioData sets the audio data to return

<a name="WithConnected"></a>
### func [WithConnected](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L92>)

```go
func WithConnected(connected bool) MockOption
```

WithConnected sets the connection state

<a name="WithError"></a>
### func [WithError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L70>)

```go
func WithError(err error) MockOption
```

WithError configures the mock to return an error

<a name="WithNetworkDelay"></a>
### func [WithNetworkDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L85>)

```go
func WithNetworkDelay(enabled bool) MockOption
```

WithNetworkDelay enables network delay simulation

<a name="WithProcessingDelay"></a>
### func [WithProcessingDelay](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L78>)

```go
func WithProcessingDelay(delay time.Duration) MockOption
```

WithProcessingDelay sets the delay for processing

<a name="WithTransportName"></a>
### func [WithTransportName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/test_utils.go#L56>)

```go
func WithTransportName(name string) MockOption
```

WithTransportName sets the transport name

<a name="NoOpMetrics"></a>
## type [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L22>)

NoOpMetrics provides a no\-operation implementation for when metrics are disabled

```go
type NoOpMetrics struct{}
```

<a name="NewNoOpMetrics"></a>
### func [NewNoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L25>)

```go
func NewNoOpMetrics() *NoOpMetrics
```

NewNoOpMetrics creates a new no\-operation metrics recorder

<a name="NoOpMetrics.DecrementConnections"></a>
### func \(\*NoOpMetrics\) [DecrementConnections](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L53>)

```go
func (n *NoOpMetrics) DecrementConnections(ctx context.Context, provider string)
```

DecrementConnections is a no\-op implementation

<a name="NoOpMetrics.IncrementConnections"></a>
### func \(\*NoOpMetrics\) [IncrementConnections](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L50>)

```go
func (n *NoOpMetrics) IncrementConnections(ctx context.Context, provider string)
```

IncrementConnections is a no\-op implementation

<a name="NoOpMetrics.RecordAudioReceived"></a>
### func \(\*NoOpMetrics\) [RecordAudioReceived](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L42>)

```go
func (n *NoOpMetrics) RecordAudioReceived(ctx context.Context, provider string, bytes int64)
```

RecordAudioReceived is a no\-op implementation

<a name="NoOpMetrics.RecordAudioSent"></a>
### func \(\*NoOpMetrics\) [RecordAudioSent](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L38>)

```go
func (n *NoOpMetrics) RecordAudioSent(ctx context.Context, provider string, bytes int64)
```

RecordAudioSent is a no\-op implementation

<a name="NoOpMetrics.RecordConnection"></a>
### func \(\*NoOpMetrics\) [RecordConnection](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L30>)

```go
func (n *NoOpMetrics) RecordConnection(ctx context.Context, provider string, duration time.Duration, success bool)
```

RecordConnection is a no\-op implementation

<a name="NoOpMetrics.RecordDisconnection"></a>
### func \(\*NoOpMetrics\) [RecordDisconnection](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L34>)

```go
func (n *NoOpMetrics) RecordDisconnection(ctx context.Context, provider string, duration time.Duration)
```

RecordDisconnection is a no\-op implementation

<a name="NoOpMetrics.RecordError"></a>
### func \(\*NoOpMetrics\) [RecordError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/metrics.go#L46>)

```go
func (n *NoOpMetrics) RecordError(ctx context.Context, provider, errorCode string, duration time.Duration)
```

RecordError is a no\-op implementation

<a name="Registry"></a>
## type [Registry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L17-L20>)

Registry manages Transport provider registration and retrieval

```go
type Registry struct {
    // contains filtered or unexported fields
}
```

<a name="GetRegistry"></a>
### func [GetRegistry](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L23>)

```go
func GetRegistry() *Registry
```

GetRegistry returns the global registry instance

<a name="Registry.GetProvider"></a>
### func \(\*Registry\) [GetProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L40>)

```go
func (r *Registry) GetProvider(name string, config *Config) (iface.Transport, error)
```

GetProvider returns a provider instance for the given name

<a name="Registry.IsRegistered"></a>
### func \(\*Registry\) [IsRegistered](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L66>)

```go
func (r *Registry) IsRegistered(name string) bool
```

IsRegistered checks if a provider is registered

<a name="Registry.ListProviders"></a>
### func \(\*Registry\) [ListProviders](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L54>)

```go
func (r *Registry) ListProviders() []string
```

ListProviders returns a list of all registered provider names

<a name="Registry.Register"></a>
### func \(\*Registry\) [Register](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/registry.go#L33>)

```go
func (r *Registry) Register(name string, factory func(*Config) (iface.Transport, error))
```

Register registers a provider factory function

<a name="TransportError"></a>
## type [TransportError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L36-L42>)

TransportError represents an error that occurred during Transport operations. It includes an operation name, underlying error, and error code for programmatic handling.

```go
type TransportError struct {
    Op      string                 // Operation that failed (e.g., "Connect", "SendAudio")
    Err     error                  // Underlying error
    Code    string                 // Error code for programmatic handling
    Message string                 // Human-readable error message
    Details map[string]interface{} // Additional error details
}
```

<a name="NewTransportError"></a>
### func [NewTransportError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L61>)

```go
func NewTransportError(op, code string, err error) *TransportError
```

NewTransportError creates a new TransportError

<a name="NewTransportErrorWithDetails"></a>
### func [NewTransportErrorWithDetails](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L80>)

```go
func NewTransportErrorWithDetails(op, code, message string, err error, details map[string]interface{}) *TransportError
```

NewTransportErrorWithDetails creates a new TransportError with additional details

<a name="NewTransportErrorWithMessage"></a>
### func [NewTransportErrorWithMessage](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L70>)

```go
func NewTransportErrorWithMessage(op, code, message string, err error) *TransportError
```

NewTransportErrorWithMessage creates a new TransportError with a custom message

<a name="TransportError.Error"></a>
### func \(\*TransportError\) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L45>)

```go
func (e *TransportError) Error() string
```

Error implements the error interface

<a name="TransportError.Unwrap"></a>
### func \(\*TransportError\) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/voice/transport/errors.go#L56>)

```go
func (e *TransportError) Unwrap() error
```

Unwrap returns the underlying error

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
