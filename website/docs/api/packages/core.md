---
title: core
sidebar_position: 1
---

<!-- Code generated by gomarkdoc. DO NOT EDIT -->


# core

```go
import "github.com/lookatitude/beluga-ai/pkg/core"
```

Package core provides standardized error handling for the Beluga AI framework.

Package core provides metrics definitions for the Beluga AI framework. It defines standard metrics for Runnable executions and other core operations.

Package core defines fundamental interfaces and types used throughout the Beluga\-ai framework.

Package core provides tracing and metrics instrumentation for Runnable components.

## Index

- [func AsFrameworkError\(err error, target \*\*FrameworkError\) bool](<#AsFrameworkError>)
- [func IsErrorType\(err error, errorType ErrorType\) bool](<#IsErrorType>)
- [func UnwrapError\(err error\) error](<#UnwrapError>)
- [func WrapError\(err error, message string\) error](<#WrapError>)
- [type Builder](<#Builder>)
  - [func NewBuilder\(container Container\) \*Builder](<#NewBuilder>)
  - [func \(b \*Builder\) Build\(target interface\{\}\) error](<#Builder.Build>)
  - [func \(b \*Builder\) Register\(factoryFunc interface\{\}\) error](<#Builder.Register>)
  - [func \(b \*Builder\) RegisterLogger\(factory func\(\) Logger\) error](<#Builder.RegisterLogger>)
  - [func \(b \*Builder\) RegisterMeterProvider\(factory func\(\) MeterProvider\) error](<#Builder.RegisterMeterProvider>)
  - [func \(b \*Builder\) RegisterMetrics\(factory func\(\) \(\*Metrics, error\)\) error](<#Builder.RegisterMetrics>)
  - [func \(b \*Builder\) RegisterNoOpLogger\(\) error](<#Builder.RegisterNoOpLogger>)
  - [func \(b \*Builder\) RegisterNoOpMetrics\(\) error](<#Builder.RegisterNoOpMetrics>)
  - [func \(b \*Builder\) RegisterNoOpTracerProvider\(\) error](<#Builder.RegisterNoOpTracerProvider>)
  - [func \(b \*Builder\) RegisterTracerProvider\(factory func\(\) TracerProvider\) error](<#Builder.RegisterTracerProvider>)
  - [func \(b \*Builder\) Singleton\(instance interface\{\}\)](<#Builder.Singleton>)
  - [func \(b \*Builder\) WithLogger\(logger Logger\) \*Builder](<#Builder.WithLogger>)
  - [func \(b \*Builder\) WithTracerProvider\(tracerProvider TracerProvider\) \*Builder](<#Builder.WithTracerProvider>)
- [type Container](<#Container>)
  - [func NewContainer\(\) Container](<#NewContainer>)
  - [func NewContainerWithOptions\(opts ...DIOption\) Container](<#NewContainerWithOptions>)
- [type DIOption](<#DIOption>)
  - [func DefaultContainer\(\) DIOption](<#DefaultContainer>)
  - [func WithContainer\(container Container\) DIOption](<#WithContainer>)
  - [func WithLogger\(logger Logger\) DIOption](<#WithLogger>)
  - [func WithTracerProvider\(tracerProvider TracerProvider\) DIOption](<#WithTracerProvider>)
- [type ErrorCode](<#ErrorCode>)
- [type ErrorType](<#ErrorType>)
- [type FrameworkError](<#FrameworkError>)
  - [func NewAuthenticationError\(message string, cause error\) \*FrameworkError](<#NewAuthenticationError>)
  - [func NewConfigurationError\(message string, cause error\) \*FrameworkError](<#NewConfigurationError>)
  - [func NewFrameworkErrorWithCode\(errorType ErrorType, code ErrorCode, message string, cause error\) \*FrameworkError](<#NewFrameworkErrorWithCode>)
  - [func NewInternalError\(message string, cause error\) \*FrameworkError](<#NewInternalError>)
  - [func NewNetworkError\(message string, cause error\) \*FrameworkError](<#NewNetworkError>)
  - [func NewValidationError\(message string, cause error\) \*FrameworkError](<#NewValidationError>)
  - [func \(e \*FrameworkError\) AddContext\(key string, value interface\{\}\) \*FrameworkError](<#FrameworkError.AddContext>)
  - [func \(e \*FrameworkError\) Error\(\) string](<#FrameworkError.Error>)
  - [func \(e \*FrameworkError\) Unwrap\(\) error](<#FrameworkError.Unwrap>)
- [type HealthChecker](<#HealthChecker>)
- [type Loader](<#Loader>)
- [type Logger](<#Logger>)
- [type MeterProvider](<#MeterProvider>)
- [type Metrics](<#Metrics>)
  - [func NewMetrics\(meter metric.Meter\) \(\*Metrics, error\)](<#NewMetrics>)
  - [func NoOpMetrics\(\) \*Metrics](<#NoOpMetrics>)
  - [func \(m \*Metrics\) RecordRunnableBatch\(ctx context.Context, componentType string, batchSize int, duration time.Duration, err error\)](<#Metrics.RecordRunnableBatch>)
  - [func \(m \*Metrics\) RecordRunnableInvoke\(ctx context.Context, componentType string, duration time.Duration, err error\)](<#Metrics.RecordRunnableInvoke>)
  - [func \(m \*Metrics\) RecordRunnableStream\(ctx context.Context, componentType string, duration time.Duration, chunkCount int, err error\)](<#Metrics.RecordRunnableStream>)
- [type Option](<#Option>)
  - [func WithOption\(key string, value any\) Option](<#WithOption>)
- [type Retriever](<#Retriever>)
- [type Runnable](<#Runnable>)
  - [func RunnableWithTracing\(runnable Runnable, tracer trace.Tracer, metrics \*Metrics, componentType string\) Runnable](<#RunnableWithTracing>)
  - [func RunnableWithTracingAndName\(runnable Runnable, tracer trace.Tracer, metrics \*Metrics, componentType string, componentName string\) Runnable](<#RunnableWithTracingAndName>)
- [type TracedRunnable](<#TracedRunnable>)
  - [func NewTracedRunnable\(runnable Runnable, tracer trace.Tracer, metrics \*Metrics, componentType string, componentName string\) \*TracedRunnable](<#NewTracedRunnable>)
  - [func \(tr \*TracedRunnable\) Batch\(ctx context.Context, inputs \[\]any, options ...Option\) \(\[\]any, error\)](<#TracedRunnable.Batch>)
  - [func \(tr \*TracedRunnable\) Invoke\(ctx context.Context, input any, options ...Option\) \(any, error\)](<#TracedRunnable.Invoke>)
  - [func \(tr \*TracedRunnable\) Stream\(ctx context.Context, input any, options ...Option\) \(\<\-chan any, error\)](<#TracedRunnable.Stream>)
- [type TracerProvider](<#TracerProvider>)

<a name="AsFrameworkError"></a>
## func [AsFrameworkError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L111>)

```go
func AsFrameworkError(err error, target **FrameworkError) bool
```

AsFrameworkError attempts to convert an error to a FrameworkError.

<a name="IsErrorType"></a>
## func [IsErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L102>)

```go
func IsErrorType(err error, errorType ErrorType) bool
```

IsErrorType checks if an error is of a specific FrameworkError type.

<a name="UnwrapError"></a>
## func [UnwrapError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L130>)

```go
func UnwrapError(err error) error
```

UnwrapError unwraps an error to get its underlying cause. This is a compatibility function for Go versions before 1.13.

<a name="WrapError"></a>
## func [WrapError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L138>)

```go
func WrapError(err error, message string) error
```

WrapError wraps an error with additional context.

<a name="Builder"></a>
## type [Builder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L393-L395>)

Builder provides a fluent interface for building objects with DI

```go
type Builder struct {
    // contains filtered or unexported fields
}
```

<a name="NewBuilder"></a>
### func [NewBuilder](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L398>)

```go
func NewBuilder(container Container) *Builder
```

NewBuilder creates a new builder with the given container

<a name="Builder.Build"></a>
### func \(\*Builder\) [Build](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L403>)

```go
func (b *Builder) Build(target interface{}) error
```

Build builds an object using the registered factory

<a name="Builder.Register"></a>
### func \(\*Builder\) [Register](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L408>)

```go
func (b *Builder) Register(factoryFunc interface{}) error
```

Register registers a factory function

<a name="Builder.RegisterLogger"></a>
### func \(\*Builder\) [RegisterLogger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L442>)

```go
func (b *Builder) RegisterLogger(factory func() Logger) error
```

RegisterLogger registers a logger factory function

<a name="Builder.RegisterMeterProvider"></a>
### func \(\*Builder\) [RegisterMeterProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L468>)

```go
func (b *Builder) RegisterMeterProvider(factory func() MeterProvider) error
```

RegisterMeterProvider registers a meter provider factory function

<a name="Builder.RegisterMetrics"></a>
### func \(\*Builder\) [RegisterMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L473>)

```go
func (b *Builder) RegisterMetrics(factory func() (*Metrics, error)) error
```

RegisterMetrics registers a metrics factory function

<a name="Builder.RegisterNoOpLogger"></a>
### func \(\*Builder\) [RegisterNoOpLogger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L478>)

```go
func (b *Builder) RegisterNoOpLogger() error
```

RegisterNoOpLogger registers a no\-op logger \(useful for testing\)

<a name="Builder.RegisterNoOpMetrics"></a>
### func \(\*Builder\) [RegisterNoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L488>)

```go
func (b *Builder) RegisterNoOpMetrics() error
```

RegisterNoOpMetrics registers no\-op metrics

<a name="Builder.RegisterNoOpTracerProvider"></a>
### func \(\*Builder\) [RegisterNoOpTracerProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L483>)

```go
func (b *Builder) RegisterNoOpTracerProvider() error
```

RegisterNoOpTracerProvider registers a no\-op tracer provider

<a name="Builder.RegisterTracerProvider"></a>
### func \(\*Builder\) [RegisterTracerProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L447>)

```go
func (b *Builder) RegisterTracerProvider(factory func() TracerProvider) error
```

RegisterTracerProvider registers a tracer provider factory function

<a name="Builder.Singleton"></a>
### func \(\*Builder\) [Singleton](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L413>)

```go
func (b *Builder) Singleton(instance interface{})
```

Singleton registers a singleton instance

<a name="Builder.WithLogger"></a>
### func \(\*Builder\) [WithLogger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L452>)

```go
func (b *Builder) WithLogger(logger Logger) *Builder
```

WithLogger sets the logger for the container \(if supported\)

<a name="Builder.WithTracerProvider"></a>
### func \(\*Builder\) [WithTracerProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L460>)

```go
func (b *Builder) WithTracerProvider(tracerProvider TracerProvider) *Builder
```

WithTracerProvider sets the tracer provider for the container \(if supported\)

<a name="Container"></a>
## type [Container](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L16-L37>)

Container represents a dependency injection container

```go
type Container interface {
    // Register registers a factory function for a type
    Register(factoryFunc interface{}) error

    // Resolve resolves a dependency by type
    Resolve(target interface{}) error

    // MustResolve resolves a dependency or panics
    MustResolve(target interface{})

    // Has checks if a type is registered
    Has(typ reflect.Type) bool

    // Clear removes all registered dependencies
    Clear()

    // Singleton registers a singleton instance
    Singleton(instance interface{})

    // HealthChecker provides health check functionality
    HealthChecker
}
```

<a name="NewContainer"></a>
### func [NewContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L51>)

```go
func NewContainer() Container
```

NewContainer creates a new dependency injection container with no\-op monitoring

<a name="NewContainerWithOptions"></a>
### func [NewContainerWithOptions](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L61>)

```go
func NewContainerWithOptions(opts ...DIOption) Container
```

NewContainerWithOptions creates a new dependency injection container with custom options

<a name="DIOption"></a>
## type [DIOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L358>)

DIOption represents a functional option for DI configuration

```go
type DIOption func(*optionConfig)
```

<a name="DefaultContainer"></a>
### func [DefaultContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L388>)

```go
func DefaultContainer() DIOption
```

DefaultContainer returns the default container option

<a name="WithContainer"></a>
### func [WithContainer](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L367>)

```go
func WithContainer(container Container) DIOption
```

WithContainer sets the DI container

<a name="WithLogger"></a>
### func [WithLogger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L374>)

```go
func WithLogger(logger Logger) DIOption
```

WithLogger sets the logger for the DI container

<a name="WithTracerProvider"></a>
### func [WithTracerProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L381>)

```go
func WithTracerProvider(tracerProvider TracerProvider) DIOption
```

WithTracerProvider sets the tracer provider for the DI container

<a name="ErrorCode"></a>
## type [ErrorCode](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L150>)

ErrorCode represents standardized error codes for programmatic error handling.

```go
type ErrorCode string
```

<a name="ErrorCodeInvalidInput"></a>

```go
const (
    // ErrorCodeInvalidInput indicates invalid input parameters
    ErrorCodeInvalidInput ErrorCode = "INVALID_INPUT"

    // ErrorCodeNotFound indicates a resource was not found
    ErrorCodeNotFound ErrorCode = "NOT_FOUND"

    // ErrorCodeUnauthorized indicates unauthorized access
    ErrorCodeUnauthorized ErrorCode = "UNAUTHORIZED"

    // ErrorCodeTimeout indicates a timeout occurred
    ErrorCodeTimeout ErrorCode = "TIMEOUT"

    // ErrorCodeRateLimited indicates rate limiting was applied
    ErrorCodeRateLimited ErrorCode = "RATE_LIMITED"

    // ErrorCodeInternalError indicates an internal system error
    ErrorCodeInternalError ErrorCode = "INTERNAL_ERROR"
)
```

<a name="ErrorType"></a>
## type [ErrorType](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L9>)

ErrorType represents different categories of errors in the framework.

```go
type ErrorType string
```

<a name="ErrorTypeValidation"></a>

```go
const (
    // ErrorTypeValidation indicates validation-related errors (invalid input, configuration, etc.)
    ErrorTypeValidation ErrorType = "validation"

    // ErrorTypeNetwork indicates network-related errors (connection failures, timeouts, etc.)
    ErrorTypeNetwork ErrorType = "network"

    // ErrorTypeAuthentication indicates authentication/authorization errors
    ErrorTypeAuthentication ErrorType = "authentication"

    // ErrorTypeRateLimit indicates rate limiting errors
    ErrorTypeRateLimit ErrorType = "rate_limit"

    // ErrorTypeInternal indicates internal system errors
    ErrorTypeInternal ErrorType = "internal"

    // ErrorTypeExternal indicates errors from external services/APIs
    ErrorTypeExternal ErrorType = "external"

    // ErrorTypeConfiguration indicates configuration-related errors
    ErrorTypeConfiguration ErrorType = "configuration"
)
```

<a name="FrameworkError"></a>
## type [FrameworkError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L35-L41>)

FrameworkError represents a standardized error in the Beluga AI framework.

```go
type FrameworkError struct {
    Type    ErrorType
    Message string
    Cause   error
    Code    string                 // Optional error code for programmatic handling
    Context map[string]interface{} // Additional context information
}
```

<a name="NewAuthenticationError"></a>
### func [NewAuthenticationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L75>)

```go
func NewAuthenticationError(message string, cause error) *FrameworkError
```

NewAuthenticationError creates a new authentication error.

<a name="NewConfigurationError"></a>
### func [NewConfigurationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L93>)

```go
func NewConfigurationError(message string, cause error) *FrameworkError
```

NewConfigurationError creates a new configuration error.

<a name="NewFrameworkErrorWithCode"></a>
### func [NewFrameworkErrorWithCode](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L173>)

```go
func NewFrameworkErrorWithCode(errorType ErrorType, code ErrorCode, message string, cause error) *FrameworkError
```

NewFrameworkErrorWithCode creates a FrameworkError with a specific error code.

<a name="NewInternalError"></a>
### func [NewInternalError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L84>)

```go
func NewInternalError(message string, cause error) *FrameworkError
```

NewInternalError creates a new internal error.

<a name="NewNetworkError"></a>
### func [NewNetworkError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L66>)

```go
func NewNetworkError(message string, cause error) *FrameworkError
```

NewNetworkError creates a new network error.

<a name="NewValidationError"></a>
### func [NewValidationError](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L57>)

```go
func NewValidationError(message string, cause error) *FrameworkError
```

NewValidationError creates a new validation error.

<a name="FrameworkError.AddContext"></a>
### func \(\*FrameworkError\) [AddContext](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L184>)

```go
func (e *FrameworkError) AddContext(key string, value interface{}) *FrameworkError
```

AddContext adds context information to a FrameworkError.

<a name="FrameworkError.Error"></a>
### func \(\*FrameworkError\) [Error](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L44>)

```go
func (e *FrameworkError) Error() string
```

Error implements the error interface.

<a name="FrameworkError.Unwrap"></a>
### func \(\*FrameworkError\) [Unwrap](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/errors.go#L52>)

```go
func (e *FrameworkError) Unwrap() error
```

Unwrap returns the underlying cause of the error.

<a name="HealthChecker"></a>
## type [HealthChecker](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/interfaces.go#L37-L40>)

HealthChecker defines the interface for components that can report their health status.

```go
type HealthChecker interface {
    // CheckHealth performs a health check and returns an error if the component is unhealthy.
    CheckHealth(ctx context.Context) error
}
```

<a name="Loader"></a>
## type [Loader](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/interfaces.go#L14-L23>)

Loader defines the interface for loading documents from various sources. Loaders are responsible for reading data from files, databases, APIs, etc. and converting it into a standardized format \(schema.Document\).

```go
type Loader interface {
    // Load reads all data from the source and returns it as a slice of Documents.
    Load(ctx context.Context) ([]schema.Document, error)
    // LazyLoad provides an alternative way to load data, returning a channel that yields
    // documents one by one as they become available.
    // This is useful for large datasets or sources where loading everything at once is inefficient.
    // Errors encountered during loading should be sent on the channel.
    // The channel yields items of type schema.Document or error.
    LazyLoad(ctx context.Context) (<-chan any, error)
}
```

<a name="Logger"></a>
## type [Logger](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L422-L428>)

Logger interface for structured logging

```go
type Logger interface {
    Debug(msg string, args ...interface{})
    Info(msg string, args ...interface{})
    Warn(msg string, args ...interface{})
    Error(msg string, args ...interface{})
    With(args ...interface{}) Logger
}
```

<a name="MeterProvider"></a>
## type [MeterProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L436-L438>)

MeterProvider interface for metrics collection

```go
type MeterProvider interface {
    Meter(name string, opts ...metric.MeterOption) metric.Meter
}
```

<a name="Metrics"></a>
## type [Metrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L14-L29>)

Metrics holds the metric instruments for core operations.

```go
type Metrics struct {
    // contains filtered or unexported fields
}
```

<a name="NewMetrics"></a>
### func [NewMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L32>)

```go
func NewMetrics(meter metric.Meter) (*Metrics, error)
```

NewMetrics creates a new Metrics instance with registered instruments.

<a name="NoOpMetrics"></a>
### func [NoOpMetrics](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L210>)

```go
func NoOpMetrics() *Metrics
```

NoOpMetrics returns a metrics instance that does nothing. Useful for testing or when metrics are disabled.

<a name="Metrics.RecordRunnableBatch"></a>
### func \(\*Metrics\) [RecordRunnableBatch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L151>)

```go
func (m *Metrics) RecordRunnableBatch(ctx context.Context, componentType string, batchSize int, duration time.Duration, err error)
```

RecordRunnableBatch records metrics for a Runnable.Batch operation.

<a name="Metrics.RecordRunnableInvoke"></a>
### func \(\*Metrics\) [RecordRunnableInvoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L128>)

```go
func (m *Metrics) RecordRunnableInvoke(ctx context.Context, componentType string, duration time.Duration, err error)
```

RecordRunnableInvoke records metrics for a Runnable.Invoke operation.

<a name="Metrics.RecordRunnableStream"></a>
### func \(\*Metrics\) [RecordRunnableStream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/metrics.go#L180>)

```go
func (m *Metrics) RecordRunnableStream(ctx context.Context, componentType string, duration time.Duration, chunkCount int, err error)
```

RecordRunnableStream records metrics for a Runnable.Stream operation.

<a name="Option"></a>
## type [Option](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/runnable.go#L9-L13>)

Option defines the interface for configuration options passed to Runnable methods. Specific options \(like Temperature, MaxTokens, Callbacks\) will implement this interface to modify the behavior of Runnable components during execution.

```go
type Option interface {
    // Apply modifies a configuration map. Implementations should add or update
    // key-value pairs relevant to their specific option.
    Apply(config *map[string]any)
}
```

<a name="WithOption"></a>
### func [WithOption](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/runnable.go#L26>)

```go
func WithOption(key string, value any) Option
```

WithOption creates a new Option that sets a specific key\-value pair in the configuration map. This is a convenient way to create ad\-hoc options for Runnables.

<a name="Retriever"></a>
## type [Retriever](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/interfaces.go#L29-L34>)

Retriever defines a generic interface for fetching relevant documents based on a query string. While often backed by a VectorStore, retrievers can implement other strategies \(e.g., keyword search, database lookups, hybrid approaches\). Retrievers implement the Runnable interface, making them easily pluggable into chains.

```go
type Retriever interface {
    Runnable // Input: string (query), Output: []schema.Document

    // GetRelevantDocuments retrieves documents considered relevant to the given query string.
    GetRelevantDocuments(ctx context.Context, query string) ([]schema.Document, error)
}
```

<a name="Runnable"></a>
## type [Runnable](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/runnable.go#L37-L66>)

Runnable is the central abstraction in Beluga\-ai, inspired by LangChain. It represents a component that can be invoked with input to produce output. Most components, including LLMs, PromptTemplates, Tools, Retrievers, Agents, Chains, and Graphs, are designed to implement this interface. This provides a unified way to compose and execute different parts of an AI application.

```go
type Runnable interface {
    // Invoke executes the runnable component with a single input and returns a single output.
    // It is the primary method for synchronous execution.
    // `ctx` allows for cancellation and passing request-scoped values.
    // `input` is the data passed to the component.
    // `options` provide configuration specific to this invocation (e.g., LLM temperature).
    Invoke(ctx context.Context, input any, options ...Option) (any, error)

    // Batch executes the runnable component with multiple inputs concurrently or sequentially,
    // returning a corresponding list of outputs.
    // This can offer performance benefits for components that support batch processing.
    // `ctx` allows for cancellation.
    // `inputs` is a slice of input data.
    // `options` provide configuration for the batch execution.
    Batch(ctx context.Context, inputs []any, options ...Option) ([]any, error)

    // Stream executes the runnable component with a single input and returns a channel
    // from which output chunks can be read asynchronously.
    // This is useful for components like LLMs that can produce output incrementally.
    // The channel should be closed by the implementation when the stream is complete.
    // Any error encountered during streaming should be sent as the last item on the channel
    // before closing it.
    // `ctx` allows for cancellation.
    // `input` is the data passed to the component.
    // `options` provide configuration for the streaming execution.
    Stream(ctx context.Context, input any, options ...Option) (<-chan any, error)
}
```

<a name="RunnableWithTracing"></a>
### func [RunnableWithTracing](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L162-L167>)

```go
func RunnableWithTracing(runnable Runnable, tracer trace.Tracer, metrics *Metrics, componentType string) Runnable
```

RunnableWithTracing is a helper function that creates a TracedRunnable with the given component information.

<a name="RunnableWithTracingAndName"></a>
### func [RunnableWithTracingAndName](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L173-L179>)

```go
func RunnableWithTracingAndName(runnable Runnable, tracer trace.Tracer, metrics *Metrics, componentType string, componentName string) Runnable
```

RunnableWithTracingAndName is a helper function that creates a TracedRunnable with the given component information including a name.

<a name="TracedRunnable"></a>
## type [TracedRunnable](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L15-L21>)

TracedRunnable wraps a Runnable with OpenTelemetry tracing and metrics.

```go
type TracedRunnable struct {
    // contains filtered or unexported fields
}
```

<a name="NewTracedRunnable"></a>
### func [NewTracedRunnable](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L25-L31>)

```go
func NewTracedRunnable(runnable Runnable, tracer trace.Tracer, metrics *Metrics, componentType string, componentName string) *TracedRunnable
```

NewTracedRunnable creates a new TracedRunnable that wraps the given Runnable with tracing and metrics instrumentation.

<a name="TracedRunnable.Batch"></a>
### func \(\*TracedRunnable\) [Batch](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L77>)

```go
func (tr *TracedRunnable) Batch(ctx context.Context, inputs []any, options ...Option) ([]any, error)
```

Batch executes the wrapped Runnable with tracing and metrics.

<a name="TracedRunnable.Invoke"></a>
### func \(\*TracedRunnable\) [Invoke](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L49>)

```go
func (tr *TracedRunnable) Invoke(ctx context.Context, input any, options ...Option) (any, error)
```

Invoke executes the wrapped Runnable with tracing and metrics.

<a name="TracedRunnable.Stream"></a>
### func \(\*TracedRunnable\) [Stream](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/traced_runnable.go#L106>)

```go
func (tr *TracedRunnable) Stream(ctx context.Context, input any, options ...Option) (<-chan any, error)
```

Stream executes the wrapped Runnable with tracing and metrics.

<a name="TracerProvider"></a>
## type [TracerProvider](<https://github.com/lookatitude/beluga-ai/blob/main/pkg/core/di.go#L431-L433>)

TracerProvider interface for distributed tracing

```go
type TracerProvider interface {
    Tracer(name string, opts ...trace.TracerOption) trace.Tracer
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
