name: PR Checks

on:
  pull_request:
    branches: [main]
    paths-ignore:
      - ".github/**"
      - ".claude/**"
      - "docs/website/**"

jobs:
  ci:
    name: CI Checks
    permissions:
      contents: read
    uses: ./.github/workflows/_ci-checks.yml
    secrets:
      SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

  security:
    name: Security Checks
    permissions:
      contents: read
      security-events: write
    uses: ./.github/workflows/_security-checks.yml
    secrets:
      SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
      GITLEAKS_LICENSE: ${{ secrets.GITLEAKS_LICENSE }}

